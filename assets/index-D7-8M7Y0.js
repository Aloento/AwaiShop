import{j as i,a4 as mn,B as Le,s as N,a6 as Fe,t as ge,b as Y,I as Te,r as $o,ao as hn,ap as I,h as xn,i as Cn,k as Nn,F as je,n as bn,o as Xe,M as ke,x as ve,aq as Z,y as Ae,z as we,E as v,a2 as Do,a3 as Io,a5 as jo,ar as _e,D as St,g as Rt,as as Po}from"./components-P3HMgWxx.js";import{r as p,g as Fo,a as Bo}from"./react-mhcLWgJf.js";import{L as c,a as w,b as O,c as G,d as $,e as A,f as Pe,g as F,h as _t,i as B,j as Ho,k as zo}from"./lexical-jWKiw7TX.js";import{F as En,B as Ln,d as Wo,D as Tn,S as Uo}from"./index-DQ4A6yrT.js";import{_ as Sn}from"./vendor-Cg4l60Qw.js";import{aA as Ko,aB as Yo,aC as Go,aD as Vo,aE as Xo,ap as U,a0 as Jo,aF as qo,aG as Zo,aH as Rn,aI as _n,aJ as Mn,aK as yn,aL as On,aM as kn,aN as Je,aO as vn,aP as Qo,aQ as Mt,aR as yt,aS as Ot,aT as kt,aU as vt,aV as At,aW as wt,aX as $t,aY as er,aZ as tr,a_ as nr,a$ as or,b0 as rr,b1 as ir,b2 as sr,b3 as lr,as as ar,b4 as cr,b5 as ur,b6 as dr,b7 as gr,b8 as Dt,b9 as pr,ba as fr,bb as mr,bc as hr,bd as xr}from"./fluentui-D10euT8-.js";import{f as An}from"./tools-BeP_WXzy.js";var wn={},et={},$n=p;let Dn=$n.createContext(null);et.LexicalComposerContext=Dn;et.createLexicalComposerContext=function(e,t){let n=null;return e!=null&&(n=e[1]),{getTheme:function(){return t??(n!=null?n.getTheme():null)}}};et.useLexicalComposerContext=function(){let e=$n.useContext(Dn);if(e==null)throw Error("Minified Lexical error #8; visit https://lexical.dev/docs/error?code=8 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return e};const Cr=et;var S=Cr,It=S,Oe=c,qe=p;let In=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";var Nr=In?qe.useLayoutEffect:qe.useEffect;let We={tag:"history-merge"};function br(e,t){if(t!==null){if(t===void 0)e.update(()=>{var n=Oe.$getRoot();if(n.isEmpty()){let o=Oe.$createParagraphNode();n.append(o),n=In?document.activeElement:null,(Oe.$getSelection()!==null||n!==null&&n===e.getRootElement())&&o.select()}},We);else if(t!==null)switch(typeof t){case"string":let n=e.parseEditorState(t);e.setEditorState(n,We);break;case"object":e.setEditorState(t,We);break;case"function":e.update(()=>{Oe.$getRoot().isEmpty()&&t(e)},We)}}}wn.LexicalComposer=function({initialConfig:e,children:t}){let n=qe.useMemo(()=>{const{theme:o,namespace:r,editor__DEPRECATED:s,nodes:l,onError:a,editorState:g}=e,d=It.createLexicalComposerContext(null,o);let u=s||null;if(u===null){const m=Oe.createEditor({editable:e.editable,namespace:r,nodes:l,onError:f=>a(f,m),theme:o});br(m,g),u=m}return[u,d]},[]);return Nr(()=>{let o=e.editable,[r]=n;r.setEditable(o!==void 0?o:!0)},[]),qe.createElement(It.LexicalComposerContext.Provider,{value:n},t)};const Er=wn;var Lr=Er;const Tr={CheckList:!0,ClickableLink:!0,CodeActionMenu:!0,CodeHighlight:!0,Collapsible:!0,HorizontalRule:!0,Images:!0,Link:!0,List:!0,Table:!0},Sr={Actions:!0,AutoFocus:!0,AutoLink:!0,CheckList:!0,ClickableLink:!0,CodeActionMenu:!0,CodeHighlight:!0,Collapsible:!0,DraggableBlock:!0,FloatingLinkEditor:!0,FloatingTextFormatToolbar:!0,HorizontalRule:!0,Images:!0,Link:!0,ListMaxIndentLevel:7,List:!0,MarkdownShortcut:!0,TabFocus:!0,TabIndentation:!0,Table:!0,Toolbar:!0},jn=p.createContext({});function Pn(){return p.useContext(jn)}function Rr({children:e,...t}){return i.jsx(jn.Provider,{value:t,children:e})}var Fn={},_r=S,Mr=p;Fn.AutoFocusPlugin=function({defaultSelection:e}){let[t]=_r.useLexicalComposerContext();return Mr.useEffect(()=>{t.focus(()=>{let n=document.activeElement,o=t.getRootElement();o===null||n!==null&&o.contains(n)||o.focus({preventScroll:!0})},{defaultSelection:e})},[e,t]),null};const yr=Fn;var jt=yr,Bn={},K=w,Or=S,Ze=O,D=c,kr=p;function Hn(e,t){let n=e.target;if(n!==null&&Ze.isHTMLElement(n)){var o=n.firstChild;(o==null||!Ze.isHTMLElement(o)||o.tagName!=="UL"&&o.tagName!=="OL")&&(o=n.parentNode)&&o.__lexicalListType==="check"&&(e=e.pageX,o=n.getBoundingClientRect(),(n.dir==="rtl"?e<o.right&&e>o.right-20:e>o.left&&e<o.left+20)&&t())}}function Pt(e){Hn(e,()=>{let t=e.target,n=vr(t);n!=null&&n.isEditable()&&n.update(()=>{if(e.target){let o=D.$getNearestNodeFromDOMNode(t);K.$isListItemNode(o)&&(t.focus(),o.toggleChecked())}})})}function Ft(e){Hn(e,()=>{e.preventDefault()})}function vr(e){for(;e;){if(e.__lexicalEditor)return e.__lexicalEditor;e=e.parentNode}return null}function at(){let e=document.activeElement;return e!=null&&e.tagName==="LI"&&e.parentNode!=null&&e.parentNode.__lexicalListType==="check"?e:null}function Ar(e,t){let n=t?e.getPreviousSibling():e.getNextSibling();for(;n==null&&K.$isListItemNode(e);)e=e.getParentOrThrow().getParent(),e!=null&&(n=t?e.getPreviousSibling():e.getNextSibling());for(;K.$isListItemNode(n);){if(e=t?n.getLastChild():n.getFirstChild(),!K.$isListNode(e))return n;n=t?e.getLastChild():e.getFirstChild()}return null}function Bt(e,t,n){let o=at();return o!=null&&t.update(()=>{var r=D.$getNearestNodeFromDOMNode(o);if(K.$isListItemNode(r)&&(r=Ar(r,n),r!=null)){r.selectStart();let s=t.getElementByKey(r.__key);s!=null&&(e.preventDefault(),setTimeout(()=>{s.focus()},0))}}),!1}Bn.CheckListPlugin=function(){let[e]=Or.useLexicalComposerContext();return kr.useEffect(()=>Ze.mergeRegister(e.registerCommand(K.INSERT_CHECK_LIST_COMMAND,()=>(K.insertList(e,"check"),!0),D.COMMAND_PRIORITY_LOW),e.registerCommand(D.KEY_ARROW_DOWN_COMMAND,t=>Bt(t,e,!1),D.COMMAND_PRIORITY_LOW),e.registerCommand(D.KEY_ARROW_UP_COMMAND,t=>Bt(t,e,!0),D.COMMAND_PRIORITY_LOW),e.registerCommand(D.KEY_ESCAPE_COMMAND,()=>{if(at()!=null){let t=e.getRootElement();return t?.focus(),!0}return!1},D.COMMAND_PRIORITY_LOW),e.registerCommand(D.KEY_SPACE_COMMAND,t=>{let n=at();return n!=null&&e.isEditable()?(e.update(()=>{let o=D.$getNearestNodeFromDOMNode(n);K.$isListItemNode(o)&&(t.preventDefault(),o.toggleChecked())}),!0):!1},D.COMMAND_PRIORITY_LOW),e.registerCommand(D.KEY_ARROW_LEFT_COMMAND,t=>e.getEditorState().read(()=>{var n=D.$getSelection();if(D.$isRangeSelection(n)&&n.isCollapsed()){var{anchor:o}=n;if((n=o.type==="element")||o.offset===0){o=o.getNode();let r=Ze.$findMatchingParent(o,s=>D.$isElementNode(s)&&!s.isInline());if(K.$isListItemNode(r)){let s=r.getParent();if(K.$isListNode(s)&&s.getListType()==="check"&&(n||r.getFirstDescendant()===o)&&(n=e.getElementByKey(r.__key),n!=null&&document.activeElement!==n))return n.focus(),t.preventDefault(),!0}}}return!1}),D.COMMAND_PRIORITY_LOW),e.registerRootListener((t,n)=>{t!==null&&(t.addEventListener("click",Pt),t.addEventListener("pointerdown",Ft)),n!==null&&(n.removeEventListener("click",Pt),n.removeEventListener("pointerdown",Ft))}))),null};const wr=Bn;var $r=wr,$e=p;function ct(e,t){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ct(e,t)}function Dr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ct(e,t)}function Ir(e,t){return e===void 0&&(e=[]),t===void 0&&(t=[]),e.length!==t.length||e.some(function(n,o){return!Object.is(n,t[o])})}var Ht={error:null},jr=function(e){function t(){for(var o,r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return o=e.call.apply(e,[this].concat(s))||this,o.state=Ht,o.resetErrorBoundary=function(){for(var a,g=arguments.length,d=Array(g),u=0;u<g;u++)d[u]=arguments[u];o.props.onReset==null||(a=o.props).onReset.apply(a,d),o.reset()},o}Dr(t,e),t.getDerivedStateFromError=function(o){return{error:o}};var n=t.prototype;return n.reset=function(){this.setState(Ht)},n.componentDidCatch=function(o,r){var s,l;(s=(l=this.props).onError)==null||s.call(l,o,r)},n.componentDidUpdate=function(o,r){var s=this.props.resetKeys;if(this.state.error!==null&&r.error!==null&&Ir(o.resetKeys,s)){var l,a;(l=(a=this.props).onResetKeysChange)==null||l.call(a,o.resetKeys,s),this.reset()}},n.render=function(){var o=this.state.error,r=this.props,s=r.fallbackRender,l=r.FallbackComponent;if(r=r.fallback,o!==null){if(o={error:o,resetErrorBoundary:this.resetErrorBoundary},$e.isValidElement(r))return r;if(typeof s=="function")return s(o);if(l)return $e.createElement(l,o);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}($e.Component),Pr=function({children:e,onError:t}){return $e.createElement(jr,{fallback:$e.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:t},e)};const Fr=Pr;var Br=Fr;const zt=Fo(Br);var zn={},q=w,Hr=S,Wn=p,zr=O,Me=c;function Wr(e){Wn.useEffect(()=>zr.mergeRegister(e.registerCommand(q.INSERT_ORDERED_LIST_COMMAND,()=>(q.insertList(e,"number"),!0),Me.COMMAND_PRIORITY_LOW),e.registerCommand(q.INSERT_UNORDERED_LIST_COMMAND,()=>(q.insertList(e,"bullet"),!0),Me.COMMAND_PRIORITY_LOW),e.registerCommand(q.REMOVE_LIST_COMMAND,()=>(q.removeList(e),!0),Me.COMMAND_PRIORITY_LOW),e.registerCommand(Me.INSERT_PARAGRAPH_COMMAND,()=>!!q.$handleListInsertParagraph(),Me.COMMAND_PRIORITY_LOW)),[e])}zn.ListPlugin=function(){let[e]=Hr.useLexicalComposerContext();return Wn.useEffect(()=>{if(!e.hasNodes([q.ListNode,q.ListItemNode]))throw Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[e]),Wr(e),null};const Ur=zn;var Kr=Ur,Un={},Yr=S,De=p,Gr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?De.useLayoutEffect:De.useEffect;function Vr(e){let[t]=Yr.useLexicalComposerContext(),n=De.useMemo(()=>e(t),[t,e]),o=De.useRef(n.initialValueFn()),[r,s]=De.useState(o.current);return Gr(()=>{let{initialValueFn:l,subscribe:a}=n,g=l();return o.current!==g&&(o.current=g,s(g)),a(d=>{o.current=d,s(d)})},[n,e]),r}function Xr(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}var Jr=function(){return Vr(Xr)};const qr=Jr;var Zr=qr,re={},j=c;function ft(e,t=!0){return e?!1:(e=Kn(),t&&(e=e.trim()),e==="")}function Kn(){return j.$getRoot().getTextContent()}function Yn(e){if(!ft(e,!1))return!1;e=j.$getRoot().getChildren();let t=e.length;if(1<t)return!1;for(let o=0;o<t;o++){var n=e[o];if(j.$isDecoratorNode(n))return!1;if(j.$isElementNode(n)){if(!j.$isParagraphNode(n)||n.__indent!==0)return!1;n=n.getChildren();let r=n.length;for(let s=0;s<r;s++)if(!j.$isTextNode(n[o]))return!1}}return!0}re.$canShowPlaceholder=Yn;re.$canShowPlaceholderCurry=function(e){return()=>Yn(e)};re.$findTextIntersectionFromCharacters=function(e,t){var n=e.getFirstChild();e=0;e:for(;n!==null;){if(j.$isElementNode(n)){var o=n.getFirstChild();if(o!==null){n=o;continue}}else if(j.$isTextNode(n)){if(o=n.getTextContentSize(),e+o>t)return{node:n,offset:t-e};e+=o}if(o=n.getNextSibling(),o!==null)n=o;else{for(n=n.getParent();n!==null;){if(o=n.getNextSibling(),o!==null){n=o;continue e}n=n.getParent()}break}}return null};re.$isRootTextContentEmpty=ft;re.$isRootTextContentEmptyCurry=function(e,t){return()=>ft(e,t)};re.$rootTextContent=Kn;re.registerLexicalTextEntity=function(e,t,n,o){let r=l=>{const a=j.$createTextNode(l.getTextContent());a.setFormat(l.getFormat()),l.replace(a)},s=e.registerNodeTransform(j.TextNode,l=>{if(l.isSimpleText()){var a=l.getPreviousSibling(),g=l.getTextContent(),d=l;if(j.$isTextNode(a)){var u=a.getTextContent(),m=t(u+g);if(a instanceof n){if(m===null||a.getLatest().__mode!==0){r(a);return}if(m=m.end-u.length,0<m){d=g.slice(0,m),d=u+d,a.select(),a.setTextContent(d),m===g.length?l.remove():(a=g.slice(m),l.setTextContent(a));return}}else if(m===null||m.start<u.length)return}for(;;){if(l=t(g),g=m=l===null?"":g.slice(l.end),m===""){if(u=d.getNextSibling(),j.$isTextNode(u)){if(m=d.getTextContent()+u.getTextContent(),m=t(m),m===null){u instanceof n?r(u):u.markDirty();break}else if(m.start!==0)break}}else if(u=t(m),u!==null&&u.start===0)break;if(l===null)break;if(l.start===0&&j.$isTextNode(a)&&a.isTextEntity())continue;let f;if(l.start===0?[f,d]=d.splitText(l.end):[,f,d]=d.splitText(l.start,l.end),l=o(f),f.replace(l),d==null)break}}});return e=e.registerNodeTransform(n,l=>{var a=l.getTextContent();const g=t(a);g===null||g.start!==0?r(l):a.length>g.end?l.splitText(g.end):(a=l.getPreviousSibling(),j.$isTextNode(a)&&a.isTextEntity()&&(r(a),r(l)),a=l.getNextSibling(),j.$isTextNode(a)&&a.isTextEntity()&&(r(a),l instanceof n&&r(l)))}),[s,e]};const Qr=re;var ei=Qr,Gn={},Ue=c;Gn.registerDragonSupport=function(e){let t=window.location.origin,n=o=>{if(o.origin===t){var r=e.getRootElement();if(document.activeElement===r&&(r=o.data,typeof r=="string")){try{var s=JSON.parse(r)}catch{return}if(s&&s.protocol==="nuanria_messaging"&&s.type==="request"&&(s=s.payload)&&s.functionId==="makeChanges"&&(s=s.args)){const[l,a,g,d,u]=s;e.update(()=>{const m=Ue.$getSelection();if(Ue.$isRangeSelection(m)){var f=m.anchor;let h=f.getNode(),C=0,x=0;Ue.$isTextNode(h)&&0<=l&&0<=a&&(C=l,x=l+a,m.setTextNodeRange(h,C,h,x)),(C!==x||g!=="")&&(m.insertRawText(g),h=f.getNode()),Ue.$isTextNode(h)&&(C=d,x=d+u,f=h.getTextContentSize(),C=C>f?f:C,x=x>f?f:x,m.setTextNodeRange(h,C,h,x)),o.stopImmediatePropagation()}})}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}};const ti=Gn;var ni=ti,Vn=S,oi=Zr,W=p,ri=ei,Xn=O,Wt=Bo,ii=ni,si=G,mt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?W.useLayoutEffect:W.useEffect;function Ut(e){return e.getEditorState().read(ri.$canShowPlaceholderCurry(e.isComposing()))}function li(e){let[t,n]=W.useState(()=>Ut(e));return mt(()=>{function o(){let r=Ut(e);n(r)}return o(),Xn.mergeRegister(e.registerUpdateListener(()=>{o()}),e.registerEditableListener(()=>{o()}))},[e]),t}function ai(e,t){let[n,o]=W.useState(()=>e.getDecorators());return mt(()=>e.registerDecoratorListener(r=>{Wt.flushSync(()=>{o(r)})}),[e]),W.useEffect(()=>{o(e.getDecorators())},[e]),W.useMemo(()=>{let r=[],s=Object.keys(n);for(let a=0;a<s.length;a++){var l=s[a];let g=W.createElement(t,{onError:d=>e._onError(d)},W.createElement(W.Suspense,{fallback:null},n[l]));l=e.getElementByKey(l),l!==null&&r.push(Wt.createPortal(g,l))}return r},[t,n,e])}function ci(e){mt(()=>Xn.mergeRegister(si.registerRichText(e),ii.registerDragonSupport(e)),[e])}function ui({content:e}){var[t]=Vn.useLexicalComposerContext();t=li(t);let n=oi();return t?typeof e=="function"?e(n):e:null}Un.RichTextPlugin=function({contentEditable:e,placeholder:t,ErrorBoundary:n}){let[o]=Vn.useLexicalComposerContext();return n=ai(o,n),ci(o),W.createElement(W.Fragment,null,e,W.createElement(ui,{content:t}),n)};const di=Un;var Kt=di,Jn={},gi=S,xe=c,pi=p;Jn.TabIndentationPlugin=function(){let[e]=gi.useLexicalComposerContext();return pi.useEffect(()=>e.registerCommand(xe.KEY_TAB_COMMAND,t=>{let n=xe.$getSelection();return xe.$isRangeSelection(n)?(t.preventDefault(),e.dispatchCommand(t.shiftKey?xe.OUTDENT_CONTENT_COMMAND:xe.INDENT_CONTENT_COMMAND,void 0)):!1},xe.COMMAND_PRIORITY_EDITOR)),null};const fi=Jn;var mi=fi;function hi(e){if(e instanceof HTMLImageElement){const{alt:t,src:n}=e;return{node:tt({altText:t,src:n})}}return null}class ie extends c.DecoratorNode{constructor(t,n,o,r="inherit",s="inherit",l=!1,a=c.createEditor(),g=!0,d){super(d),this.src=t,this.altText=n,this.maxWidth=o,this.width=r,this.height=s,this.showCaption=l,this.caption=a,this.captionsEnabled=g}static getType(){return"image"}static clone(t){return new ie(t.src,t.altText,t.maxWidth,t.width,t.height,t.showCaption,t.caption,t.captionsEnabled,t.__key)}static importJSON(t){const{altText:n,height:o,width:r,maxWidth:s,caption:l,src:a,showCaption:g}=t,d=tt({altText:n,height:o,maxWidth:s,showCaption:g,src:a,width:r}),u=d.caption,m=u.parseEditorState(l.editorState);return m.isEmpty()||u.setEditorState(m),d}exportDOM(){const t=document.createElement("img");return t.setAttribute("src",this.src),t.setAttribute("alt",this.altText),{element:t}}static importDOM(){return{img:t=>({conversion:hi,priority:0})}}exportJSON(){return{altText:this.getAltText(),caption:this.caption.toJSON(),height:this.height==="inherit"?0:this.height,maxWidth:this.maxWidth,showCaption:this.showCaption,src:this.getSrc(),type:"image",version:1,width:this.width==="inherit"?0:this.width}}setWidthAndHeight(t,n){const o=this.getWritable();o.width=t,o.height=n}setShowCaption(t){const n=this.getWritable();n.showCaption=t}createDOM(t){const n=document.createElement("span"),r=t.theme.image;return r&&(n.className=r),n}updateDOM(){return!1}getSrc(){return this.src}getAltText(){return this.altText}decorate(){return i.jsx(p.Suspense,{fallback:null,children:i.jsx(xi,{src:this.src,altText:this.altText,width:this.width,height:this.height,maxWidth:this.maxWidth,nodeKey:this.getKey(),showCaption:this.showCaption,caption:this.caption,captionsEnabled:this.captionsEnabled,resizable:!0})})}}const xi=p.lazy(()=>Sn(()=>import("./Component-CR2NA_v1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])));function tt({altText:e,height:t,maxWidth:n=500,captionsEnabled:o,src:r,width:s,showCaption:l,caption:a,key:g}){return c.$applyNodeReplacement(new ie(r,e,n,s,t,l,a,o,g))}function qn(e){return e instanceof ie}const Ci=[G.HeadingNode,w.ListNode,w.ListItemNode,G.QuoteNode,$.CodeNode,$.CodeHighlightNode,A.AutoLinkNode,A.LinkNode,ie];function Ni(){const[e]=S.useLexicalComposerContext(),t=e.isEditable();return i.jsx(mn,{appearance:"outline",icon:t?i.jsx(Ko,{}):i.jsx(Yo,{}),checked:!t,onClick:()=>e.setEditable(!t)})}var Be={},Zn={},bi=S,ae=c,Ke=p;function Yt(e,t){return e.getEditorState().read(()=>{let n=ae.$getNodeByKey(t);return n===null?!1:n.isSelected()})}Zn.useLexicalNodeSelection=function(e){let[t]=bi.useLexicalComposerContext(),[n,o]=Ke.useState(()=>Yt(t,e));Ke.useEffect(()=>{let l=!0,a=t.registerUpdateListener(()=>{l&&o(Yt(t,e))});return()=>{l=!1,a()}},[t,e]);let r=Ke.useCallback(l=>{t.update(()=>{let a=ae.$getSelection();ae.$isNodeSelection(a)||(a=ae.$createNodeSelection(),ae.$setSelection(a)),l?a.add(e):a.delete(e)})},[t,e]),s=Ke.useCallback(()=>{t.update(()=>{const l=ae.$getSelection();ae.$isNodeSelection(l)&&l.clear()})},[t]);return[n,r,s]};const Ei=Zn;var Li=Ei,Ti=S,Si=Li,Ri=O,z=c,Ye=p;let _i=z.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");function Mi({nodeKey:e}){let[t]=Ti.useLexicalComposerContext(),[n,o,r]=Si.useLexicalNodeSelection(e),s=Ye.useCallback(l=>(n&&z.$isNodeSelection(z.$getSelection())&&(l.preventDefault(),l=z.$getNodeByKey(e),Qn(l)&&l.remove(),o(!1)),!1),[n,e,o]);return Ye.useEffect(()=>Ri.mergeRegister(t.registerCommand(z.CLICK_COMMAND,l=>{let a=t.getElementByKey(e);return l.target===a?(l.shiftKey||r(),o(!n),!0):!1},z.COMMAND_PRIORITY_LOW),t.registerCommand(z.KEY_DELETE_COMMAND,s,z.COMMAND_PRIORITY_LOW),t.registerCommand(z.KEY_BACKSPACE_COMMAND,s,z.COMMAND_PRIORITY_LOW)),[r,t,n,e,s,o]),Ye.useEffect(()=>{let l=t.getElementByKey(e);l!==null&&(l.className=n?"selected":"")},[t,n,e]),null}class He extends z.DecoratorNode{static getType(){return"horizontalrule"}static clone(t){return new He(t.__key)}static importJSON(){return ht()}static importDOM(){return{hr:()=>({conversion:yi,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){return document.createElement("hr")}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return Ye.createElement(Mi,{nodeKey:this.__key})}}function yi(){return{node:ht()}}function ht(){return z.$applyNodeReplacement(new He)}function Qn(e){return e instanceof He}Be.$createHorizontalRuleNode=ht;Be.$isHorizontalRuleNode=Qn;Be.HorizontalRuleNode=He;Be.INSERT_HORIZONTAL_RULE_COMMAND=_i;const Oi=Be;var oe=Oi;const ki={dependencies:[oe.HorizontalRuleNode],export:e=>oe.$isHorizontalRuleNode(e)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,n,o)=>{const r=oe.$createHorizontalRuleNode();o||e.getNextSibling()?e.replace(r):e.insertBefore(r),r.selectNext()},type:"element"},vi={dependencies:[ie],export:(e,t,n)=>qn(e)?`![${e.getAltText()}](${e.getSrc()})`:null,importRegExp:/!(?:\[([^[]*)\])(?:\(([^(]+)\))/,regExp:/!(?:\[([^[]*)\])(?:\(([^(]+)\))$/,replace:(e,t)=>{const[,n,o]=t,r=tt({altText:n,maxWidth:800,src:o});e.replace(r)},trigger:")",type:"text-match"},eo=/^(?:\|)(.+)(?:\|)\s?$/,Ai={dependencies:[F.TableNode,F.TableRowNode,F.TableCellNode],export:(e,t)=>{if(!F.$isTableNode(e))return null;const n=[];for(const o of e.getChildren()){const r=[];if(F.$isTableRowNode(o))for(const s of o.getChildren())c.$isElementNode(s)&&r.push(t(s));n.push(`| ${r.join(" | ")} |`)}return n.join(`
`)},regExp:eo,replace:(e,t,n)=>{const o=Gt(n[0]);if(!o)return;const r=[o];let s=e.getPreviousSibling(),l=o.length;for(;s&&!(!c.$isParagraphNode(s)||s.getChildrenSize()!==1);){const d=s.getFirstChild();if(!c.$isTextNode(d))break;const u=Gt(d.getTextContent());if(!u)break;l=Math.max(l,u.length),r.unshift(u);const m=s.getPreviousSibling();s.remove(),s=m}const a=F.$createTableNode();for(const d of r){const u=F.$createTableRowNode();a.append(u);for(let m=0;m<l;m++)u.append(m<d.length?d[m]:to(null))}const g=e.getPreviousSibling();F.$isTableNode(g)&&wi(g)===l?(g.append(...a.getChildren()),e.remove()):e.replace(a),a.selectEnd()},type:"element"};function wi(e){const t=e.getFirstChild();return F.$isTableRowNode(t)?t.getChildrenSize():0}const to=e=>{const t=F.$createTableCellNode(F.TableCellHeaderStates.NO_STATUS),n=c.$createParagraphNode();return e!=null&&n.append(c.$createTextNode(e.trim())),t.append(n),t},Gt=e=>{const t=e.match(eo);return!t||!t[1]?null:t[1].split("|").map(n=>to(n))},ut=[Ai,ki,vi,Pe.CHECK_LIST,...Pe.TRANSFORMERS];function $i(){const[e]=S.useLexicalComposerContext(),t=p.useCallback(()=>e.update(()=>{const n=c.$getRoot(),o=n.getFirstChild();if($.$isCodeNode(o)&&o.getLanguage()==="markdown")Pe.$convertFromMarkdownString(o.getTextContent(),ut);else{const r=Pe.$convertToMarkdownString(ut);n.clear().append($.$createCodeNode("markdown").append(c.$createTextNode(r)))}n.selectEnd()}),[e]);return i.jsx(mn,{appearance:"outline",icon:i.jsx(Go,{}),onClick:t})}function Di(){const[e]=S.useLexicalComposerContext();return i.jsxs(i.Fragment,{children:[i.jsx(Le,{appearance:"outline",icon:i.jsx(Vo,{}),onClick:()=>_t.importFile(e)}),i.jsx(Le,{appearance:"outline",icon:i.jsx(Xo,{}),onClick:()=>_t.exportFile(e,{fileName:`Bunlog ${new Date().toISOString()}`,source:"Bunlog"})})]})}const Ii=U({box:{...En,columnGap:"3px",position:"absolute",...N.padding("10px"),bottom:0,left:0}});function ji({anchor:e}){const t=Ii(),[n]=S.useLexicalComposerContext(),[o,r]=p.useState(()=>n.isEditable()),[s,l]=p.useState(!0);return p.useEffect(()=>O.mergeRegister(n.registerEditableListener(a=>r(a))),[n]),p.useEffect(()=>n.registerUpdateListener(({dirtyElements:a,prevEditorState:g,tags:d})=>{!o&&a.size>0&&!d.has("historic")&&!d.has("collaboration")&&console.debug(n.getEditorState()),n.getEditorState().read(()=>{const u=c.$getRoot().getChildren();u.length>1?l(!1):c.$isParagraphNode(u[0])?l(u[0].getChildren().length===0):l(!1)})}),[n,o]),i.jsx(Fe,{mountNode:e,children:i.jsxs("div",{className:t.box,children:[i.jsx(Di,{}),i.jsx(Ni,{}),i.jsx($i,{})]})})}var xt={},le=A,Pi=S,Fi=O,Q=c,Bi=p;function no(e,t){for(let n=0;n<t.length;n++){let o=t[n](e);if(o)return o}return null}let ue=/[.,;\s]/;function oo(e){e=e.getPreviousSibling(),Q.$isElementNode(e)&&(e=e.getLastDescendant());var t;return!(t=e===null||Q.$isLineBreakNode(e))&&(t=Q.$isTextNode(e))&&(e=e.getTextContent(),t=ue.test(e[e.length-1])),t}function ro(e){return e=e.getNextSibling(),Q.$isElementNode(e)&&(e=e.getFirstDescendant()),e===null||Q.$isLineBreakNode(e)||Q.$isTextNode(e)&&ue.test(e.getTextContent()[0])}function ot(e,t,n){var o=e.getChildren();let r=o.length;for(let s=0;s<r;s++){let l=o[s];if(!Q.$isTextNode(l)||!l.isSimpleText()){Ge(e),n(null,e.getURL());return}}o=e.getTextContent(),t=no(o,t),t===null||t.text!==o?(Ge(e),n(null,e.getURL())):oo(e)&&ro(e)?(o=e.getURL(),o!==t.url&&(e.setURL(t.url),n(t.url,o)),t.attributes&&(o=e.getRel(),o!==t.attributes.rel&&(e.setRel(t.attributes.rel||null),n(t.attributes.rel||null,o)),o=e.getTarget(),o!==t.attributes.target&&(e.setTarget(t.attributes.target||null),n(t.attributes.target||null,o)))):(Ge(e),n(null,e.getURL()))}function Ge(e){let t=e.getChildren();var n=t.length;for(--n;0<=n;n--)e.insertAfter(t[n]);return e.remove(),t.map(o=>o.getLatest())}function Hi(e,t,n){Bi.useEffect(()=>{if(!e.hasNodes([le.AutoLinkNode]))throw Error("Minified Lexical error #77; visit https://lexical.dev/docs/error?code=77 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");let o=(r,s)=>{n&&n(r,s)};return Fi.mergeRegister(e.registerNodeTransform(Q.TextNode,r=>{var s=r.getParentOrThrow(),l=r.getPreviousSibling();if(le.$isAutoLinkNode(s))ot(s,t,o);else if(!le.$isLinkNode(s)){if(r.isSimpleText()&&(ue.test(r.getTextContent()[0])||!le.$isAutoLinkNode(l))){l=s=r.getTextContent();let h=0,C=r;for(var a;(a=no(l,t))&&a!==null;){let x=a.index,b=a.length,E=x+b;var g=h+x,d=h+E,u=s,m=r;if((0<g?ue.test(u[g-1]):oo(m))&&(d<u.length?ue.test(u[d]):ro(m))){var f=void 0;h+x===0?[f,C]=C.splitText(h+b):[,f,C]=C.splitText(h+x,h+x+b),g=le.$createAutoLinkNode(a.url,a.attributes),d=Q.$createTextNode(a.text),d.setFormat(f.getFormat()),d.setDetail(f.getDetail()),g.append(d),f.replace(g),n&&n(a.url,null),h=0}else h+=E;l=l.substring(E)}}s=r.getPreviousSibling(),a=r.getNextSibling(),f=r.getTextContent(),le.$isAutoLinkNode(s)&&!ue.test(f[0])&&(s.append(r),ot(s,t,o),r=s.getURL(),n&&n(null,r)),le.$isAutoLinkNode(a)&&!ue.test(f[f.length-1])&&(Ge(a),ot(a,t,o),r=a.getURL(),n&&n(null,r))}}))},[e,t,n])}xt.AutoLinkPlugin=function({matchers:e,onChange:t}){let[n]=Pi.useLexicalComposerContext();return Hi(n,e,t),null};xt.createLinkMatcherWithRegExp=function(e,t=n=>n){return n=>{let o=e.exec(n);return o===null?null:{index:o.index,length:o[0].length,text:o[0],url:t(n)}}};const zi=xt;var Wi=zi;const Ui=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,Ki=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,Yi=[e=>{const t=Ui.exec(e);if(!t)return null;const n=t[0];return{index:t.index,length:n.length,text:n,url:n.startsWith("http")?n:`https://${n}`}},e=>{const t=Ki.exec(e);return t&&{index:t.index,length:t[0].length,text:t[0],url:`mailto:${t[0]}`}}];function Gi(){return i.jsx(Wi.AutoLinkPlugin,{matchers:Yi})}function Vt({filter:e,newTab:t=!0}){const[n]=S.useLexicalComposerContext();return p.useEffect(()=>{function o(r){const s=r,l=Vi(s,n);if(!l)return;const a=l.getAttribute("href");if(l.getAttribute("contenteditable")==="false"||!a)return;const g=n.getEditorState().read(c.$getSelection);if(c.$isRangeSelection(g)&&!g.isCollapsed())return;let d;if(n.update(()=>{const u=c.$getNearestNodeFromDOMNode(l);A.$isLinkNode(u)&&(d=u)}),!(!d||e&&!e(s,d)))try{if(a){const u=s.type==="auxclick"&&s.button===1;window.open(a,t||s.metaKey||s.ctrlKey||u?"_blank":"_self"),s.preventDefault()}}catch{}}return n.registerRootListener((r,s)=>{s&&(s.removeEventListener("click",o),s.removeEventListener("auxclick",o)),r&&(r.addEventListener("click",o),r.addEventListener("auxclick",o))})},[n,e,t]),null}function Xt(e){return e.nodeName.toLowerCase()==="a"}function Vi(e,t){return t.getEditorState().read(()=>{const n=e.target;return Xt(n)?n:n.parentNode&&Xt(n.parentNode)?n.parentNode:null})}const Xi=U({green:{color:ge.colorPaletteLightGreenForeground3}});function Ji({editor:e,getCodeDOMNode:t}){const[n,o]=p.useState(!1),{run:r}=An(()=>{o(!1)},{wait:1e3});async function s(){const a=t();if(!a)return;let g="";e.update(()=>{const d=c.$getNearestNodeFromDOMNode(a);$.$isCodeNode(d)&&(g=d.getTextContent());const u=c.$getSelection();c.$setSelection(u)});try{await navigator.clipboard.writeText(g),o(!0),r()}catch(d){console.error("Failed to copy: ",d)}}const l=Xi();return i.jsx(Le,{size:"small",appearance:"subtle",onClick:s,icon:n?i.jsx(Jo,{className:l.green}):i.jsx(qo,{})})}const qi=8,Zi=U({container:{height:"35.8px",fontSize:"10px",color:"rgba(0, 0, 0, 0.5)",position:"absolute",display:"flex",alignItems:"center",flexDirection:"row",userSelect:"none"},lang:{marginRight:"4px"}});function Qi(e){const t=e.target;if(t&&t instanceof HTMLElement){const n=t.closest("code.LexEditor_code"),o=!(n||t.closest("div.LexEditor_CodeMenu"));return{codeDOMNode:n,isOutside:o}}else return{codeDOMNode:null,isOutside:!0}}function es({anchor:e=document.body}){const[t]=S.useLexicalComposerContext(),[n,o]=p.useState(!1),[r,s]=p.useState(!1),[l,a]=p.useState(""),[g,d]=p.useState({right:"0",top:"0"}),u=p.useRef(new Set),m=p.useRef(null),{run:f,cancel:h}=An(b=>{const{codeDOMNode:E,isOutside:T}=Qi(b);if(T){o(!1);return}if(!E)return;m.current=E;let _=null,M="";if(t.update(()=>{const R=c.$getNearestNodeFromDOMNode(E);$.$isCodeNode(R)&&(_=R,M=_.getLanguage()||"")}),_){const{y:R,right:P}=e.getBoundingClientRect(),{y,right:V}=E.getBoundingClientRect();a(M),o(!0),d({right:`${P-V+qi}px`,top:`${y-R}px`})}},{wait:100,maxWait:1e3});p.useEffect(()=>{if(r)return document.addEventListener("mousemove",f),()=>{o(!1),h(),document.removeEventListener("mousemove",f)}},[r,f]),t.registerMutationListener($.CodeNode,b=>{t.getEditorState().read(()=>{for(const[E,T]of b)switch(T){case"created":u.current.add(E),s(u.current.size>0);break;case"destroyed":u.current.delete(E),s(u.current.size>0);break}})});const C=$.getLanguageFriendlyName(l),x=Zi();return i.jsx(Fe,{mountNode:e,children:n&&i.jsxs("div",{className:Y(x.container,"LexEditor_CodeMenu"),style:g,children:[i.jsx("div",{className:x.lang,children:C}),i.jsx(Ji,{editor:t,getCodeDOMNode:()=>m.current})]})})}function ts(){const[e]=S.useLexicalComposerContext();return p.useEffect(()=>$.registerCodeHighlighting(e),[e]),null}class pe extends c.ElementNode{constructor(t,n){super(n),this.open=t,this.open=t}static getType(){return"collapsible-container"}static clone(t){return new pe(t.open,t.__key)}createDOM(t){const n=document.createElement("details");return n.classList.add("LexEditor_Collapsible"),n.open=this.open,n}updateDOM(t,n){return t.open!==this.open&&(n.open=this.open),!1}static importDOM(){return{}}static importJSON(t){return io()}exportJSON(){return{...super.exportJSON(),type:"collapsible-container",version:1}}setOpen(t){const n=this.getWritable();n.open=t}getOpen(){return this.open}toggleOpen(){this.setOpen(!this.getOpen())}}function io(){return new pe(!0)}function ce(e){return e instanceof pe}class fe extends c.ElementNode{static getType(){return"collapsible-content"}static clone(t){return new fe(t.__key)}createDOM(t){const n=document.createElement("div");return n.classList.add("LexEditor_CollapsibleContent"),n}updateDOM(t,n){return!1}static importDOM(){return{}}static importJSON(t){return so()}isShadowRoot(){return!0}exportJSON(){return{...super.exportJSON(),type:"collapsible-content",version:1}}}function so(){return new fe}function lo(e){return e instanceof fe}class me extends c.ElementNode{static getType(){return"collapsible-title"}static clone(t){return new me(t.__key)}createDOM(t,n){const o=document.createElement("summary");return o.classList.add("LexEditor_CollapsibleTitle"),o}updateDOM(t,n){return!1}static importDOM(){return{}}static importJSON(t){return ao()}exportJSON(){return{...super.exportJSON(),type:"collapsible-title",version:1}}collapseAtStart(t){return this.getParentOrThrow().insertBefore(this),!0}insertNewAfter(t,n=!0){const o=this.getParentOrThrow();if(!ce(o))throw new Error("CollapsibleTitleNode expects to be child of CollapsibleContainerNode");if(o.getOpen()){const r=this.getNextSibling();if(!lo(r))throw new Error("CollapsibleTitleNode expects to have CollapsibleContentNode sibling");const s=r.getFirstChild();if(c.$isElementNode(s))return s;{const l=c.$createParagraphNode();return r.append(l),l}}else{const r=c.$createParagraphNode();return o.insertAfter(r,n),r}}}function ao(){return new me}function Jt(e){return e instanceof me}const co=c.createCommand(),ns=c.createCommand();function os(){const[e]=S.useLexicalComposerContext();return p.useEffect(()=>{if(!e.hasNodes([pe,me,fe]))throw new Error("CollapsiblePlugin: CollapsibleContainerNode, CollapsibleTitleNode, or CollapsibleContentNode not registered on editor");return O.mergeRegister(e.registerNodeTransform(fe,t=>{const n=t.getParent();if(!ce(n)){const o=t.getChildren();for(const r of o)t.insertBefore(r);t.remove()}}),e.registerNodeTransform(me,t=>{const n=t.getParent();ce(n)||t.replace(c.$createParagraphNode().append(...t.getChildren()))}),e.registerNodeTransform(pe,t=>{const n=t.getChildren();if(n.length!==2||!Jt(n[0])||!lo(n[1])){for(const o of n)t.insertBefore(o);t.remove()}}),e.registerCommand(c.DELETE_CHARACTER_COMMAND,()=>{const t=c.$getSelection();if(!c.$isRangeSelection(t)||!t.isCollapsed()||t.anchor.offset!==0)return!1;const o=t.anchor.getNode().getTopLevelElement();if(!o)return!1;const r=o.getPreviousSibling();return!ce(r)||r.getOpen()?!1:(r.setOpen(!0),!0)},c.COMMAND_PRIORITY_LOW),e.registerCommand(c.KEY_ARROW_DOWN_COMMAND,()=>{const t=c.$getSelection();if(!c.$isRangeSelection(t)||!t.isCollapsed())return!1;const n=O.$findMatchingParent(t.anchor.getNode(),ce);if(!n)return!1;const o=n.getParent();return o&&o.getLastChild()===n&&o.append(c.$createParagraphNode()),!1},c.COMMAND_PRIORITY_LOW),e.registerCommand(c.INSERT_PARAGRAPH_COMMAND,()=>{const t=e._window?.event;if(t&&(t.ctrlKey||t.metaKey)&&t.key==="Enter"){const n=c.$getPreviousSelection();if(c.$isRangeSelection(n)&&n.isCollapsed()){const o=O.$findMatchingParent(n.anchor.getNode(),r=>c.$isElementNode(r)&&!r.isInline());if(Jt(o)){const r=o.getParent();if(ce(r))return r.toggleOpen(),c.$setSelection(n.clone()),!0}}}return!1},c.COMMAND_PRIORITY_LOW),e.registerCommand(co,()=>(e.update(()=>{const t=c.$getSelection();if(!c.$isRangeSelection(t))return;const n=ao(),o=so().append(c.$createParagraphNode()),r=io().append(n,o);t.insertNodes([r]),n.selectStart()}),!0),c.COMMAND_PRIORITY_EDITOR),e.registerCommand(ns,t=>(e.update(()=>{const n=c.$getNodeByKey(t);ce(n)&&n.toggleOpen()}),!0),c.COMMAND_PRIORITY_EDITOR))},[e]),null}function rt(e){return e instanceof HTMLElement}class uo{constructor(t,n){this.x=t,this.y=n}equals({x:t,y:n}){return this.x===t&&this.y===n}calcDeltaXTo({x:t}){return this.x-t}calcDeltaYTo({y:t}){return this.y-t}calcHorizontalDistanceTo(t){return Math.abs(this.calcDeltaXTo(t))}calcVerticalDistance(t){return Math.abs(this.calcDeltaYTo(t))}calcDistanceTo(t){return Math.sqrt(Math.pow(this.calcDeltaXTo(t),2)+Math.pow(this.calcDeltaYTo(t),2))}}function rs(e){return e instanceof uo}class de{_left;_top;_right;_bottom;constructor(t,n,o,r){const[s,l]=n<=r?[n,r]:[r,n],[a,g]=t<=o?[t,o]:[o,t];this._top=s,this._right=g,this._left=a,this._bottom=l}get top(){return this._top}get right(){return this._right}get bottom(){return this._bottom}get left(){return this._left}get width(){return Math.abs(this._left-this._right)}get height(){return Math.abs(this._bottom-this._top)}equals({top:t,left:n,bottom:o,right:r}){return t===this._top&&o===this._bottom&&n===this._left&&r===this._right}contains(t){if(rs(t)){const{x:n,y:o}=t,r=o<this._top,s=o>this._bottom,l=n<this._left,a=n>this._right;return{reason:{isOnBottomSide:s,isOnLeftSide:l,isOnRightSide:a,isOnTopSide:r},result:!r&&!s&&!l&&!a}}else{const{top:n,left:o,bottom:r,right:s}=t;return n>=this._top&&n<=this._bottom&&r>=this._top&&r<=this._bottom&&o>=this._left&&o<=this._right&&s>=this._left&&s<=this._right}}intersectsWith(t){const{left:n,top:o,width:r,height:s}=t,{left:l,top:a,width:g,height:d}=this,u=n+r>=l+g?n+r:l+g,m=o+s>=a+d?o+s:a+d,f=n<=l?n:l,h=o<=a?o:a;return u-f<=r+g&&m-h<=s+d}generateNewRect({left:t=this.left,top:n=this.top,right:o=this.right,bottom:r=this.bottom}){return new de(t,n,o,r)}static fromLTRB(t,n,o,r){return new de(t,n,o,r)}static fromLWTH(t,n,o,r){return new de(t,o,t+n,o+r)}static fromPoints(t,n){const{y:o,x:r}=t,{y:s,x:l}=n;return de.fromLTRB(r,o,l,s)}static fromDOM(t){const{top:n,width:o,left:r,height:s}=t.getBoundingClientRect();return de.fromLWTH(r,o,n,s)}}let Ve=1/0;function is(e){return e===0?1/0:Ve>=0&&Ve<e?Ve:Math.floor(e/2)}function ss(e){return e.getEditorState().read(()=>c.$getRoot().getChildrenKeys())}const qt=0;function it(e,t,n){const o=e.getBoundingClientRect(),r=ss(t);let s=null;return t.getEditorState().read(()=>{let l=is(r.length),a=qt;for(;l>=0&&l<r.length;){const g=r[l],d=t.getElementByKey(g);if(!d)break;const u=new uo(n.x,n.y),m=de.fromDOM(d),{marginTop:f,marginBottom:h}=window.getComputedStyle(d),C=m.generateNewRect({bottom:m.bottom+parseFloat(h),left:o.left,right:o.right,top:m.top-parseFloat(f)}),{result:x,reason:{isOnTopSide:b,isOnBottomSide:E}}=C.contains(u);if(x){s=d,Ve=l;break}a===qt&&(b?a=-1:E?a=1:a=1/0),l+=a}}),s}function ls(e){return!!e.closest(".LexEditor_Draggable")}const dt=4;function as(e,t,n){if(!e){t.style.opacity="0",t.style.transform="translate(-10000px, -10000px)";return}const o=e.getBoundingClientRect(),r=window.getComputedStyle(e),s=t.getBoundingClientRect(),l=n.getBoundingClientRect(),a=o.top+(parseInt(r.lineHeight,10)-s.height)/2-l.top;t.style.opacity="1",t.style.transform=`translate(${dt}px, ${a}px)`}function cs(e,t){const{transform:n}=t.style;t.style.transform="translateZ(0)",e.setDragImage(t,0,0),setTimeout(()=>t.style.transform=n)}const Zt=28;function us(e,t,n,o){const r=window.getComputedStyle(t),{top:s,height:l}=t.getBoundingClientRect(),{top:a,width:g}=o.getBoundingClientRect();let d=s;n-s>l/2?d+=l+parseFloat(r.marginBottom):d-=parseFloat(r.marginTop);const u=d-a-2,m=Zt-dt;e.style.transform=`translate(${m}px, ${u}px)`,e.style.width=`${g-(Zt-dt)*2}px`,e.style.opacity=".4"}function ds(e){e&&(e.style.opacity="0",e.style.transform="translate(-10000px, -10000px)")}const Qt="application/x-lexical-drag-block";function gs({editor:e,anchor:t}){const n=t.parentElement,o=p.useRef(null),r=p.useRef(null),[s,l]=p.useState(null);p.useEffect(()=>{function u(f){const h=f.target;if(!rt(h)){l(null);return}if(ls(h))return;const C=it(t,e,f);l(C)}function m(){l(null)}return n?.addEventListener("mousemove",u),n?.addEventListener("mouseleave",m),()=>{n?.removeEventListener("mousemove",u),n?.removeEventListener("mouseleave",m)}},[n,t,e]),p.useEffect(()=>{o.current&&as(s,o.current,t)},[t,s]),p.useEffect(()=>{function u(f){const[h]=G.eventFiles(f);if(h)return!1;const{pageY:C,target:x}=f;if(!rt(x))return!1;const b=it(t,e,f),E=r.current;return!b||!E?!1:(us(E,b,C,t),f.preventDefault(),!0)}function m(f){const[h]=G.eventFiles(f);if(h)return!1;const{target:C,dataTransfer:x,pageY:b}=f,E=x?.getData(Qt)||"",T=c.$getNodeByKey(E);if(!T||!rt(C))return!1;const _=it(t,e,f);if(!_)return!1;const M=c.$getNearestNodeFromDOMNode(_);if(!M)return!1;if(M===T)return!0;const{top:R,height:P}=_.getBoundingClientRect();return b-R>P/2?M.insertAfter(T):M.insertBefore(T),l(null),!0}return O.mergeRegister(e.registerCommand(c.DRAGOVER_COMMAND,f=>u(f),c.COMMAND_PRIORITY_LOW),e.registerCommand(c.DROP_COMMAND,f=>m(f),c.COMMAND_PRIORITY_HIGH))},[t,e]);function a(u){const m=u.dataTransfer;if(!m||!s)return;cs(m,s);let f="";e.update(()=>{const h=c.$getNearestNodeFromDOMNode(s);h&&(f=h.getKey())}),m.setData(Qt,f)}function g(){ds(r.current)}const d=ps();return i.jsxs(Fe,{mountNode:t,children:[i.jsx("div",{className:Y("LexEditor_Draggable",d.meun),ref:o,draggable:!0,onDragStart:a,onDragEnd:g,children:i.jsx("div",{className:e._editable?Y(d.icon,"LexEditor_DraggableIcon"):""})}),i.jsx("div",{className:d.line,ref:r})]})}const ps=U({meun:{...N.borderRadius("4px"),...N.padding("2px","1px"),cursor:"grab",opacity:0,position:"absolute",left:0,top:0,willChange:"transform",":active":{cursor:"grabbing"},":hover":{backgroundColor:"#efefef"}},icon:{width:"16px",height:"16px",opacity:.3},line:{pointerEvents:"none",backgroundColor:"deepskyblue",height:"4px",position:"absolute",left:0,top:0,opacity:0,willChange:"transform"}});function fs({anchor:e=document.body}){const[t]=S.useLexicalComposerContext();return i.jsx(gs,{anchor:e,editor:t})}function nt(e){const t=e.anchor,n=e.focus,o=e.anchor.getNode(),r=e.focus.getNode();return o===r?o:e.isBackward()?B.$isAtNodeEnd(n)?o:r:B.$isAtNodeEnd(t)?o:r}const ms=10,hs=5;function gt(e,t,n,o=ms,r=hs){const s=n.parentElement;if(!e||!s){t.style.opacity="0",t.style.transform="translate(-10000px, -10000px)";return}const l=t.getBoundingClientRect(),a=n.getBoundingClientRect(),g=s.getBoundingClientRect();let d=e.top-l.height-o,u=e.left-r;d<g.top&&(d+=l.height+e.height+o*2),u+l.width>g.right&&(u=g.right-l.width-r),d-=a.top,u-=a.left,t.style.opacity="1",t.style.transform=`translate(${u}px, ${d}px)`}function go(e){const t=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;return e=String(e).trim(),e.match(t)||e.match(n)?e:"https://"}const xs=new RegExp(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/);function Cs(e){return e==="https://"||xs.test(e)}function Ns({editor:e,isLink:t,setIsLink:n,anchor:o}){const r=p.useRef(null),s=p.useRef(null),[l,a]=p.useState(""),[g,d]=p.useState(!1),[u,m]=p.useState(),f=p.useCallback(()=>{const C=c.$getSelection();if(c.$isRangeSelection(C)){const _=nt(C),M=_.getParent();A.$isLinkNode(M)?a(M.getURL()):A.$isLinkNode(_)?a(_.getURL()):a("")}const x=r.current,b=window.getSelection(),E=document.activeElement;if(!x)return;const T=e.getRootElement();if(C&&b&&T&&T.contains(b.anchorNode)&&e.isEditable()){const _=b.getRangeAt(0);let M;if(b.anchorNode===T){let R=T;for(;R.firstElementChild;)R=R.firstElementChild;M=R.getBoundingClientRect()}else M=_.getBoundingClientRect();gt(M,x,o),m(C)}else(!E||E.className!=="link-input")&&(T&&gt(null,x,o),m(void 0),d(!1),a(""));return!0},[o,e]);p.useEffect(()=>{const C=o.parentElement;function x(){e.getEditorState().read(()=>f())}return window.addEventListener("resize",x),C&&C.addEventListener("scroll",x),()=>{window.removeEventListener("resize",x),C&&C.removeEventListener("scroll",x)}},[o.parentElement,e,f]),p.useEffect(()=>O.mergeRegister(e.registerUpdateListener(({editorState:C})=>C.read(()=>f())),e.registerCommand(c.SELECTION_CHANGE_COMMAND,()=>(f(),!0),c.COMMAND_PRIORITY_LOW),e.registerCommand(c.KEY_ESCAPE_COMMAND,()=>t?(n(!1),!0):!1,c.COMMAND_PRIORITY_HIGH)),[e,f,n,t]),p.useEffect(()=>{e.getEditorState().read(()=>f())},[e,f]),p.useEffect(()=>{g&&s.current&&s.current.focus()},[g]);const h=bs();return i.jsx("div",{ref:r,style:{transition:"opacity 0.5s"},className:h.editor,children:g?i.jsx(Te,{ref:s,className:h.input,value:l,onChange:(C,x)=>a(x.value),onKeyDown:C=>{C.key==="Enter"?(C.preventDefault(),u&&(l&&e.dispatchCommand(A.TOGGLE_LINK_COMMAND,go(l)),d(!1))):C.key==="Escape"&&(C.preventDefault(),d(!1))}}):i.jsxs("div",{className:h.link,children:[i.jsx($o,{href:l,target:"_blank",rel:"noopener noreferrer",className:h.a,children:l}),i.jsx(Le,{appearance:"subtle",icon:i.jsx(Zo,{}),onClick:()=>d(!0)})]})})}const en={...N.margin("8px","10px"),...N.padding("4px","12px")},bs=U({editor:{...Ln,...Wo,position:"absolute",top:0,left:0,maxWidth:"400px",width:"100%",opacity:0,willChange:"transform"},a:{whiteSpace:"nowrap",...N.overflow("hidden"),textOverflow:"ellipsis"},link:{...En,justifyContent:"space-between",alignItems:"center",width:"calc(100% - 20px)",boxSizing:"border-box",...N.borderRadius(ge.borderRadiusMedium),backgroundColor:"#eee",position:"relative",...en},input:en});function Es({editor:e,anchor:t}){const[n,o]=p.useState(e),[r,s]=p.useState(!1);return p.useEffect(()=>e.registerCommand(c.SELECTION_CHANGE_COMMAND,(l,a)=>{const g=c.$getSelection();if(c.$isRangeSelection(g)){const d=nt(g),u=O.$findMatchingParent(d,A.$isLinkNode),m=O.$findMatchingParent(d,A.$isAutoLinkNode);s(!!(u&&!m))}return o(a),!1},c.COMMAND_PRIORITY_CRITICAL),[e]),r&&i.jsx(Fe,{mountNode:t,children:i.jsx(Ns,{editor:n,isLink:r,anchor:t,setIsLink:s})})}function Ls({anchor:e=document.body}){const[t]=S.useLexicalComposerContext();return i.jsx(Es,{editor:t,anchor:e})}function Ts(e,t){const n=e.getRangeAt(0);let o;if(e.anchorNode===t){let r=t;for(;r.firstElementChild;)r=r.firstElementChild;o=r.getBoundingClientRect()}else o=n.getBoundingClientRect();return o}function Ss({editor:e,anchor:t,isLink:n,isBold:o,isItalic:r,isUnderline:s,isCode:l,isStrikethrough:a,isSubscript:g,isSuperscript:d}){const u=p.useRef(null),m=p.useCallback(()=>{n?e.dispatchCommand(A.TOGGLE_LINK_COMMAND,null):e.dispatchCommand(A.TOGGLE_LINK_COMMAND,"https://")},[e,n]),f=p.useCallback(()=>{const x=c.$getSelection(),b=u.current,E=window.getSelection();if(!b)return;const T=e.getRootElement();if(x&&E&&!E.isCollapsed&&T&&T.contains(E.anchorNode)){const _=Ts(E,T);gt(_,b,t)}},[e,t]);p.useEffect(()=>{const x=t.parentElement;function b(){e.getEditorState().read(()=>f())}return window.addEventListener("resize",b),x&&x.addEventListener("scroll",b),()=>{window.removeEventListener("resize",b),x&&x.removeEventListener("scroll",b)}},[e,f,t]),p.useEffect(()=>(e.getEditorState().read(()=>f()),O.mergeRegister(e.registerUpdateListener(({editorState:x})=>x.read(()=>f())),e.registerCommand(c.SELECTION_CHANGE_COMMAND,()=>(f(),!1),c.COMMAND_PRIORITY_LOW))),[e,f]);const h=[o&&"bold",r&&"italic",s&&"underline",l&&"code",a&&"strikethrough",g&&"subscript",d&&"superscript",n&&"link"],C=Rs();return i.jsxs(hn,{ref:u,className:C.toolbar,style:{transition:"opacity 0.5s"},checkedValues:{opts:h},children:[i.jsx(I,{name:"opts",value:"bold",appearance:"subtle","aria-label":"Format text as bold",icon:i.jsx(Rn,{}),onClick:()=>e.dispatchCommand(c.FORMAT_TEXT_COMMAND,"bold")}),i.jsx(I,{name:"opts",value:"italic",appearance:"subtle","aria-label":"Format text as italics",icon:i.jsx(_n,{}),onClick:()=>e.dispatchCommand(c.FORMAT_TEXT_COMMAND,"italic")}),i.jsx(I,{name:"opts",value:"underline",appearance:"subtle","aria-label":"Format text to underlined",icon:i.jsx(Mn,{}),onClick:()=>e.dispatchCommand(c.FORMAT_TEXT_COMMAND,"underline")}),i.jsx(I,{name:"opts",value:"strikethrough",appearance:"subtle","aria-label":"Format text with a strikethrough",icon:i.jsx(yn,{}),onClick:()=>e.dispatchCommand(c.FORMAT_TEXT_COMMAND,"strikethrough")}),i.jsx(I,{name:"opts",value:"subscript",appearance:"subtle","aria-label":"Format Subscript",icon:i.jsx(On,{}),onClick:()=>e.dispatchCommand(c.FORMAT_TEXT_COMMAND,"subscript")}),i.jsx(I,{name:"opts",value:"superscript",appearance:"subtle","aria-label":"Format Superscript",icon:i.jsx(kn,{}),onClick:()=>e.dispatchCommand(c.FORMAT_TEXT_COMMAND,"superscript")}),i.jsx(I,{name:"opts",value:"code",appearance:"subtle","aria-label":"Insert code block",icon:i.jsx(Je,{}),onClick:()=>e.dispatchCommand(c.FORMAT_TEXT_COMMAND,"code")}),i.jsx(I,{name:"opts",value:"link",appearance:"subtle","aria-label":"Insert link",icon:i.jsx(vn,{}),onClick:m})]})}const Rs=U({toolbar:{...Ln,...N.padding("4px"),verticalAlign:"middle",position:"absolute",top:0,left:0,opacity:0,height:"35px",willChange:"transform"}});function _s({editor:e,anchor:t}){const[n,o]=p.useState(!1),[r,s]=p.useState(!1),[l,a]=p.useState(!1),[g,d]=p.useState(!1),[u,m]=p.useState(!1),[f,h]=p.useState(!1),[C,x]=p.useState(!1),[b,E]=p.useState(!1),[T,_]=p.useState(!1),M=p.useCallback(()=>{e.getEditorState().read(()=>{if(e.isComposing())return;const R=c.$getSelection(),P=window.getSelection(),y=e.getRootElement();if(P&&(!c.$isRangeSelection(R)||!y||!y.contains(P.anchorNode))){o(!1);return}if(!c.$isRangeSelection(R))return;const V=nt(R);a(R.hasFormat("bold")),d(R.hasFormat("italic")),m(R.hasFormat("underline")),h(R.hasFormat("strikethrough")),x(R.hasFormat("subscript")),E(R.hasFormat("superscript")),_(R.hasFormat("code"));const Re=V.getParent();A.$isLinkNode(Re)||A.$isLinkNode(V)?s(!0):s(!1),!$.$isCodeHighlightNode(R.anchor.getNode())&&R.getTextContent()?o(c.$isTextNode(V)):o(!1)})},[e]);return p.useEffect(()=>(document.addEventListener("selectionchange",M),()=>document.removeEventListener("selectionchange",M)),[M]),p.useEffect(()=>O.mergeRegister(e.registerUpdateListener(()=>M()),e.registerRootListener(()=>{e.getRootElement()||o(!1)})),[e,M]),!n||r?null:i.jsx(Fe,{mountNode:t,children:i.jsx(Ss,{editor:e,anchor:t,isLink:r,isBold:l,isItalic:g,isStrikethrough:f,isSubscript:C,isSuperscript:b,isUnderline:u,isCode:T})})}function tn({anchor:e=document.body}){const[t]=S.useLexicalComposerContext();return i.jsx(_s,{editor:t,anchor:e})}function Ms(){const[e]=S.useLexicalComposerContext();return p.useEffect(()=>e.registerCommand(oe.INSERT_HORIZONTAL_RULE_COMMAND,t=>{const n=c.$getSelection();if(!c.$isRangeSelection(n))return!1;if(n.focus.getNode()){const r=oe.$createHorizontalRuleNode();O.$insertNodeToNearestRoot(r)}return!0},c.COMMAND_PRIORITY_EDITOR),[e]),null}const Ct=c.createCommand("INSERT_IMAGE_COMMAND");function ys({editor:e}){const[t,n]=p.useState("https://source.unsplash.com/random"),[o,r]=p.useState(Tn.Name);return i.jsxs(xn,{children:[i.jsx(Cn,{children:"Insert Image"}),i.jsxs(Nn,{children:[i.jsx(je,{label:"Source",required:!0,children:i.jsx(Te,{placeholder:t,onChange:(s,l)=>n(l.value||"")})}),i.jsx(je,{label:"Alt Text",required:!0,children:i.jsx(Te,{placeholder:o,onChange:(s,l)=>r(l.value||"")})})]}),i.jsx(bn,{children:i.jsx(Xe,{disableButtonEnhancement:!0,children:i.jsx(Le,{onClick:()=>{e.dispatchCommand(Ct,{altText:o,src:t})},children:"Confirm"})})})]})}function nn({captionsEnabled:e}){const[t]=S.useLexicalComposerContext();return p.useEffect(()=>{if(!t.hasNodes([ie]))throw new Error("ImagesPlugin: ImageNode not registered on editor");return O.mergeRegister(t.registerCommand(Ct,n=>{const o=tt(n);return c.$insertNodes([o]),c.$isRootOrShadowRoot(o.getParentOrThrow())&&O.$wrapNodeInElement(o,c.$createParagraphNode).selectEnd(),!0},c.COMMAND_PRIORITY_EDITOR),t.registerCommand(c.DRAGSTART_COMMAND,n=>ks(n),c.COMMAND_PRIORITY_HIGH),t.registerCommand(c.DRAGOVER_COMMAND,n=>vs(n),c.COMMAND_PRIORITY_LOW),t.registerCommand(c.DROP_COMMAND,n=>As(n,t),c.COMMAND_PRIORITY_HIGH))},[e,t]),null}const Os="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",po=document.createElement("img");po.src=Os;function ks(e){const t=Nt();if(!t)return!1;const n=e.dataTransfer;return n?(n.setData("text/plain","_"),n.setDragImage(po,0,0),n.setData("application/x-lexical-drag",JSON.stringify({data:{altText:t.altText,caption:t.caption,height:t.height,key:t.getKey(),maxWidth:t.maxWidth,showCaption:t.showCaption,src:t.src,width:t.width},type:"image"})),!0):!1}function vs(e){return Nt()?(fo(e)||e.preventDefault(),!0):!1}function As(e,t){const n=Nt();if(!n)return!1;const o=ws(e);if(!o)return!1;if(e.preventDefault(),fo(e)){const r=$s(e);n.remove();const s=c.$createRangeSelection();r&&s.applyDOMRange(r),c.$setSelection(s),t.dispatchCommand(Ct,o)}return!0}function Nt(){const e=c.$getSelection();if(!c.$isNodeSelection(e))return null;const n=e.getNodes()[0];return qn(n)?n:null}function ws(e){const t=e.dataTransfer?.getData("application/x-lexical-drag");if(!t)return null;const{type:n,data:o}=JSON.parse(t);return n!=="image"?null:o}function fo(e){const t=e.target;return!!(t&&t instanceof HTMLElement&&!t.closest("code, span.LexEditor_Image")&&t.parentElement&&t.parentElement.closest("div.LexEditor_Content"))}function $s(e){let t;const n=window.getSelection();if(document.caretRangeFromPoint)t=document.caretRangeFromPoint(e.clientX,e.clientY);else if(e.rangeParent&&n)n.collapse(e.rangeParent,e.rangeOffset||0),t=n.getRangeAt(0);else throw Error("Cannot get the selection when dragging");return t}var mo={},Ce=A,Ds=S,Is=O,Ne=c,js=p;mo.LinkPlugin=function({validateUrl:e}){let[t]=Ds.useLexicalComposerContext();return js.useEffect(()=>{if(!t.hasNodes([Ce.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor");return Is.mergeRegister(t.registerCommand(Ce.TOGGLE_LINK_COMMAND,n=>{if(n===null)return Ce.toggleLink(n),!0;if(typeof n=="string")return e===void 0||e(n)?(Ce.toggleLink(n),!0):!1;let{url:o,target:r,rel:s,title:l}=n;return Ce.toggleLink(o,{rel:s,target:r,title:l}),!0},Ne.COMMAND_PRIORITY_LOW),e!==void 0?t.registerCommand(Ne.PASTE_COMMAND,n=>{let o=Ne.$getSelection();if(!Ne.$isRangeSelection(o)||o.isCollapsed()||!(n instanceof ClipboardEvent)||n.clipboardData==null)return!1;let r=n.clipboardData.getData("text");return e(r)?o.getNodes().some(s=>Ne.$isElementNode(s))?!1:(t.dispatchCommand(Ce.TOGGLE_LINK_COMMAND,r),n.preventDefault(),!0):!1},Ne.COMMAND_PRIORITY_LOW):()=>{})},[t,e]),null};const Ps=mo;var Fs=Ps;function on(){return i.jsx(Fs.LinkPlugin,{validateUrl:Cs})}function Bs(e){const t=e.getNodes();return t.length===0?new Set([e.anchor.getNode().getParentOrThrow(),e.focus.getNode().getParentOrThrow()]):new Set(t.map(n=>c.$isElementNode(n)?n:n.getParentOrThrow()))}function Hs(e){const t=c.$getSelection();if(!c.$isRangeSelection(t))return!1;const n=Bs(t);let o=0;for(const r of n)if(w.$isListNode(r))o=Math.max(w.$getListDepth(r)+1,o);else if(w.$isListItemNode(r)){const s=r.getParent();if(!w.$isListNode(s))throw new Error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");o=Math.max(w.$getListDepth(s)+1,o)}return o<=e}function zs({maxDepth:e}){const[t]=S.useLexicalComposerContext();return p.useEffect(()=>t.registerCommand(c.INDENT_CONTENT_COMMAND,()=>!Hs(e??7),c.COMMAND_PRIORITY_CRITICAL),[t,e]),null}var bt={},ho=Pe,Ws=S,st=oe,Us=p;let xo=[{dependencies:[st.HorizontalRuleNode],export:e=>st.$isHorizontalRuleNode(e)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,n,o)=>{t=st.$createHorizontalRuleNode(),o||e.getNextSibling()!=null?e.replace(t):e.insertBefore(t),t.selectNext()},type:"element"},...ho.TRANSFORMERS];bt.DEFAULT_TRANSFORMERS=xo;bt.MarkdownShortcutPlugin=function({transformers:e=xo}){let[t]=Ws.useLexicalComposerContext();return Us.useEffect(()=>ho.registerMarkdownShortcuts(t,e),[t,e]),null};const Ks=bt;var Ys=Ks;function Gs(){return i.jsx(Ys.MarkdownShortcutPlugin,{transformers:ut})}const Vs=100;let Co=0,rn=!1;function Xs(){window.addEventListener("keydown",e=>{e.keyCode===9&&(Co=e.timeStamp)},!0)}function Js(){const[e]=S.useLexicalComposerContext();return p.useEffect(()=>(rn||(Xs(),rn=!0),e.registerCommand(c.FOCUS_COMMAND,t=>{const n=c.$getSelection();return c.$isRangeSelection(n)&&Co+Vs>t.timeStamp&&c.$setSelection(n.clone()),!1},c.COMMAND_PRIORITY_LOW)),[e]),null}function No(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}const qs=new Map,Fl=new Map,bo='{"root":{"children":[{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1}],"direction":null,"format":"","indent":0,"type":"root","version":1}}';function Zs(e){return e?`{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":${e},"type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}`:bo}function Ee(e){return{colSpan:1,id:No(),json:bo,type:e,width:null}}function Qe(){return{cells:[],height:null,id:No()}}function Qs(e){const t=e.querySelectorAll("tr");if(!t||t.length===0)return null;const n=[];for(let o=0;o<t.length;o++){const s=t[o].querySelectorAll("td,th");if(!s||s.length===0)continue;const l=[];for(let g=0;g<s.length;g++){const d=s[g],u=d.nodeName==="TH",m=Ee(u?"header":"normal");m.json=Zs(JSON.stringify(d.innerText.replace(/\n/g," "))),l.push(m)}const a=Qe();a.cells=l,n.push(a)}return{node:Eo(n)}}function el(e,t){const n=document.createElement("table"),o=document.createElement("colgroup"),r=document.createElement("tbody"),s=e[0];for(let l=t?t.startX:0;l<(t?t.endX+1:s.cells.length);l++){const a=document.createElement("col");o.append(a)}for(let l=t?t.startY:0;l<(t?t.endY+1:e.length);l++){const g=e[l].cells,d=document.createElement("tr");for(let u=t?t.startX:0;u<(t?t.endX+1:g.length);u++){const m=g[u],f=document.createElement(m.type==="header"?"th":"td");f.innerHTML=qs.get(m.json)||"",d.appendChild(f)}r.appendChild(d)}return n.appendChild(o),n.appendChild(r),n}function Eo(e){return new Se(e)}class Se extends c.DecoratorNode{constructor(t=[],n){super(n),this.rows=t}static getType(){return"tablesheet"}static clone(t){return new Se(Array.from(t.rows),t.__key)}static importJSON(t){return Eo(t.rows)}exportJSON(){return{rows:this.rows,type:"tablesheet",version:1}}static importDOM(){return{table:t=>({conversion:Qs,priority:0})}}exportDOM(){return{element:el(this.rows)}}createDOM(){const t=document.createElement("div");return t.style.display="contents",t}updateDOM(){return!1}mergeRows(t,n,o){const s=this.getWritable().rows,l=Math.min(s.length,n+o.length);for(let a=n;a<l;a++){const g=s[a],d=o[a-n],u=g.cells,m=Array.from(u),f={...g,cells:m},h=d.cells,C=Math.min(u.length,t+h.length);for(let x=t;x<C;x++){const b=u[x],E=h[x-t],T={...b,json:E.json,type:E.type};m[x]=T}s[a]=f}}updateCellJSON(t,n,o){const s=this.getWritable().rows,l=s[n],a=l.cells,g=a[t],d=Array.from(a),u={...g,json:o},m={...l,cells:d};d[t]=u,s[n]=m}updateCellType(t,n,o){const s=this.getWritable().rows,l=s[n],a=l.cells,g=a[t],d=Array.from(a),u={...g,type:o},m={...l,cells:d};d[t]=u,s[n]=m}insertColumnAt(t){const o=this.getWritable().rows;for(let r=0;r<o.length;r++){const s=o[r],l=s.cells,a=Array.from(l),g={...s,cells:a},d=(l[t]||l[t-1]).type;a.splice(t,0,Ee(d)),o[r]=g}}deleteColumnAt(t){const o=this.getWritable().rows;for(let r=0;r<o.length;r++){const s=o[r],l=s.cells,a=Array.from(l),g={...s,cells:a};a.splice(t,1),o[r]=g}}addColumns(t){const o=this.getWritable().rows;for(let r=0;r<o.length;r++){const s=o[r],l=s.cells,a=Array.from(l),g={...s,cells:a},d=l[l.length-1].type;for(let u=0;u<t;u++)a.push(Ee(d));o[r]=g}}insertRowAt(t){const o=this.getWritable().rows,r=o[t]||o[t-1],s=r.cells.length,l=Qe();for(let a=0;a<s;a++){const g=Ee(r.cells[a].type);l.cells.push(g)}o.splice(t,0,l)}deleteRowAt(t){this.getWritable().rows.splice(t,1)}addRows(t){const o=this.getWritable().rows,r=o[o.length-1],s=r.cells.length;for(let l=0;l<t;l++){const a=Qe();for(let g=0;g<s;g++){const d=Ee(r.cells[g].type);a.cells.push(d)}o.push(a)}}updateColumnWidth(t,n){const r=this.getWritable().rows;for(let s=0;s<r.length;s++){const l=r[s],a=l.cells,g=Array.from(a),d={...l,cells:g};g[t].width=n,r[s]=d}}decorate(t,n){return i.jsx(p.Suspense,{children:i.jsx(tl,{nodeKey:this.__key,theme:n.theme,rows:this.rows})})}isInline(){return!1}}const tl=p.lazy(()=>Sn(()=>import("./Component-BMeJrlku.js"),__vite__mapDeps([12,1,2,3,5,4,6,7,8,9,10,11])));function nl(e,t,...n){if(!e)throw new Error("Internal Lexical error: invariant() is meant to be replaced at compile time. There is no runtime version. Error: "+t)}const Lo=c.createCommand("INSERT_NEW_TABLE_COMMAND"),To=p.createContext({cellEditorConfig:null,cellEditorPlugins:null,set:()=>{}});function ol({children:e}){const[t,n]=p.useState({cellEditorConfig:null,cellEditorPlugins:null});return i.jsx(To.Provider,{value:p.useMemo(()=>({cellEditorConfig:t.cellEditorConfig,cellEditorPlugins:t.cellEditorPlugins,set:(o,r)=>n({cellEditorConfig:o,cellEditorPlugins:r})}),[t.cellEditorConfig,t.cellEditorPlugins]),children:e})}function rl({editor:e}){const[t,n]=p.useState("5"),[o,r]=p.useState("5");return i.jsxs(xn,{children:[i.jsx(Cn,{children:"Insert Table"}),i.jsxs(Nn,{children:[i.jsx(je,{label:"Rows",required:!0,children:i.jsx(Te,{placeholder:t,onChange:(s,l)=>l&&n(l.value)})}),i.jsx(je,{label:"Cols",required:!0,children:i.jsx(Te,{placeholder:o,onChange:(s,l)=>l&&r(l.value)})})]}),i.jsx(bn,{children:i.jsx(Xe,{disableButtonEnhancement:!0,children:i.jsx(Le,{onClick:()=>{e.dispatchCommand(Lo,{columns:o,rows:t})},children:"Confirm"})})})]})}function il(e,t,n=!0){const o=[];for(let r=0;r<t;r++){const s=Qe();o.push(s);for(let l=0;l<e;l++)s.cells.push(Ee(n&&(r===0||l===0)?"header":"normal"))}return new Se(o)}function sl({cellEditorConfig:e,children:t}){const[n]=S.useLexicalComposerContext(),o=p.useContext(To);return p.useEffect(()=>(n.hasNodes([Se])||nl(!1,"TablePlugin: TableNode is not registered on editor"),o.set(e,t),n.registerCommand(Lo,({columns:r,rows:s,includeHeaders:l})=>{const a=c.$getSelection();if(!c.$isRangeSelection(a))return!0;const g=a.focus,d=g.getNode();if(d){const u=il(Number(s),Number(r),l);if(c.$isRootOrShadowRoot(d)){const f=d.getChildAtIndex(g.offset);f?f.insertBefore(u):d.append(u),u.insertBefore(c.$createParagraphNode())}else d.getTopLevelElementOrThrow().insertAfter(u);u.insertAfter(c.$createParagraphNode());const m=c.$createNodeSelection();m.add(u.getKey()),c.$setSelection(m)}return!0},c.COMMAND_PRIORITY_EDITOR)),[o,e,t,n]),null}var Et={},ll=c;class So extends ll.DecoratorNode{constructor(t,n){super(n),this.__format=t||""}exportJSON(){return{format:this.__format||"",type:"decorator-block",version:1}}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(t){this.getWritable().__format=t}}Et.$isDecoratorBlockNode=function(e){return e instanceof So};Et.DecoratorBlockNode=So;const al=Et;var cl=al;const ul="documentMode"in document?document.documentMode:null,ne=/Mac|iPod|iPhone|iPad/.test(navigator.platform);"InputEvent"in window&&!ul&&"getTargetRanges"in new window.InputEvent("input");const pt={bullet:"Bulleted List",check:"Check List",code:"Code Block",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",number:"Numbered List",paragraph:"Normal",quote:"Quote"};function dl({editor:e,blockType:t,disabled:n=!1}){function o(){t!=="paragraph"&&e.update(()=>{const u=c.$getSelection();(c.$isRangeSelection(u)||c.DEPRECATED_$isGridSelection(u))&&B.$setBlocksType(u,()=>c.$createParagraphNode())})}function r(u){t!==u&&e.update(()=>{const m=c.$getSelection();(c.$isRangeSelection(m)||c.DEPRECATED_$isGridSelection(m))&&B.$setBlocksType(m,()=>G.$createHeadingNode(u))})}function s(){t!=="bullet"?e.dispatchCommand(w.INSERT_UNORDERED_LIST_COMMAND,void 0):e.dispatchCommand(w.REMOVE_LIST_COMMAND,void 0)}function l(){t!=="check"?e.dispatchCommand(w.INSERT_CHECK_LIST_COMMAND,void 0):e.dispatchCommand(w.REMOVE_LIST_COMMAND,void 0)}function a(){t!=="number"?e.dispatchCommand(w.INSERT_ORDERED_LIST_COMMAND,void 0):e.dispatchCommand(w.REMOVE_LIST_COMMAND,void 0)}function g(){t!=="quote"&&e.update(()=>{const u=c.$getSelection();(c.$isRangeSelection(u)||c.DEPRECATED_$isGridSelection(u))&&B.$setBlocksType(u,()=>G.$createQuoteNode())})}function d(){t!=="code"&&e.update(()=>{const u=c.$getSelection();if(c.$isRangeSelection(u)||c.DEPRECATED_$isGridSelection(u))if(u.isCollapsed())B.$setBlocksType(u,()=>$.$createCodeNode());else{const m=u.getTextContent(),f=$.$createCodeNode();u.insertNodes([f]),u.insertRawText(m)}})}return i.jsxs(ke,{children:[i.jsx(ve,{children:i.jsx(Z,{disabled:n,"aria-label":"Formatting options for text style",children:pt[t],icon:(()=>{switch(t){case"paragraph":return i.jsx($t,{});case"h1":return i.jsx(wt,{});case"h2":return i.jsx(At,{});case"h3":return i.jsx(vt,{});case"bullet":return i.jsx(kt,{});case"check":return i.jsx(Ot,{});case"number":return i.jsx(yt,{});case"quote":return i.jsx(Mt,{});case"code":return i.jsx(Je,{});default:return i.jsx(Qo,{})}})()})}),i.jsx(Ae,{children:i.jsxs(we,{children:[i.jsx(v,{icon:i.jsx($t,{}),onClick:o,children:"Normal"}),i.jsx(v,{icon:i.jsx(wt,{}),onClick:()=>r("h1"),children:"Heading 1"}),i.jsx(v,{icon:i.jsx(At,{}),onClick:()=>r("h2"),children:"Heading 2"}),i.jsx(v,{icon:i.jsx(vt,{}),onClick:()=>r("h3"),children:"Heading 3"}),i.jsx(v,{icon:i.jsx(kt,{}),onClick:s,children:"Bullet List"}),i.jsx(v,{icon:i.jsx(yt,{}),onClick:a,children:"Numbered List"}),i.jsx(v,{icon:i.jsx(Ot,{}),onClick:l,children:"Check List"}),i.jsx(v,{icon:i.jsx(Mt,{}),onClick:g,children:"Quote"}),i.jsx(v,{icon:i.jsx(Je,{}),onClick:d,children:"Code Block"})]})})]})}const gl=["#d0021b","#f5a623","#f8e71c","#8b572a","#7ed321","#417505","#bd10e0","#9013fe","#4a90e2","#50e3c2","#b8e986","#000000","#4a4a4a","#9b9b9b","#ffffff"],ye=214,sn=150;function pl({color:e,onChange:t}){const[n,o]=p.useState(be("hex",e)),[r,s]=p.useState(e),l=p.useRef(null),a=p.useMemo(()=>({x:n.hsv.s/100*ye,y:(100-n.hsv.v)/100*sn}),[n.hsv.s,n.hsv.v]),g=p.useMemo(()=>({x:n.hsv.h/360*ye}),[n.hsv]);function d(f){if(s(f),/^#[0-9A-Fa-f]{6}$/i.test(f)){const h=be("hex",f);o(h)}}function u({x:f,y:h}){const C={...n.hsv,s:f/ye*100,v:100-h/sn*100},x=be("hsv",C);o(x),s(x.hex)}function m({x:f}){const h={...n.hsv,h:f/ye*360},C=be("hsv",h);o(C),s(C.hex)}return p.useEffect(()=>{l.current!==null&&t&&(t(n.hex),s(n.hex))},[n,t]),p.useEffect(()=>{if(e===void 0)return;const f=be("hex",e);o(f),s(f.hex)},[e]),i.jsxs("div",{style:{width:ye},ref:l,children:[i.jsx(je,{label:"Hex",style:{paddingBottom:ge.spacingVerticalS},children:i.jsx(Te,{onChange:(f,h)=>d(h.value),value:r})}),i.jsx("div",{className:"color-picker-basic-color",children:gl.map(f=>i.jsx("button",{className:f===n.hex?" active":"",style:{backgroundColor:f},onClick:()=>{s(f),o(be("hex",f))}},f))}),i.jsx(ln,{className:"color-picker-saturation",style:{backgroundColor:`hsl(${n.hsv.h}, 100%, 50%)`},onChange:u,children:i.jsx("div",{className:"color-picker-saturation_cursor",style:{backgroundColor:n.hex,left:a.x,top:a.y}})}),i.jsx(ln,{className:"color-picker-hue",onChange:m,children:i.jsx("div",{className:"color-picker-hue_cursor",style:{backgroundColor:`hsl(${n.hsv.h}, 100%, 50%)`,left:g.x}})}),i.jsx("div",{className:"color-picker-color",style:{backgroundColor:n.hex}})]})}function ln({className:e,style:t,onChange:n,children:o}){const r=p.useRef(null),s=a=>{if(r.current){const{current:g}=r,{width:d,height:u,left:m,top:f}=g.getBoundingClientRect(),h=an(a.clientX-m,d,0),C=an(a.clientY-f,u,0);n({x:h,y:C})}};function l(a){if(a.button!==0)return;s(a);function g(u){s(u)}function d(u){document.removeEventListener("mousemove",g,!1),document.removeEventListener("mouseup",d,!1),s(u)}document.addEventListener("mousemove",g,!1),document.addEventListener("mouseup",d,!1)}return i.jsx("div",{ref:r,className:e,style:t,onMouseDown:l,children:o})}function an(e,t,n){return e>t?t:e<n?n:e}function cn(e){if(e.startsWith("#")){if(e.length===4||e.length===5)return e=e.split("").map((t,n)=>n?t+t:"#").join(""),e;if(e.length===7||e.length===9)return e}else{const t=document.createElement("canvas").getContext("2d");if(!t)throw new Error("2d context not supported or canvas already initialized");return t.fillStyle=e,t.fillStyle}return"#000000"}function un(e){const t=(e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,o,r,s)=>"#"+o+o+r+r+s+s).substring(1).match(/.{2}/g)||[]).map(n=>parseInt(n,16));return{b:t[2],g:t[1],r:t[0]}}function lt({r:e,g:t,b:n}){e/=255,t/=255,n/=255;const o=Math.max(e,t,n),r=o-Math.min(e,t,n),s=r?(o===e?(t-n)/r+(t<n?6:0):o===t?2+(n-e)/r:4+(e-t)/r)*60:0,l=o?r/o*100:0,a=o*100;return{h:s,s:l,v:a}}function fl({h:e,s:t,v:n}){t/=100,n/=100;const o=~~(e/60),r=e/60-o,s=n*(1-t),l=n*(1-t*r),a=n*(1-t*(1-r)),g=o%6,d=Math.round([n,l,s,s,a,n][g]*255),u=Math.round([a,n,n,l,s,s][g]*255);return{b:Math.round([s,s,a,n,n,l][g]*255),g:u,r:d}}function dn({b:e,g:t,r:n}){return"#"+[n,t,e].map(o=>o.toString(16).padStart(2,"0")).join("")}function be(e,t){let n=cn("#121212"),o=un(n),r=lt(o);return e==="hex"?(n=cn(t),o=un(n),r=lt(o)):e==="rgb"?(o=t,n=dn(o),r=lt(o)):e==="hsv"&&(r=t,o=fl(r),n=dn(o)),{hex:n,hsv:r,rgb:o}}function gn({disabled:e,ariaLabel:t,color:n,onChange:o,icon:r}){return i.jsxs(Do,{trapFocus:!0,withArrow:!0,children:[i.jsx(Io,{children:i.jsx(Z,{disabled:e,icon:r,title:t,"aria-label":t})}),i.jsx(jo,{children:i.jsx(pl,{color:n,onChange:o})})]})}const ml=[["Arial","Arial"],["Courier New","Courier New"],["Georgia","Georgia"],["Times New Roman","Times New Roman"],["Trebuchet MS","Trebuchet MS"],["Verdana","Verdana"]],hl=[["10px","10px"],["11px","11px"],["12px","12px"],["13px","13px"],["14px","14px"],["15px","15px"],["16px","16px"],["17px","17px"],["18px","18px"],["19px","19px"],["20px","20px"]];function pn({editor:e,value:t,style:n,disabled:o=!1}){const r=p.useCallback(l=>{e.update(()=>{const a=c.$getSelection();c.$isRangeSelection(a)&&B.$patchStyleText(a,{[n]:l})})},[e,n]),s=n==="font-family"?"Formatting options for font family":"Formatting options for font size";return i.jsxs(ke,{children:[i.jsx(ve,{children:i.jsx(Z,{disabled:o,"aria-label":s,icon:n==="font-family"?i.jsx(er,{}):i.jsx(tr,{}),children:t})}),i.jsx(Ae,{children:i.jsx(we,{children:(n==="font-family"?ml:hl).map(([l,a],g)=>i.jsx(v,{children:a,onClick:()=>r(l)},g))})})]})}const xl=U({box:{columnGap:"1px",backgroundColor:"#fff",borderTopLeftRadius:ge.borderRadiusLarge,borderTopRightRadius:ge.borderRadiusLarge}}),Cl=(()=>{const e=[];for(const[t,n]of Object.entries($.CODE_LANGUAGE_FRIENDLY_NAME_MAP))e.push([t,n]);return e})();function Nl(){const[e]=S.useLexicalComposerContext(),[t,n]=p.useState(e),[o,r]=p.useState("paragraph"),[s,l]=p.useState(null),[a,g]=p.useState("15px"),[d,u]=p.useState("#000"),[m,f]=p.useState("#fff"),[h,C]=p.useState("Arial"),[x,b]=p.useState(!1),[E,T]=p.useState(!1),[_,M]=p.useState(!1),[R,P]=p.useState(""),[y,V]=p.useState(()=>e.isEditable()),[Re,ee]=p.useState([]),he=p.useCallback(()=>{const L=c.$getSelection();if(c.$isRangeSelection(L)){const k=L.anchor.getNode();let H=k.getKey()==="root"?k:O.$findMatchingParent(k,se=>{const te=se.getParent();return!!te&&c.$isRootOrShadowRoot(te)});H||(H=k.getTopLevelElementOrThrow());const Lt=H.getKey(),Ao=t.getElementByKey(Lt),J=[];L.hasFormat("bold")&&J.push("bold"),L.hasFormat("italic")&&J.push("italic"),L.hasFormat("underline")&&J.push("underline"),L.hasFormat("strikethrough")&&J.push("strikethrough"),L.hasFormat("subscript")&&J.push("subscript"),L.hasFormat("superscript")&&J.push("superscript"),L.hasFormat("code")&&J.push("code");const Tt=nt(L),wo=Tt.getParent();if(A.$isLinkNode(wo)||A.$isLinkNode(Tt)?(J.push("link"),b(!0)):b(!1),ee(J),Ao)if(l(Lt),w.$isListNode(H)){const se=O.$getNearestNodeOfType(k,w.ListNode),te=se?se.getListType():H.getListType();r(te)}else{const se=G.$isHeadingNode(H)?H.getTag():H.getType();if(se in pt&&r(se),$.$isCodeNode(H)){const te=H.getLanguage();P(te?$.CODE_LANGUAGE_MAP[te]||te:"");return}}g(B.$getSelectionStyleValueForProperty(L,"font-size","15px")),u(B.$getSelectionStyleValueForProperty(L,"color","#000")),f(B.$getSelectionStyleValueForProperty(L,"background-color","#fff")),C(B.$getSelectionStyleValueForProperty(L,"font-family","Arial"))}},[t]);p.useEffect(()=>e.registerCommand(c.SELECTION_CHANGE_COMMAND,(L,k)=>(he(),n(k),!1),c.COMMAND_PRIORITY_CRITICAL),[e,he]),p.useEffect(()=>O.mergeRegister(e.registerEditableListener(L=>V(L)),t.registerUpdateListener(({editorState:L})=>L.read(()=>he())),t.registerCommand(c.CAN_UNDO_COMMAND,L=>(T(L),!1),c.COMMAND_PRIORITY_CRITICAL),t.registerCommand(c.CAN_REDO_COMMAND,L=>(M(L),!1),c.COMMAND_PRIORITY_CRITICAL)),[t,e,he]);const X=p.useCallback(L=>{t.update(()=>{const k=c.$getSelection();c.$isRangeSelection(k)&&B.$patchStyleText(k,L)})},[t]),ze=p.useCallback(()=>{t.update(()=>{const L=c.$getSelection();c.$isRangeSelection(L)&&(B.$selectAll(L),L.getNodes().forEach(k=>{c.$isTextNode(k)&&(k.setFormat(0),k.setStyle(""),O.$getNearestBlockElementAncestorOrThrow(k).setFormat("")),cl.$isDecoratorBlockNode(k)&&k.setFormat("")}))})},[t]),Mo=p.useCallback(L=>X({color:L}),[X]),yo=p.useCallback(L=>X({"background-color":L}),[X]),Oo=p.useCallback(()=>{x?e.dispatchCommand(A.TOGGLE_LINK_COMMAND,null):e.dispatchCommand(A.TOGGLE_LINK_COMMAND,go("https://"))},[e,x]),ko=p.useCallback(L=>{t.update(()=>{if(s!==null){const k=c.$getNodeByKey(s);$.$isCodeNode(k)&&k.setLanguage(L)}})},[t,s]),vo=xl();return i.jsxs(hn,{checkedValues:{opts:Re},className:Y("LexEditor_Toolbar",vo.box),children:[i.jsx(Z,{disabled:!E||!y,title:ne?"Undo (Z)":"Undo (Ctrl+Z)","aria-label":"Undo",icon:i.jsx(nr,{}),onClick:()=>t.dispatchCommand(c.UNDO_COMMAND,void 0)}),i.jsx(Z,{disabled:!_||!y,title:ne?"Redo (Y)":"Redo (Ctrl+Y)","aria-label":"Redo",icon:i.jsx(or,{}),onClick:()=>t.dispatchCommand(c.REDO_COMMAND,void 0)}),i.jsx(_e,{}),o in pt&&t===e&&i.jsxs(i.Fragment,{children:[i.jsx(dl,{disabled:!y,blockType:o,editor:e}),i.jsx(_e,{})]}),o==="code"?i.jsxs(ke,{children:[i.jsx(ve,{children:i.jsx(Z,{disabled:!y,title:"Select language","aria-label":"Select language",icon:i.jsx(rr,{}),children:$.getLanguageFriendlyName(R)})}),i.jsx(Ae,{children:i.jsx(we,{children:Cl.map(([L,k],H)=>i.jsx(v,{onClick:()=>ko(L),children:k},H))})})]}):i.jsxs(i.Fragment,{children:[i.jsx(pn,{disabled:!y,style:"font-family",value:h,editor:e}),i.jsx(pn,{disabled:!y,style:"font-size",value:a,editor:e}),i.jsx(_e,{}),i.jsx(I,{name:"opts",value:"bold",appearance:"subtle",disabled:!y,title:ne?"Bold (B)":"Bold (Ctrl+B)","aria-label":`Format text as bold. Shortcut: ${ne?"B":"Ctrl+B"}`,icon:i.jsx(Rn,{}),onClick:()=>t.dispatchCommand(c.FORMAT_TEXT_COMMAND,"bold")}),i.jsx(I,{name:"opts",value:"italic",appearance:"subtle",disabled:!y,title:ne?"Italic (I)":"Italic (Ctrl+I)","aria-label":`Format text as italics. Shortcut: ${ne?"I":"Ctrl+I"}`,icon:i.jsx(_n,{}),onClick:()=>t.dispatchCommand(c.FORMAT_TEXT_COMMAND,"italic")}),i.jsx(I,{name:"opts",value:"underline",appearance:"subtle",disabled:!y,title:ne?"Underline (U)":"Underline (Ctrl+U)","aria-label":`Format text to underlined. Shortcut: ${ne?"U":"Ctrl+U"}`,icon:i.jsx(Mn,{}),onClick:()=>t.dispatchCommand(c.FORMAT_TEXT_COMMAND,"underline")}),i.jsx(I,{name:"opts",value:"strikethrough",appearance:"subtle",disabled:!y,title:"Strikethrough","aria-label":"Format text with a strikethrough",icon:i.jsx(yn,{}),onClick:()=>t.dispatchCommand(c.FORMAT_TEXT_COMMAND,"strikethrough")}),i.jsx(I,{name:"opts",value:"subscript",appearance:"subtle",disabled:!y,title:"Subscript","aria-label":"Format text with a subscript",icon:i.jsx(On,{}),onClick:()=>t.dispatchCommand(c.FORMAT_TEXT_COMMAND,"subscript")}),i.jsx(I,{name:"opts",value:"superscript",appearance:"subtle",disabled:!y,title:"Superscript","aria-label":"Format text with a superscript",icon:i.jsx(kn,{}),onClick:()=>t.dispatchCommand(c.FORMAT_TEXT_COMMAND,"superscript")}),i.jsx(I,{name:"opts",value:"code",appearance:"subtle",disabled:!y,title:"Insert code block","aria-label":"Insert code block",icon:i.jsx(Je,{}),onClick:()=>t.dispatchCommand(c.FORMAT_TEXT_COMMAND,"code")}),i.jsx(I,{name:"opts",value:"link",appearance:"subtle",disabled:!y,title:"Insert link","aria-label":"Insert link",icon:i.jsx(vn,{}),onClick:Oo}),i.jsx(gn,{disabled:!y,ariaLabel:"Formatting text color",color:d,icon:i.jsx(ir,{}),onChange:Mo}),i.jsx(gn,{disabled:!y,ariaLabel:"Formatting background color",color:m,icon:i.jsx(sr,{}),onChange:yo}),i.jsx(Z,{disabled:!y,title:"Clear text formatting","aria-label":"Clear all text formatting",icon:i.jsx(lr,{}),onClick:ze}),i.jsx(_e,{}),i.jsxs(ke,{children:[i.jsx(ve,{children:i.jsx(Z,{disabled:!y,title:"Insert","aria-label":"Insert specialized editor node",icon:i.jsx(ar,{}),children:"Insert"})}),i.jsx(Ae,{children:i.jsxs(we,{children:[i.jsx(v,{icon:i.jsx(cr,{}),onClick:()=>t.dispatchCommand(oe.INSERT_HORIZONTAL_RULE_COMMAND,void 0),children:"Horizontal Rule"}),i.jsxs(St,{children:[i.jsx(Xe,{disableButtonEnhancement:!0,children:i.jsx(v,{icon:i.jsx(ur,{}),children:"Image"})}),i.jsx(Rt,{children:i.jsx(ys,{editor:t})})]}),i.jsxs(St,{children:[i.jsx(Xe,{disableButtonEnhancement:!0,children:i.jsx(v,{icon:i.jsx(dr,{}),children:"Table"})}),i.jsx(Rt,{children:i.jsx(rl,{editor:t})})]}),i.jsx(v,{icon:i.jsx(gr,{}),onClick:()=>e.dispatchCommand(co,void 0),children:"Collapsible"})]})})]})]}),i.jsx(_e,{}),i.jsxs(ke,{children:[i.jsx(ve,{children:i.jsx(Z,{disabled:!y,title:"Align","aria-label":"Formatting options for text alignment",icon:i.jsx(Dt,{}),children:"Align"})}),i.jsx(Ae,{children:i.jsxs(we,{children:[i.jsx(v,{icon:i.jsx(Dt,{}),onClick:()=>t.dispatchCommand(c.FORMAT_ELEMENT_COMMAND,"left"),children:"Left Align"}),i.jsx(v,{icon:i.jsx(pr,{}),onClick:()=>t.dispatchCommand(c.FORMAT_ELEMENT_COMMAND,"center"),children:"Center Align"}),i.jsx(v,{icon:i.jsx(fr,{}),onClick:()=>t.dispatchCommand(c.FORMAT_ELEMENT_COMMAND,"right"),children:"Right Align"}),i.jsx(v,{icon:i.jsx(mr,{}),onClick:()=>t.dispatchCommand(c.FORMAT_ELEMENT_COMMAND,"justify"),children:"Justify Align"}),i.jsx(Po,{}),i.jsx(v,{icon:i.jsx(hr,{}),onClick:()=>t.dispatchCommand(c.OUTDENT_CONTENT_COMMAND,void 0),children:"Outdent"}),i.jsx(v,{icon:i.jsx(xr,{}),onClick:()=>t.dispatchCommand(c.INDENT_CONTENT_COMMAND,void 0),children:"Indent"})]})})]})]})}const bl=U({ltr:{textAlign:"left"},rtl:{textAlign:"right"},paragraph:{...N.margin(0),position:"relative"},quote:{...N.margin(0),marginLeft:"20px",marginBottom:"10px",fontSize:"15px",color:"rgb(101, 103, 107)",borderLeftColor:"rgb(206, 208, 212)",borderLeftWidth:"4px",borderLeftStyle:"solid",paddingLeft:"16px"},h1:{fontSize:"24px",color:"rgb(5, 5, 5)",fontWeight:400,...N.margin(0)},h2:{fontSize:"15px",color:"rgb(101, 103, 107)",fontWeight:700,...N.margin(0),textTransform:"uppercase"},h3:{fontSize:"12px",...N.margin(0),textTransform:"uppercase"},textBold:{fontWeight:"bold"},textItalic:{fontStyle:"italic"},textSubscript:{fontSize:"0.8em",verticalAlign:"sub !important"},textSuperscript:{fontSize:"0.8em",verticalAlign:"super"},textCode:{backgroundColor:"rgb(240, 242, 245)",...N.padding("1px","0.25rem"),fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:"94%"},code:{backgroundColor:"rgb(240, 242, 245)",fontFamily:"Menlo, Consolas, Monaco, monospace",display:"block",...N.padding("8px","8px","8px","52px"),lineHeight:1.53,fontSize:"13px",...N.margin(0),marginTop:"8px",marginBottom:"8px",tabSize:2,overflowX:"auto",position:"relative",":before":{content:"attr(data-gutter)",position:"absolute",backgroundColor:"#eee",left:0,top:0,...N.borderRight("1px","solid","#ccc"),...N.padding("8px"),color:"#777",whiteSpace:"pre-wrap",textAlign:"right",minWidth:"25px"}},table:{borderCollapse:"collapse",borderSpacing:0,maxWidth:"100%",overflowY:"scroll",tableLayout:"fixed",width:"calc(100% - 25px)",...N.margin("30px",0)},tableSelected:{...N.outline("2px","solid","rgb(60, 132, 244)")},tableCell:{...N.border("1px","solid","#bbb"),minWidth:"75px",verticalAlign:"top",textAlign:"start",...N.padding("6px","8px"),position:"relative",cursor:"default",...N.outline("none")},tableCellSortedIndicator:{display:"block",opacity:.5,position:"absolute",bottom:0,left:0,width:"100%",height:"4px",backgroundColor:"#999"},tableCellResizer:{position:"absolute",right:"-4px",height:"100%",width:"8px",cursor:"ew-resize",zIndex:10,top:0},tableCellHeader:{backgroundColor:"#f2f3f5",textAlign:"start"},tableCellSelected:{backgroundColor:"#c9dbf0"},tableCellPrimarySelected:{...N.border("2px","solid","rgb(60, 132, 244)"),display:"block",height:"calc(100% - 2px)",position:"absolute",width:"calc(100% - 2px)",left:"-1px",top:"-1px",zIndex:2},tableCellEditing:{boxShadow:"0 0 5px rgba(0, 0, 0, 0.4)",...N.borderRadius("3px")},tableAddColumns:{position:"absolute",top:0,width:"20px",backgroundColor:"#eee",height:"100%",right:0,...N.border(0),cursor:"pointer",":after":{backgroundSize:"contain",backgroundRepeat:"no-repeat",display:"block",content:'" "',position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.4},":hover":{backgroundColor:"#c9dbf0"}},tableAddRows:{position:"absolute",bottom:"-25px",width:"calc(100% - 25px)",backgroundColor:"#eee",height:"20px",left:0,...N.border(0),cursor:"pointer",":after":{backgroundSize:"contain",backgroundRepeat:"no-repeat",display:"block",content:'" "',position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.4},":hover":{backgroundColor:"#c9dbf0"}},tableCellResizeRuler:{display:"block",position:"absolute",width:"1px",backgroundColor:"rgb(60, 132, 244)",height:"100%",top:0},tableCellActionButtonContainer:{display:"block",right:"5px",top:"2px",position:"absolute",zIndex:4},tableCellActionButton:{backgroundColor:"#eee",display:"block",...N.border(0),...N.borderRadius("20px"),width:"20px",height:"20px",color:"#222",cursor:"pointer",":hover":{backgroundColor:"#ddd"}},ol1:{...N.padding(0),...N.margin(0),marginLeft:"16px",listStylePosition:"inside"},ol2:{...N.padding(0),...N.margin(0),marginLeft:"16px",listStyleType:"upper-alpha",listStylePosition:"inside"},ol3:{...N.padding(0),...N.margin(0),marginLeft:"16px",listStyleType:"lower-alpha",listStylePosition:"inside"},ol4:{...N.padding(0),...N.margin(0),marginLeft:"16px",listStyleType:"upper-roman",listStylePosition:"inside"},ol5:{...N.padding(0),...N.margin(0),marginLeft:"16px",listStyleType:"lower-roman",listStylePosition:"inside"},ul:{...N.padding(0),...N.margin(0),marginLeft:"16px",listStylePosition:"inside"},listItem:{...N.margin(0,"8px")},tokenComment:{color:"slategray"},tokenPunctuation:{color:"#999"},tokenProperty:{color:"#905"},tokenSelector:{color:"#690"},tokenOperator:{color:"#9a6e3a"},tokenAttr:{color:"#07a"},tokenVariable:{color:"#e90"},tokenFunction:{color:"#dd4a68"},embedBlock:{userSelect:"none"},embedBlockFocus:{...N.outline("2px solid rgb(60, 132, 244)")}});function Ro(){const e=bl();return{blockCursor:"LexEditor_blockCursor",code:Y(e.code,"LexEditor_code"),codeHighlight:{atrule:e.tokenAttr,attr:e.tokenAttr,boolean:e.tokenProperty,builtin:e.tokenSelector,cdata:e.tokenComment,char:e.tokenSelector,class:e.tokenFunction,"class-name":e.tokenFunction,comment:e.tokenComment,constant:e.tokenProperty,deleted:e.tokenProperty,doctype:e.tokenComment,entity:e.tokenOperator,function:e.tokenFunction,important:e.tokenVariable,inserted:e.tokenSelector,namespace:e.tokenVariable,number:e.tokenProperty,operator:e.tokenOperator,prolog:e.tokenComment,property:e.tokenProperty,punctuation:e.tokenPunctuation,regex:e.tokenVariable,selector:e.tokenSelector,string:e.tokenSelector,symbol:e.tokenProperty,tag:e.tokenProperty,url:e.tokenOperator,variable:e.tokenVariable},embedBlock:{base:e.embedBlock,focus:e.embedBlockFocus},heading:{h1:e.h1,h2:e.h2,h3:e.h3},image:"LexEditor_Image",link:"LexEditor_link",list:{listitem:e.listItem,listitemChecked:"LexEditor_listItemChecked",listitemUnchecked:"LexEditor_listItemUnchecked",nested:{listitem:"LexEditor_nestedListItem"},olDepth:[e.ol1,e.ol2,e.ol3,e.ol4,e.ol5],ul:e.ul},ltr:e.ltr,mark:"LexEditor_mark",markOverlap:"LexEditor_markOverlap",paragraph:e.paragraph,quote:e.quote,rtl:e.rtl,table:e.table,tableAddColumns:Y(e.tableAddColumns,"LexEditor_tableAddColumns"),tableAddRows:Y(e.tableAddRows,"LexEditor_tableAddRows"),tableCell:e.tableCell,tableCellActionButton:e.tableCellActionButton,tableCellActionButtonContainer:e.tableCellActionButtonContainer,tableCellEditing:e.tableCellEditing,tableCellHeader:e.tableCellHeader,tableCellPrimarySelected:e.tableCellPrimarySelected,tableCellResizer:e.tableCellResizer,tableCellSelected:e.tableCellSelected,tableCellSortedIndicator:e.tableCellSortedIndicator,tableResizeRuler:e.tableCellResizeRuler,tableSelected:e.tableSelected,text:{bold:e.textBold,code:e.textCode,italic:e.textItalic,strikethrough:"LexEditor_textStrikethrough",subscript:e.textSubscript,superscript:e.textSuperscript,underline:"LexEditor_textUnderline",underlineStrikethrough:"LexEditor_textUnderlineStrikethrough"}}}var _o={},El=S,Ie=p,Ll=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Ie.useLayoutEffect:Ie.useEffect;_o.ContentEditable=function({ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:n,ariaDescribedBy:o,ariaExpanded:r,ariaLabel:s,ariaLabelledBy:l,ariaMultiline:a,ariaOwns:g,ariaRequired:d,autoCapitalize:u,className:m,id:f,role:h="textbox",spellCheck:C=!0,style:x,tabIndex:b,"data-testid":E}){let[T]=El.useLexicalComposerContext(),[_,M]=Ie.useState(!1),R=Ie.useCallback(P=>{T.setRootElement(P)},[T]);return Ll(()=>(M(T.isEditable()),T.registerEditableListener(P=>{M(P)})),[T]),Ie.createElement("div",{"aria-activedescendant":_?e:void 0,"aria-autocomplete":_?t:"none","aria-controls":_?n:void 0,"aria-describedby":o,"aria-expanded":_&&h==="combobox"?!!r:void 0,"aria-label":s,"aria-labelledby":l,"aria-multiline":a,"aria-owns":_?g:void 0,"aria-required":d,autoCapitalize:u,className:m,contentEditable:_,"data-testid":E,id:f,ref:R,role:_?h:void 0,spellCheck:C,style:x,tabIndex:b})};const Tl=_o;var Sl=Tl;const Rl=U({root:{...N.border(0),fontSize:"15px",display:"block",position:"relative",tabSize:1,...N.outline(0),...N.padding("8px","28px"),minHeight:"calc(100% - 16px)"},table:{minHeight:"20px",...N.border(0),resize:"none",cursor:"text",display:"block",position:"relative",tabSize:1,...N.outline(0),...N.padding(0),userSelect:"text",fontSize:"15px",whiteSpace:"pre-wrap",wordBreak:"break-word",zIndex:3},display:{...N.padding(0)}});function fn({className:e,table:t}){const n=Rl(),{Display:o}=Pn();return i.jsx(Sl.ContentEditable,{className:Y("LexEditor_Content",e||t?n.table:n.root,!t&&o&&n.display)})}const _l=U({box:{fontSize:"15px",color:"#999",...N.overflow("hidden"),position:"absolute",textOverflow:"ellipsis",top:"8px",left:"28px",right:"28px",userSelect:"none",whiteSpace:"nowrap",display:"inline-block",pointerEvents:"none"}});function Ml({children:e,className:t}){const n=_l();return i.jsx("div",{className:t||n.box,children:e})}const yl=U({shell:{lineHeight:"1.7"},container:{position:"relative"},noTreeView:{borderBottomLeftRadius:ge.borderRadiusLarge,borderBottomRightRadius:ge.borderRadiusLarge},scroller:{minHeight:"150px",...N.overflow("auto"),resize:"vertical"}});function Ol(){Uo(S.useLexicalComposerContext()[0]);const{Namespace:e,OnError:t,Placeholder:n,Display:o,Plugin:{Actions:r,AutoFocus:s,AutoLink:l,CheckList:a,ClickableLink:g,CodeActionMenu:d,CodeHighlight:u,Collapsible:m,DraggableBlock:f,FloatingLinkEditor:h,FloatingTextFormatToolbar:C,HorizontalRule:x,Images:b,Link:E,ListMaxIndentLevel:T,List:_,MarkdownShortcut:M,TabFocus:R,TabIndentation:P,Table:y,Toolbar:V}}=Pn(),Re=i.jsx(Ml,{children:n||"Let's say something awesome...."}),[ee,he]=p.useState(),X=yl();return i.jsxs("div",{className:Y("LexEditor_Shell",X.shell),children:[V&&i.jsx(Nl,{}),i.jsxs("div",{className:Y(...o?[]:[X.container,X.noTreeView,X.scroller]),ref:ze=>ze&&he(ze),children:[s&&i.jsx(jt.AutoFocusPlugin,{}),l&&i.jsx(Gi,{}),a&&i.jsx($r.CheckListPlugin,{}),g&&i.jsx(Vt,{}),u&&i.jsx(ts,{}),m&&i.jsx(os,{}),x&&i.jsx(Ms,{}),b&&i.jsx(nn,{}),E&&i.jsx(on,{}),T&&i.jsx(zs,{maxDepth:T}),_&&i.jsx(Kr.ListPlugin,{}),M&&i.jsx(Gs,{}),i.jsx(Kt.RichTextPlugin,{contentEditable:i.jsx(fn,{}),placeholder:!o&&Re,ErrorBoundary:zt}),R&&i.jsx(Js,{}),P&&i.jsx(mi.TabIndentationPlugin,{}),y&&i.jsxs(sl,{cellEditorConfig:{namespace:e,nodes:[...Ci],onError:t,theme:Ro()},children:[i.jsx(jt.AutoFocusPlugin,{}),i.jsx(Vt,{}),i.jsx(tn,{}),i.jsx(nn,{captionsEnabled:!1}),i.jsx(on,{}),i.jsx(Kt.RichTextPlugin,{contentEditable:i.jsx(fn,{table:!0}),placeholder:null,ErrorBoundary:zt})]}),ee&&i.jsxs(i.Fragment,{children:[r&&i.jsx(ji,{anchor:ee}),d&&i.jsx(es,{anchor:ee}),f&&i.jsx(fs,{anchor:ee}),h&&i.jsx(Ls,{anchor:ee}),C&&i.jsx(tn,{anchor:ee})]})]})]})}const kl=[G.HeadingNode,w.ListNode,w.ListItemNode,G.QuoteNode,$.CodeNode,Se,F.TableNode,F.TableCellNode,F.TableRowNode,$.CodeHighlightNode,A.AutoLinkNode,A.LinkNode,Ho.OverflowNode,ie,oe.HorizontalRuleNode,zo.MarkNode,pe,fe,me];function vl({Namespace:e=Tn.Name,Plugin:t=Sr,Editable:n=!0,OnError:o=a=>{throw a},State:r,Placeholder:s,Display:l}){return n=l?!1:n,i.jsx(Lr.LexicalComposer,{initialConfig:{editorState:r,namespace:e,nodes:[...kl],onError:o,theme:Ro(),editable:n},children:i.jsx(Rr,{Namespace:e,Plugin:l?Tr:t,Editable:n,OnError:o,State:r,Placeholder:s,Display:l,children:i.jsx(ol,{children:i.jsx(Ol,{})})})})}const Bl=Object.freeze(Object.defineProperty({__proto__:null,default:vl},Symbol.toStringTag,{value:"Module"}));export{qn as $,To as C,ne as I,S as L,Ml as P,Se as T,jt as a,on as b,Kt as c,fn as d,zt as e,qs as f,Fl as g,el as h,Qe as i,No as j,Ee as k,Bl as l,Zs as p,Li as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Component-CR2NA_v1.js","assets/components-P3HMgWxx.js","assets/react-mhcLWgJf.js","assets/fluentui-D10euT8-.js","assets/LexicalNestedComposer-B6ItfjO0.js","assets/lexical-jWKiw7TX.js","assets/index-DQ4A6yrT.js","assets/vendor-Cg4l60Qw.js","assets/tools-BeP_WXzy.js","assets/rx-BIoNU6Ta.js","assets/signalr-wWpYR44r.js","assets/index-CZGIALVw.css","assets/Component-BMeJrlku.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
