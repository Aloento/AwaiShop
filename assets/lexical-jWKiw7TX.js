import{c as No}from"./react-mhcLWgJf.js";var T={};let ki={},Tl={},$n={},Nn={},ai={},jt={},Ii={},ui={},An={},wn={},at={},Li={},Fi={},vl={},Cl={},Sl={},xl={},$l={},Al={},wl={},gr={},Ol={},Rl={},Dl={},Ml={},Pl={},kl={},Il={},Ll={},Fl={},bi={},Bi={},bl={},Bl={},Kl={};function A(n){throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?code=${n} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let Qe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ba=Qe&&"documentMode"in document?document.documentMode:null,_e=Qe&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),wt=Qe&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),fr=Qe&&"InputEvent"in window&&!ba?"getTargetRanges"in new window.InputEvent("input"):!1,Ki=Qe&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),zi=Qe&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ba=Qe&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Wi=Qe&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Ba,Rr=Ki||zi||Wi?" ":"​",Ka=wt?" ":Rr,za=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,Wa=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,Ct={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},Ha={directionless:1,unmergeable:2},Eo={center:2,end:6,justify:4,left:1,right:3,start:5},Ua={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},Ga={normal:0,segmented:2,token:1},Ya={0:"normal",2:"segmented",1:"token"},di=!1,Hi=0;function ja(n){Hi=n.timeStamp}function Yr(n,e,t){return e.__lexicalLineBreak===n||n[`__lexicalKey_${t._key}`]!==void 0}function Ja(n){return n.getEditorState().read(()=>{let e=U();return e!==null?e.clone():null})}function zl(n,e,t){di=!0;let r=100<performance.now()-Hi;try{$e(n,()=>{let i=U()||Ja(n);var o=new Map,l=n.getRootElement(),s=n._editorState,a=n._blockCursorElement;let c=!1,f="";for(var d=0;d<e.length;d++){var u=e[d],g=u.type,h=u.target,p=Kn(h,s);if(!(p===null&&h!==l||H(p))){if(g==="characterData"){if(u=r&&O(p))e:{u=i,g=h;var E=p;if(I(u)){var C=u.anchor.getNode();if(C.is(E)&&u.format!==C.getFormat()){u=!1;break e}}u=g.nodeType===3&&E.isAttached()}u&&(E=Ue(n._window),g=u=null,E!==null&&E.anchorNode===h&&(u=E.anchorOffset,g=E.focusOffset),h=h.nodeValue,h!==null&&Ji(p,h,u,g,!1))}else if(g==="childList"){for(c=!0,g=u.addedNodes,E=0;E<g.length;E++){C=g[E];var m=jl(C),N=C.parentNode;N==null||C===a||m!==null||C.nodeName==="BR"&&Yr(C,N,n)||(wt&&(m=C.innerText||C.nodeValue)&&(f+=m),N.removeChild(C))}if(u=u.removedNodes,g=u.length,0<g){for(E=0,C=0;C<g;C++)N=u[C],(N.nodeName==="BR"&&Yr(N,h,n)||a===N)&&(h.appendChild(N),E++);g!==E&&(h===l&&(p=s._nodeMap.get("root")),o.set(h,p))}}}}if(0<o.size)for(let[v,x]of o)if(S(x))for(o=x.getChildrenKeys(),l=v.firstChild,s=0;s<o.length;s++)a=n.getElementByKey(o[s]),a!==null&&(l==null?(v.appendChild(a),l=a):l!==a&&v.replaceChild(a,l),l=l.nextSibling);else O(x)&&x.markDirty();if(o=t.takeRecords(),0<o.length){for(l=0;l<o.length;l++)for(a=o[l],s=a.addedNodes,a=a.target,d=0;d<s.length;d++)p=s[d],h=p.parentNode,h==null||p.nodeName!=="BR"||Yr(p,a,n)||h.removeChild(p);t.takeRecords()}i!==null&&(c&&(i.dirty=!0,ct(i)),wt&&Zl(n)&&i.insertRawText(f))})}finally{di=!1}}function Wl(n){let e=n._observer;if(e!==null){let t=e.takeRecords();zl(n,t,e)}}function Hl(n){Hi===0&&Mr(n).addEventListener("textInput",ja,!0),n._observer=new MutationObserver((e,t)=>{zl(n,e,t)})}let Va=1,Xa=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function Ui(n){let e=document.activeElement;if(e===null)return!1;let t=e.nodeName;return H(Kn(n))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&e.__lexicalEditor==null)}function Bn(n,e,t){let r=n.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(t)&&e!==null&&!Ui(e)&&Gi(e)===n}catch{return!1}}function Gi(n){for(;n!=null;){let e=n.__lexicalEditor;if(e!=null)return e;n=Dr(n)}return null}function ci(n){return n.isToken()||n.isSegmented()}function hr(n){for(;n!=null;){if(n.nodeType===3)return n;n=n.firstChild}return null}function Ul(n,e,t){return e=Ct[e],n&e&&(t===null||!(t&e))?n^e:t===null||t&e?n|e:n}function Gl(n){return O(n)||Pn(n)||H(n)}function Yl(n,e){if(e!=null)n.__key=e;else{Ne(),99<Mn&&A(14),e=Z();var t=Ge(),r=""+Va++;t._nodeMap.set(r,n),S(n)?e._dirtyElements.set(r,!0):e._dirtyLeaves.add(r),e._cloneNotNeeded.add(r),e._dirtyType=1,n.__key=r}}function St(n){var e=n.getParent();if(e!==null){let i=n.getWritable();e=e.getWritable();var t=n.getPreviousSibling();if(n=n.getNextSibling(),t===null)if(n!==null){var r=n.getWritable();e.__first=n.__key,r.__prev=null}else e.__first=null;else{if(r=t.getWritable(),n!==null){let o=n.getWritable();o.__prev=r.__key,r.__next=o.__key}else r.__next=null;i.__prev=null}n===null?t!==null?(n=t.getWritable(),e.__last=t.__key,n.__next=null):e.__last=null:(n=n.getWritable(),t!==null?(t=t.getWritable(),t.__next=n.__key,n.__prev=t.__key):n.__prev=null,i.__next=null),e.__size--,i.__parent=null}}function pr(n){99<Mn&&A(14);var e=n.getLatest(),t=e.__parent,r=Ge();let i=Z(),o=r._nodeMap;if(r=i._dirtyElements,t!==null)e:for(;t!==null;){if(r.has(t))break e;let l=o.get(t);if(l===void 0)break;r.set(t,!1),t=l.__parent}e=e.__key,i._dirtyType=1,S(n)?r.set(e,!0):i._dirtyLeaves.add(e)}function ae(n){Ne();var e=Z();let t=e._compositionKey;n!==t&&(e._compositionKey=n,t!==null&&(e=ne(t),e!==null&&e.getWritable()),n!==null&&(n=ne(n),n!==null&&n.getWritable()))}function ut(){return nn()?null:Z()._compositionKey}function ne(n,e){return n=(e||Ge())._nodeMap.get(n),n===void 0?null:n}function jl(n,e){let t=Z();return n=n[`__lexicalKey_${t._key}`],n!==void 0?ne(n,e):null}function Kn(n,e){for(;n!=null;){let t=jl(n,e);if(t!==null)return t;n=Dr(n)}return null}function Jl(n){let e=Object.assign({},n._decorators);return n._pendingDecorators=e}function To(n){return n.read(()=>He().getTextContent())}function Za(n,e){$e(n,()=>{var t=Ge();if(!t.isEmpty())if(e==="root")He().markDirty();else{t=t._nodeMap;for(let[,r]of t)r.markDirty()}},n._pendingEditorState===null?{tag:"history-merge"}:void 0)}function He(){return Ge()._nodeMap.get("root")}function ct(n){Ne();let e=Ge();n!==null&&(n.dirty=!0,n._cachedNodes=null),e._selection=n}function Ut(n){var e=Z(),t;e:{for(t=n;t!=null;){let r=t[`__lexicalKey_${e._key}`];if(r!==void 0){t=r;break e}t=Dr(t)}t=null}return t===null?(e=e.getRootElement(),n===e?ne("root"):null):ne(t)}function Vl(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function Yi(n){let e=[];for(;n!==null;)e.push(n),n=n._parentEditor;return e}function Xl(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function ji(n,e,t){if(e=Ue(e._window),e!==null){var r=e.anchorNode,{anchorOffset:i,focusOffset:o}=e;if(r!==null&&(e=r.nodeType===3?r.nodeValue:null,r=Kn(r),e!==null&&O(r))){if(r.canContainTabs()){var l=e.includes("	");if(t&&0<t.length&&l){l=t.length;let s=i+l-1,a=e.slice(0,s);e=e.slice(s,e.length),e=`${a}${t}${e}`,i+=l,o+=l}}e===Rr&&t&&(l=t.length,e=t,o=i=l),e!==null&&Ji(r,e,i,o,n)}}}function Ji(n,e,t,r,i){let o=n;if(o.isAttached()&&(i||!o.isDirty())){var l=o.isComposing();if(n=e,(l||i)&&e[e.length-1]===Rr&&(n=e.slice(0,-1)),e=o.getTextContent(),i||n!==e)if(n==="")if(ae(null),Ki||zi||Wi)o.remove();else{let c=Z();setTimeout(()=>{c.update(()=>{o.isAttached()&&o.remove()})},20)}else{i=o.getParent(),e=Hn();var s=ut(),a=o.getKey();o.isToken()||s!==null&&a===s&&!l||i!==null&&I(e)&&!i.canInsertTextBefore()&&e.anchor.offset===0?o.markDirty():(l=U(),I(l)&&t!==null&&r!==null&&(l.setTextNodeRange(o,t,o,r),o.isSegmented()&&(t=o.getTextContent(),t=se(t),o.replace(t),o=t)),o.setTextContent(n))}}}function Qa(n,e){if(e.isSegmented())return!0;if(!n.isCollapsed())return!1;n=n.anchor.offset;let t=e.getParentOrThrow(),r=e.isToken();return n===0?((n=!e.canInsertTextBefore()||!t.canInsertTextBefore()||r)||(e=e.getPreviousSibling(),n=(O(e)||S(e)&&e.isInline())&&!e.canInsertTextAfter()),n):n===e.getTextContentSize()?!e.canInsertTextAfter()||!t.canInsertTextAfter()||r:!1}function En(n,e){var t=n[e];return typeof t=="string"?(t=t.split(" "),n[e]=t):t}function Vi(n,e,t,r,i){t.size!==0&&(t=r.__key,e=e.get(r.__type),e===void 0&&A(33),r=e.klass,e=n.get(r),e===void 0&&(e=new Map,n.set(r,e)),n=e.get(t),r=n==="destroyed"&&i==="created",(n===void 0||r)&&e.set(t,r?"updated":i))}function vo(n,e,t){let r=n.getParent(),i=t;return r!==null&&(e&&t===0?(i=n.getIndexWithinParent(),n=r):e||t!==n.getChildrenSize()||(i=n.getIndexWithinParent()+1,n=r)),n.getChildAtIndex(e?i-1:i)}function gi(n,e){var t=n.offset;return n.type==="element"?(n=n.getNode(),vo(n,e,t)):(n=n.getNode(),e&&t===0||!e&&t===n.getTextContentSize()?(t=e?n.getPreviousSibling():n.getNextSibling(),t===null?vo(n.getParentOrThrow(),e,n.getIndexWithinParent()+(e?0:1)):t):null)}function Zl(n){return n=(n=Mr(n).event)&&n.inputType,n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function _r(n){return!Ce(n)&&!n.isLastChild()&&!n.isInline()}function mr(n,e){return n=n._keyToDOMMap.get(e),n===void 0&&A(75),n}function Dr(n){return n=n.assignedSlot||n.parentElement,n!==null&&n.nodeType===11?n.host:n}function qa(n,e=0){if(e!==0&&A(1),e=U(),!I(e)||!S(n))return e;let{anchor:t,focus:r}=e,i=t.getNode(),o=r.getNode();return yr(i,n)&&t.set(n.__key,0,"element"),yr(o,n)&&r.set(n.__key,0,"element"),e}function yr(n,e){for(n=n.getParent();n!==null;){if(n.is(e))return!0;n=n.getParent()}return!1}function Mr(n){return n=n._window,n===null&&A(78),n}function Ql(n){for(n=n.getParentOrThrow();n!==null&&!Le(n);)n=n.getParentOrThrow();return n}function Le(n){return Ce(n)||S(n)&&n.isShadowRoot()}function ql(n){return n=n.constructor.clone(n),Yl(n,null),n}function Pr(n){var e=Z();let t=n.constructor.getType();return e=e._nodes.get(t),e===void 0&&A(97),e=e.replace,e!==null?(e=e(n),e instanceof n.constructor||A(98),e):n}function jr(n,e){n=n.getParent(),!Ce(n)||S(e)||H(e)||A(99)}function Jr(n){return(H(n)||S(n)&&!n.canBeEmpty())&&!n.isInline()}function fi(n,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null,e=n.parentElement,e!==null&&e.removeChild(n)}function Ue(n){return Qe?(n||window).getSelection():null}function es(n,e){let t=n.getChildAtIndex(e);t==null&&(t=n),Le(n)&&A(102);let r=l=>{const s=l.getParentOrThrow(),a=Le(s),c=l!==t||a?ql(l):l;if(a)return l.insertAfter(c),[l,c,c];const[f,d,u]=r(s);return l=l.getNextSiblings(),u.append(c,...l),[f,d,c]},[i,o]=r(t);return[i,o]}function Nr(n,e){for(;n!==He()&&n!=null;){if(e(n))return n;n=n.getParent()}return null}function eu(n){let e=[],t=[n];for(;0<t.length;){let r=t.pop();r===void 0&&A(112),S(r)&&t.unshift(...r.getChildren()),r!==n&&e.push(r)}return e}function ts(n,e,t,r,i){for(n=n.getFirstChild();n!==null;){let o=n.__key;n!==void 0&&n.__parent===e&&(S(n)&&ts(n,o,t,r,i),t.has(o)||i.delete(o),r.delete(o)),n=n.isAttached()?n.getNextSibling():null}}function tu(n,e,t,r){n=n._nodeMap,e=e._nodeMap;for(let i of t){let o=e.get(i);o===void 0||o.isAttached()||(n.has(i)||t.delete(i),e.delete(i))}for(let[i]of r)t=e.get(i),t===void 0||t.isAttached()||(S(t)&&ts(t,i,n,e,r),n.has(i)||r.delete(i),e.delete(i))}function Co(n,e){let t=n.__mode,r=n.__format;n=n.__style;let i=e.__mode,o=e.__format;return e=e.__style,(t===null||t===i)&&(r===null||r===o)&&(n===null||n===e)}function So(n,e){let t=n.mergeWithSibling(e),r=Z()._normalizedNodes;return r.add(n.__key),r.add(e.__key),t}function ns(n){if(n.__text===""&&n.isSimpleText()&&!n.isUnmergeable())n.remove();else{for(var e;(e=n.getPreviousSibling())!==null&&O(e)&&e.isSimpleText()&&!e.isUnmergeable();)if(e.__text==="")e.remove();else{Co(e,n)&&(n=So(e,n));break}for(var t;(t=n.getNextSibling())!==null&&O(t)&&t.isSimpleText()&&!t.isUnmergeable();)if(t.__text==="")t.remove();else{Co(n,t)&&So(n,t);break}}}function rs(n){return xo(n.anchor),xo(n.focus),n}function xo(n){for(;n.type==="element";){var e=n.getNode(),t=n.offset;if(t===e.getChildrenSize()?(e=e.getChildAtIndex(t-1),t=!0):(e=e.getChildAtIndex(t),t=!1),O(e)){n.set(e.__key,t?e.getTextContentSize():0,"text");break}else if(!S(e))break;n.set(e.__key,t?e.getChildrenSize():0,"element")}}let ee="",ye="",Ve="",gt,fe,On,is=!1,Xi=!1,kr,or=null,hi,pi,Ot,ft,_i,Rn;function lr(n,e){let t=Ot.get(n);if(e!==null){let r=Ni(n);r.parentNode===e&&e.removeChild(r)}ft.has(n)||fe._keyToDOMMap.delete(n),S(t)&&(n=Er(t,Ot),mi(n,0,n.length-1,null)),t!==void 0&&Vi(Rn,On,kr,t,"destroyed")}function mi(n,e,t,r){for(;e<=t;++e){let i=n[e];i!==void 0&&lr(i,r)}}function Tt(n,e){n.setProperty("text-align",e)}function os(n,e){var t=gt.theme.indent;if(typeof t=="string"){let r=n.classList.contains(t);0<e&&!r?n.classList.add(t):1>e&&r&&n.classList.remove(t)}t=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||"40px",n.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${t})`)}function ls(n,e){n=n.style,e===0?Tt(n,""):e===1?Tt(n,"left"):e===2?Tt(n,"center"):e===3?Tt(n,"right"):e===4?Tt(n,"justify"):e===5?Tt(n,"start"):e===6&&Tt(n,"end")}function sr(n,e,t){let r=ft.get(n);r===void 0&&A(60);let i=r.createDOM(gt,fe);var o=fe._keyToDOMMap;if(i["__lexicalKey_"+fe._key]=n,o.set(n,i),O(r)?i.setAttribute("data-lexical-text","true"):H(r)&&i.setAttribute("data-lexical-decorator","true"),S(r)){if(n=r.__indent,o=r.__size,n!==0&&os(i,n),o!==0){--o,n=Er(r,ft);var l=ye;ye="",yi(n,r,0,o,i,null),as(r,i),ye=l}n=r.__format,n!==0&&ls(i,n),r.isInline()||ss(null,r,i),_r(r)&&(ee+=`

`,Ve+=`

`)}else o=r.getTextContent(),H(r)?(l=r.decorate(fe,gt),l!==null&&us(n,l),i.contentEditable="false"):O(r)&&(r.isDirectionless()||(ye+=o)),ee+=o,Ve+=o;return e!==null&&(t!=null?e.insertBefore(i,t):(t=e.__lexicalLineBreak,t!=null?e.insertBefore(i,t):e.appendChild(i))),Vi(Rn,On,kr,r,"created"),i}function yi(n,e,t,r,i,o){let l=ee;for(ee="";t<=r;++t)sr(n[t],i,o);_r(e)&&(ee+=`

`),i.__lexicalTextContent=ee,ee=l+ee}function $o(n,e){return n=e.get(n),Pn(n)||H(n)&&n.isInline()}function ss(n,e,t){n=n!==null&&(n.__size===0||$o(n.__last,Ot)),e=e.__size===0||$o(e.__last,ft),n?e||(e=t.__lexicalLineBreak,e!=null&&t.removeChild(e),t.__lexicalLineBreak=null):e&&(e=document.createElement("br"),t.__lexicalLineBreak=e,t.appendChild(e))}function as(n,e){var t=e.__lexicalDir;if(e.__lexicalDirTextContent!==ye||t!==or){let o=ye==="";if(o)var r=or;else r=ye,r=za.test(r)?"rtl":Wa.test(r)?"ltr":null;if(r!==t){let l=e.classList,s=gt.theme;var i=t!==null?s[t]:void 0;let a=r!==null?s[r]:void 0;i!==void 0&&(typeof i=="string"&&(i=i.split(" "),i=s[t]=i),l.remove(...i)),r===null||o&&r==="ltr"?e.removeAttribute("dir"):(a!==void 0&&(typeof a=="string"&&(t=a.split(" "),a=s[r]=t),a!==void 0&&l.add(...a)),e.dir=r),Xi||(n.getWritable().__dir=r)}or=r,e.__lexicalDirTextContent=ye,e.__lexicalDir=r}}function Er(n,e){let t=[];for(n=n.__first;n!==null;){let r=e.get(n);r===void 0&&A(101),t.push(n),n=r.__next}return t}function _n(n,e){var t=Ot.get(n),r=ft.get(n);t!==void 0&&r!==void 0||A(61);var i=is||pi.has(n)||hi.has(n);let o=mr(fe,n);if(t===r&&!i)return S(t)?(r=o.__lexicalTextContent,r!==void 0&&(ee+=r,Ve+=r),r=o.__lexicalDirTextContent,r!==void 0&&(ye+=r)):(r=t.getTextContent(),O(t)&&!t.isDirectionless()&&(ye+=r),Ve+=r,ee+=r),o;if(t!==r&&i&&Vi(Rn,On,kr,r,"updated"),r.updateDOM(t,o,gt))return r=sr(n,null,null),e===null&&A(62),e.replaceChild(r,o),lr(n,null),r;if(S(t)&&S(r)){if(n=r.__indent,n!==t.__indent&&os(o,n),n=r.__format,n!==t.__format&&ls(o,n),i){n=r,i=ye,ye="",e=ee;var l=t.__size,s=n.__size;if(ee="",l===1&&s===1){var a=t.__first,c=n.__first;if(a===c)_n(a,o);else{var f=Ni(a);c=sr(c,null,null),o.replaceChild(c,f),lr(a,null)}}else{c=Er(t,Ot);var d=Er(n,ft);if(l===0)s!==0&&yi(d,n,0,s-1,o,null);else if(s===0)l!==0&&(a=o.__lexicalLineBreak==null,mi(c,0,l-1,a?null:o),a&&(o.textContent=""));else{var u=c;c=d,d=l-1,l=s-1;let h=o.firstChild,p=0;for(s=0;p<=d&&s<=l;){var g=u[p];let E=c[s];if(g===E)h=Vr(_n(E,o)),p++,s++;else{a===void 0&&(a=new Set(u)),f===void 0&&(f=new Set(c));let C=f.has(g),m=a.has(E);C?(m?(g=mr(fe,E),g===h?h=Vr(_n(E,o)):(h!=null?o.insertBefore(g,h):o.appendChild(g),_n(E,o)),p++):sr(E,o,h),s++):(h=Vr(Ni(g)),lr(g,o),p++)}}a=p>d,f=s>l,a&&!f?(a=c[l+1],a=a===void 0?null:fe.getElementByKey(a),yi(c,n,s,l,o,a)):f&&!a&&mi(u,p,d,o)}}_r(n)&&(ee+=`

`),o.__lexicalTextContent=ee,ee=e+ee,as(n,o),ye=i,Ce(r)||r.isInline()||ss(t,r,o)}_r(r)&&(ee+=`

`,Ve+=`

`)}else t=r.getTextContent(),H(r)?(i=r.decorate(fe,gt),i!==null&&us(n,i)):O(r)&&!r.isDirectionless()&&(ye+=t),ee+=t,Ve+=t;return!Xi&&Ce(r)&&r.__cachedText!==Ve&&(r=r.getWritable(),r.__cachedText=Ve),o}function us(n,e){let t=fe._pendingDecorators,r=fe._decorators;if(t===null){if(r[n]===e)return;t=Jl(fe)}t[n]=e}function Vr(n){return n=n.nextSibling,n!==null&&n===fe._blockCursorElement&&(n=n.nextSibling),n}function Ni(n){return n=_i.get(n),n===void 0&&A(75),n}let je=Object.freeze({}),Ei=[["keydown",uu],["pointerdown",ru],["compositionstart",su],["compositionend",au],["input",lu],["click",nu],["cut",je],["copy",je],["dragstart",je],["dragover",je],["dragend",je],["paste",je],["focus",je],["blur",je],["drop",je]];fr&&Ei.push(["beforeinput",(n,e)=>ou(n,e)]);let Dn=0,ds=0,cs=0,Ht=null,Tn=0,Ti=!1,vi=!1,vn=!1,mn=!1,gs=[0,"",0,"root",0];function fs(n,e,t,r,i){let o=n.anchor,l=n.focus,s=o.getNode();var a=Z();let c=Ue(a._window),f=c!==null?c.anchorNode:null,d=o.key;a=a.getElementByKey(d);let u=t.length;return d!==l.key||!O(s)||(!i&&(!fr||cs<r+50)||s.isDirty()&&2>u||Vl(t))&&o.offset!==l.offset&&!s.isComposing()||ci(s)||s.isDirty()&&1<u||(i||!fr)&&a!==null&&!s.isComposing()&&f!==hr(a)||c!==null&&e!==null&&(!e.collapsed||e.startContainer!==c.anchorNode||e.startOffset!==c.anchorOffset)||s.getFormat()!==n.format||s.getStyle()!==n.style||Qa(n,s)}function Ao(n,e){return n!==null&&n.nodeValue!==null&&n.nodeType===3&&e!==0&&e!==n.nodeValue.length}function wo(n,e,t){let{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:l}=n;Ti&&(Ti=!1,Ao(r,i)&&Ao(o,l))||$e(e,()=>{if(!t)ct(null);else if(Bn(e,r,o)){var s=U();if(I(s)){var a=s.anchor,c=a.getNode();if(s.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(s.dirty=!0);var f=Mr(e).event;f=f?f.timeStamp:performance.now();let[d,u,g,h,p]=gs;f<p+200&&a.offset===g&&a.key===h?(s.format=d,s.style=u):a.type==="text"?(s.format=c.getFormat(),s.style=c.getStyle()):a.type==="element"&&(s.format=0,s.style="")}else{a=255,c=!1,f=s.getNodes();let d=f.length;for(let u=0;u<d;u++){let g=f[u];if(O(g)&&(c=!0,a&=g.getFormat(),a===0))break}s.format=c?a:0}}w(e,ki,void 0)}})}function nu(n,e){$e(e,()=>{let t=U(),r=Ue(e._window),i=Hn();if(I(t)){let o=t.anchor,l=o.getNode();r&&o.type==="element"&&o.offset===0&&t.isCollapsed()&&!Ce(l)&&He().getChildrenSize()===1&&l.getTopLevelElementOrThrow().isEmpty()&&i!==null&&t.is(i)&&(r.removeAllRanges(),t.dirty=!0)}w(e,Tl,n)})}function ru(n,e){let t=n.target;n=n.pointerType,t instanceof Node&&n!=="touch"&&$e(e,()=>{H(Kn(t))||(vi=!0)})}function hs(n){return n.getTargetRanges?(n=n.getTargetRanges(),n.length===0?null:n[0]):null}function iu(n,e){return n!==e||S(n)||S(e)||!n.isToken()||!e.isToken()}function ou(n,e){let t=n.inputType,r=hs(n);t==="deleteCompositionText"||wt&&Zl(e)||t!=="insertCompositionText"&&$e(e,()=>{let i=U();if(t==="deleteContentBackward"){if(i===null){var o=Hn();if(!I(o))return;ct(o.clone())}if(I(i)){ds===229&&n.timeStamp<Dn+30&&e.isComposing()&&i.anchor.key===i.focus.key?(ae(null),Dn=0,setTimeout(()=>{$e(e,()=>{ae(null)})},30),I(i)&&(o=i.anchor.getNode(),o.markDirty(),i.format=o.getFormat(),i.style=o.getStyle())):(n.preventDefault(),w(e,$n,!0));return}}if(I(i)){o=n.data,Ht!==null&&ji(!1,e,Ht),i.dirty&&Ht===null||!i.isCollapsed()||Ce(i.anchor.getNode())||r===null||i.applyDOMRange(r),Ht=null;var l=i.focus,s=i.anchor.getNode();if(l=l.getNode(),t==="insertText"||t==="insertTranspose")o===`
`?(n.preventDefault(),w(e,Nn,!1)):o===`

`?(n.preventDefault(),w(e,ai,void 0)):o==null&&n.dataTransfer?(o=n.dataTransfer.getData("text/plain"),n.preventDefault(),i.insertRawText(o)):o!=null&&fs(i,r,o,n.timeStamp,!0)?(n.preventDefault(),w(e,jt,o)):Ht=o,cs=n.timeStamp;else switch(n.preventDefault(),t){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":w(e,jt,n);break;case"insertFromComposition":ae(null),w(e,jt,n);break;case"insertLineBreak":ae(null),w(e,Nn,!1);break;case"insertParagraph":ae(null),vn?(vn=!1,w(e,Nn,!1)):w(e,ai,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":w(e,Ii,n);break;case"deleteByComposition":iu(s,l)&&w(e,ui,void 0);break;case"deleteByDrag":case"deleteByCut":w(e,ui,void 0);break;case"deleteContent":w(e,$n,!1);break;case"deleteWordBackward":w(e,An,!0);break;case"deleteWordForward":w(e,An,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":w(e,wn,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":w(e,wn,!1);break;case"formatStrikeThrough":w(e,at,"strikethrough");break;case"formatBold":w(e,at,"bold");break;case"formatItalic":w(e,at,"italic");break;case"formatUnderline":w(e,at,"underline");break;case"historyUndo":w(e,Li,void 0);break;case"historyRedo":w(e,Fi,void 0)}}})}function lu(n,e){n.stopPropagation(),$e(e,()=>{var t=U(),r=n.data,i=hs(n);if(r!=null&&I(t)&&fs(t,i,r,n.timeStamp,!1)){mn&&(Ci(e,r),mn=!1);var o=t.anchor,l=o.getNode();if(i=Ue(e._window),i===null)return;let s=o.offset;(o=fr&&!t.isCollapsed()&&O(l)&&i.anchorNode!==null)&&(l=l.getTextContent().slice(0,s)+r+l.getTextContent().slice(s+t.focus.offset),i=i.anchorNode,o=l===(i.nodeType===3?i.nodeValue:null)),o||w(e,jt,r),r=r.length,wt&&1<r&&n.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=r),Ki||zi||Wi||!e.isComposing()||(Dn=0,ae(null))}else ji(!1,e,r!==null?r:void 0),mn&&(Ci(e,r||void 0),mn=!1);Ne(),t=Z(),Wl(t)}),Ht=null}function su(n,e){$e(e,()=>{let t=U();if(I(t)&&!e.isComposing()){let r=t.anchor,i=t.anchor.getNode();ae(r.key),(n.timeStamp<Dn+30||r.type==="element"||!t.isCollapsed()||i.getFormat()!==t.format||i.getStyle()!==t.style)&&w(e,jt,Ka)}})}function Ci(n,e){var t=n._compositionKey;if(ae(null),t!==null&&e!=null){if(e===""){e=ne(t),n=hr(n.getElementByKey(t)),n!==null&&n.nodeValue!==null&&O(e)&&Ji(e,n.nodeValue,null,null,!0);return}if(e[e.length-1]===`
`&&(t=U(),I(t))){e=t.focus,t.anchor.set(e.key,e.offset,e.type),w(n,gr,null);return}}ji(!0,n,e)}function au(n,e){wt?mn=!0:$e(e,()=>{Ci(e,n.data)})}function uu(n,e){if(Dn=n.timeStamp,ds=n.keyCode,!e.isComposing()){var{keyCode:t,shiftKey:r,ctrlKey:i,metaKey:o,altKey:l}=n;if(!w(e,vl,n)){if(t!==39||i||o||l)if(t!==39||l||r||!i&&!o)if(t!==37||i||o||l)if(t!==37||l||r||!i&&!o)if(t!==38||i||o)if(t!==40||i||o)if(t===13&&r)vn=!0,w(e,gr,n);else if(t===32)w(e,Ol,n);else if(_e&&i&&t===79)n.preventDefault(),vn=!0,w(e,Nn,!0);else if(t!==13||r)if(_e?!(l||o)&&(t===8||t===72&&i):!(i||l||o)&&t===8)t===8?w(e,Rl,n):(n.preventDefault(),w(e,$n,!0));else if(t===27)w(e,Dl,n);else if(_e?!(r||l||o)&&(t===46||t===68&&i):!(i||l||o)&&t===46)t===46?w(e,Ml,n):(n.preventDefault(),w(e,$n,!1));else if(t===8&&(_e?l:i))n.preventDefault(),w(e,An,!0);else if(t===46&&(_e?l:i))n.preventDefault(),w(e,An,!1);else if(_e&&o&&t===8)n.preventDefault(),w(e,wn,!0);else if(_e&&o&&t===46)n.preventDefault(),w(e,wn,!1);else if(t===66&&!l&&(_e?o:i))n.preventDefault(),w(e,at,"bold");else if(t===85&&!l&&(_e?o:i))n.preventDefault(),w(e,at,"underline");else if(t===73&&!l&&(_e?o:i))n.preventDefault(),w(e,at,"italic");else if(t!==9||l||i||o)if(t===90&&!r&&(_e?o:i))n.preventDefault(),w(e,Li,void 0);else{var s=_e?t===90&&o&&r:t===89&&i||t===90&&i&&r;s?(n.preventDefault(),w(e,Fi,void 0)):Wn(e._editorState._selection)&&(s=r?!1:t===67?_e?o:i:!1,s?(n.preventDefault(),w(e,bi,n)):(s=r?!1:t===88?_e?o:i:!1,s?(n.preventDefault(),w(e,Bi,n)):t===65&&(_e?o:i)&&(n.preventDefault(),e.update(()=>{let a=He();a.select(0,a.getChildrenSize())}))))}else w(e,Pl,n);else vn=!1,w(e,gr,n);else w(e,wl,n);else w(e,Al,n);else w(e,$l,n);else w(e,xl,n);else w(e,Sl,n);else w(e,Cl,n);(i||r||l||o)&&w(e,Kl,n)}}}function ps(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}let Jt=new Map;function _s(n){n=n.target;let e=Ue(n==null?null:n.nodeType===9?n.defaultView:n.ownerDocument.defaultView);if(e!==null){var t=Gi(e.anchorNode);if(t!==null){vi&&(vi=!1,$e(t,()=>{var l=Hn(),s=e.anchorNode;s!==null&&(s=s.nodeType,s===1||s===3)&&(l=Es(l,e,t),ct(l))})),n=Yi(t),n=n[n.length-1];var r=n._key,i=Jt.get(r),o=i||n;o!==t&&wo(e,o,!1),wo(e,t,!0),t!==n?Jt.set(r,t):i&&Jt.delete(r)}}}function du(n,e){Tn===0&&n.ownerDocument.addEventListener("selectionchange",_s),Tn++,n.__lexicalEditor=e;let t=ps(n);for(let r=0;r<Ei.length;r++){let[i,o]=Ei[r],l=typeof o=="function"?s=>{s._lexicalHandled!==!0&&(s._lexicalHandled=!0,e.isEditable()&&o(s,e))}:s=>{if(s._lexicalHandled!==!0&&(s._lexicalHandled=!0,e.isEditable()))switch(i){case"cut":return w(e,Bi,s);case"copy":return w(e,bi,s);case"paste":return w(e,Ii,s);case"dragstart":return w(e,Il,s);case"dragover":return w(e,Ll,s);case"dragend":return w(e,Fl,s);case"focus":return w(e,bl,s);case"blur":return w(e,Bl,s);case"drop":return w(e,kl,s)}};n.addEventListener(i,l),t.push(()=>{n.removeEventListener(i,l)})}}function Si(n,e,t){Ne();var r=n.__key;let i=n.getParent();if(i!==null){var o=qa(n),l=!1;if(I(o)&&e){let s=o.anchor,a=o.focus;s.key===r&&(vr(s,n,i,n.getPreviousSibling(),n.getNextSibling()),l=!0),a.key===r&&(vr(a,n,i,n.getPreviousSibling(),n.getNextSibling()),l=!0)}I(o)&&e&&!l?(r=n.getIndexWithinParent(),St(n),Tr(o,i,r,-1)):St(n),t||Le(i)||i.canBeEmpty()||!i.isEmpty()||Si(i,e),e&&Ce(i)&&i.isEmpty()&&i.selectEnd()}}class zn{static getType(){A(64)}static clone(){A(65)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Yl(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;e!==null;){if(e==="root")return!0;if(e=ne(e),e===null)break;e=e.__parent}return!1}isSelected(e){if(e=e||U(),e==null)return!1;let t=e.getNodes().some(r=>r.__key===this.__key);return O(this)?t:I(e)&&e.anchor.type==="element"&&e.focus.type==="element"&&e.anchor.key===e.focus.key&&e.anchor.offset===e.focus.offset?!1:t}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(e===null)return-1;e=e.getFirstChild();let t=0;for(;e!==null;){if(this.is(e))return t;t++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return e===null?null:ne(e)}getParentOrThrow(){let e=this.getParent();return e===null&&A(66),e}getTopLevelElement(){let e=this;for(;e!==null;){let t=e.getParent();if(Le(t))return e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return e===null&&A(67),e}getParents(){let e=[],t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return e===null?null:ne(e)}getPreviousSiblings(){let e=[];var t=this.getParent();if(t===null)return e;for(t=t.getFirstChild();t!==null&&!t.is(this);)e.push(t),t=t.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return e===null?null:ne(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=this.getParents();var r=e.getParents();S(this)&&t.unshift(this),S(e)&&r.unshift(e),e=t.length;var i=r.length;if(e===0||i===0||t[e-1]!==r[i-1])return null;for(r=new Set(r),i=0;i<e;i++){let o=t[i];if(r.has(o))return o}return null}is(e){return e==null?!1:this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var t=this.getCommonAncestor(e);let r=this;for(;;){var i=r.getParentOrThrow();if(i===t){i=r.getIndexWithinParent();break}r=i}for(r=e;;){if(e=r.getParentOrThrow(),e===t){t=r.getIndexWithinParent();break}r=e}return i<t}isParentOf(e){let t=this.__key;if(t===e.__key)return!1;for(;e!==null;){if(e.__key===t)return!0;e=e.getParent()}return!1}getNodesBetween(e){let t=this.isBefore(e),r=[],i=new Set;for(var o=this;;){var l=o.__key;if(i.has(l)||(i.add(l),r.push(o)),o===e)break;if(l=S(o)?t?o.getFirstChild():o.getLastChild():null,l!==null)o=l;else if(l=t?o.getNextSibling():o.getPreviousSibling(),l!==null)o=l;else{if(o=o.getParentOrThrow(),i.has(o.__key)||r.push(o),o===e)break;l=o;do l===null&&A(68),o=t?l.getNextSibling():l.getPreviousSibling(),l=l.getParent(),l!==null&&(o!==null||i.has(l.__key)||r.push(l));while(o===null)}}return t||r.reverse(),r}isDirty(){let e=Z()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){let e=ne(this.__key);return e===null&&A(113),e}getWritable(){Ne();var e=Ge(),t=Z();e=e._nodeMap;let r=this.__key,i=this.getLatest(),o=i.__parent;t=t._cloneNotNeeded;var l=U();return l!==null&&(l._cachedNodes=null),t.has(r)?(pr(i),i):(l=i.constructor.clone(i),l.__parent=o,l.__next=i.__next,l.__prev=i.__prev,S(i)&&S(l)?(l.__first=i.__first,l.__last=i.__last,l.__size=i.__size,l.__indent=i.__indent,l.__format=i.__format,l.__dir=i.__dir):O(i)&&O(l)&&(l.__format=i.__format,l.__style=i.__style,l.__mode=i.__mode,l.__detail=i.__detail),t.add(r),l.__key=r,pr(l),e.set(r,l),l)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){A(70)}updateDOM(){A(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){A(72)}static importJSON(){A(18)}static transform(){return null}remove(e){Si(this,!0,e)}replace(e,t){Ne();var r=U();r!==null&&(r=r.clone()),jr(this,e);let i=this.getLatest(),o=this.__key,l=e.__key,s=e.getWritable();e=this.getParentOrThrow().getWritable();let a=e.__size;St(s);let c=i.getPreviousSibling(),f=i.getNextSibling(),d=i.__prev,u=i.__next,g=i.__parent;return Si(i,!1,!0),c===null?e.__first=l:c.getWritable().__next=l,s.__prev=d,f===null?e.__last=l:f.getWritable().__prev=l,s.__next=u,s.__parent=g,e.__size=a,t&&this.getChildren().forEach(h=>{s.append(h)}),I(r)&&(ct(r),t=r.anchor,r=r.focus,t.key===o&&Oo(t,s),r.key===o&&Oo(r,s)),ut()===o&&ae(l),s}insertAfter(e,t=!0){Ne(),jr(this,e);var r=this.getWritable();let i=e.getWritable();var o=i.getParent();let l=U();var s=!1,a=!1;if(o!==null){var c=e.getIndexWithinParent();St(i),I(l)&&(a=o.__key,s=l.anchor,o=l.focus,s=s.type==="element"&&s.key===a&&s.offset===c+1,a=o.type==="element"&&o.key===a&&o.offset===c+1)}o=this.getNextSibling(),c=this.getParentOrThrow().getWritable();let f=i.__key,d=r.__next;return o===null?c.__last=f:o.getWritable().__prev=f,c.__size++,r.__next=f,i.__next=d,i.__prev=r.__key,i.__parent=r.__parent,t&&I(l)&&(t=this.getIndexWithinParent(),Tr(l,c,t+1),r=c.__key,s&&l.anchor.set(r,t+2,"element"),a&&l.focus.set(r,t+2,"element")),e}insertBefore(e,t=!0){Ne(),jr(this,e);var r=this.getWritable();let i=e.getWritable(),o=i.__key;St(i);let l=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),a=r.__prev,c=this.getIndexWithinParent();return l===null?s.__first=o:l.getWritable().__next=o,s.__size++,r.__prev=o,i.__prev=a,i.__next=r.__key,i.__parent=r.__parent,r=U(),t&&I(r)&&(t=this.getParentOrThrow(),Tr(r,t,c)),e}isParentRequired(){return!1}createParentElementNode(){return Rt()}selectPrevious(e,t){Ne();let r=this.getPreviousSibling(),i=this.getParentOrThrow();return r===null?i.select(0,0):S(r)?r.select():O(r)?r.select(e,t):(e=r.getIndexWithinParent()+1,i.select(e,e))}selectNext(e,t){Ne();let r=this.getNextSibling(),i=this.getParentOrThrow();return r===null?i.select():S(r)?r.select(0,0):O(r)?r.select(e,t):(e=r.getIndexWithinParent(),i.select(e,e))}markDirty(){this.getWritable()}}class We{constructor(e,t,r){this._selection=null,this.key=e,this.offset=t,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),r=e.getNode(),i=this.offset;if(e=e.offset,S(t)){var o=t.getDescendantByIndex(i);t=o??t}return S(r)&&(o=r.getDescendantByIndex(e),r=o??r),t===r?i<e:t.isBefore(r)}getNode(){let e=ne(this.key);return e===null&&A(20),e}set(e,t,r){let i=this._selection,o=this.key;this.key=e,this.offset=t,this.type=r,nn()||(ut()===o&&ae(e),i!==null&&(i._cachedNodes=null,i.dirty=!0))}}function Xr(n,e){let t=e.__key,r=n.offset,i="element";if(O(e))i="text",e=e.getTextContentSize(),r>e&&(r=e);else if(!S(e)){var o=e.getNextSibling();O(o)?(t=o.__key,r=0,i="text"):(o=e.getParent())&&(t=o.__key,r=e.getIndexWithinParent()+1)}n.set(t,r,i)}function Oo(n,e){if(S(e)){let t=e.getLastDescendant();S(t)||O(t)?Xr(n,t):Xr(n,e)}else Xr(n,e)}function Ro(n,e,t,r){let i=n.getNode(),o=i.getChildAtIndex(n.offset),l=se(),s=Ce(i)?Rt().append(l):l;l.setFormat(t),l.setStyle(r),o===null?i.append(s):o.insertBefore(s),n.is(e)&&e.set(l.__key,0,"text"),n.set(l.__key,0,"text")}function st(n,e,t,r){n.key=e,n.offset=t,n.type=r}class Ir{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!Wn(e))return!1;let t=this._nodes,r=e._nodes;return t.size===r.size&&Array.from(t).every(i=>r.has(i))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Ir(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let r=this.getNodes(),i=r.length;var o=r[i-1];if(O(o))o=o.select();else{let l=o.getIndexWithinParent()+1;o=o.getParentOrThrow().select(l,l)}for(o.insertNodes(e,t),e=0;e<i;e++)r[e].remove();return!0}getNodes(){var e=this._cachedNodes;if(e!==null)return e;var t=this._nodes;e=[];for(let r of t)t=ne(r),t!==null&&e.push(t);return nn()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}}function I(n){return n instanceof It}class Lr{constructor(e,t,r){this.gridKey=e,this.anchor=t,this.focus=r,this.dirty=!1,this._cachedNodes=null,t._selection=this,r._selection=this}is(e){return Zi(e)?this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus):!1}set(e,t,r){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=r,this._cachedNodes=null}clone(){return new Lr(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return ar(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let r=this.focus.getNode();return rs(r.select(0,r.getChildrenSize())).insertNodes(e,t)}getShape(){var e=ne(this.anchor.key);e===null&&A(21);var t=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var r=ne(this.focus.key);r===null&&A(22);var i=r.getIndexWithinParent();let o=r.getParentOrThrow().getIndexWithinParent();return r=Math.min(t,i),t=Math.max(t,i),i=Math.min(e,o),e=Math.max(e,o),{fromX:Math.min(r,t),fromY:Math.min(i,e),toX:Math.max(r,t),toY:Math.max(i,e)}}getNodes(){function e(E){let{cell:C,startColumn:m,startRow:N}=E;a=Math.min(a,m),c=Math.min(c,N),f=Math.max(f,m+C.__colSpan-1),d=Math.max(d,N+C.__rowSpan-1)}var t=this._cachedNodes;if(t!==null)return t;var r=this.anchor.getNode();t=this.focus.getNode(),r=Nr(r,Ke);var i=Nr(t,Ke);Ke(r)||A(103),Ke(i)||A(104),t=r.getParent(),kn(t)||A(105),t=t.getParent(),to(t)||A(106);let[o,l,s]=Ts(t,r,i),a=Math.min(l.startColumn,s.startColumn),c=Math.min(l.startRow,s.startRow),f=Math.max(l.startColumn+l.cell.__colSpan-1,s.startColumn+s.cell.__colSpan-1),d=Math.max(l.startRow+l.cell.__rowSpan-1,s.startRow+s.cell.__rowSpan-1);r=a,i=c;for(var u=a,g=c;a<r||c<i||f>u||d>g;){if(a<r){var h=g-i;--r;for(var p=0;p<=h;p++)e(o[i+p][r])}if(c<i)for(h=u-r,--i,p=0;p<=h;p++)e(o[i][r+p]);if(f>u)for(h=g-i,u+=1,p=0;p<=h;p++)e(o[i+p][u]);if(d>g)for(h=u-r,g+=1,p=0;p<=h;p++)e(o[g][r+p])}for(t=[t],r=null,i=c;i<=d;i++)for(u=a;u<=f;u++)({cell:g}=o[i][u]),h=g.getParent(),kn(h)||A(107),h!==r&&t.push(h),t.push(g,...eu(g)),r=h;return nn()||(this._cachedNodes=t),t}getTextContent(){let e=this.getNodes(),t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}}function Zi(n){return n instanceof Lr}class It{constructor(e,t,r,i){this.anchor=e,this.focus=t,this.dirty=!1,this.format=r,this.style=i,this._cachedNodes=null,e._selection=this,t._selection=this}is(e){return I(e)?this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style:!1}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(e!==null)return e;e=this.anchor;var t=this.focus,r=e.isBefore(t),i=r?e:t;r=r?t:e,e=i.getNode(),t=r.getNode();let o=i.offset;return i=r.offset,S(e)&&(r=e.getDescendantByIndex(o),e=r??e),S(t)&&(r=t.getDescendantByIndex(i),r!==null&&r!==e&&t.getChildAtIndex(i)===r&&(r=r.getPreviousSibling()),t=r??t),e=e.is(t)?S(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(t),nn()||(this._cachedNodes=e),e}setTextNodeRange(e,t,r,i){st(this.anchor,e.__key,t,"text"),st(this.focus,r.__key,i,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(e.length===0)return"";let t=e[0],r=e[e.length-1],i=this.anchor,o=this.focus,l=i.isBefore(o),[s,a]=ar(this),c="",f=!0;for(let d=0;d<e.length;d++){let u=e[d];if(S(u)&&!u.isInline())f||(c+=`
`),f=!u.isEmpty();else if(f=!1,O(u)){let g=u.getTextContent();u===t?u===r?(i.type!=="element"||o.type!=="element"||o.offset===i.offset)&&(g=s<a?g.slice(s,a):g.slice(a,s)):g=l?g.slice(s):g.slice(a):u===r&&(g=l?g.slice(0,a):g.slice(0,s)),c+=g}else!H(u)&&!Pn(u)||u===r&&this.isCollapsed()||(c+=u.getTextContent())}return c}applyDOMRange(e){let t=Z(),r=t.getEditorState()._selection;if(e=ys(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,r),e!==null){var[i,o]=e;st(this.anchor,i.key,i.offset,i.type),st(this.focus,o.key,o.offset,o.type),this._cachedNodes=null}}clone(){let e=this.anchor,t=this.focus;return new It(new We(e.key,e.offset,e.type),new We(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=Ul(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return(this.format&Ct[e])!==0}insertRawText(e){let t=e.split(/\r?\n/);if(t.length===1)this.insertText(e);else{e=[];let r=t.length;for(let i=0;i<r;i++){let o=t[i];o!==""&&e.push(se(o)),i!==r-1&&e.push(en())}this.insertNodes(e)}}insertText(e){var t=this.anchor,r=this.focus,i=this.isCollapsed()||t.isBefore(r),o=this.format,l=this.style;i&&t.type==="element"?Ro(t,r,o,l):i||r.type!=="element"||Ro(r,t,o,l);var s=this.getNodes(),a=s.length,c=i?r:t;r=(i?t:r).offset;var f=c.offset;t=s[0],O(t)||A(26),i=t.getTextContent().length;var d=t.getParentOrThrow(),u=s[a-1];if(this.isCollapsed()&&r===i&&(t.isSegmented()||t.isToken()||!t.canInsertTextAfter()||!d.canInsertTextAfter()&&t.getNextSibling()===null)){var g=t.getNextSibling();if((!O(g)||ci(g))&&(g=se(),g.setFormat(o),d.canInsertTextAfter()?t.insertAfter(g):d.insertAfter(g)),g.select(0,0),t=g,e!==""){this.insertText(e);return}}else if(this.isCollapsed()&&r===0&&(t.isSegmented()||t.isToken()||!t.canInsertTextBefore()||!d.canInsertTextBefore()&&t.getPreviousSibling()===null)){if(g=t.getPreviousSibling(),(!O(g)||ci(g))&&(g=se(),g.setFormat(o),d.canInsertTextBefore()?t.insertBefore(g):d.insertBefore(g)),g.select(),t=g,e!==""){this.insertText(e);return}}else if(t.isSegmented()&&r!==i)d=se(t.getTextContent()),d.setFormat(o),t.replace(d),t=d;else if(!(this.isCollapsed()||e===""||(g=u.getParent(),d.canInsertTextBefore()&&d.canInsertTextAfter()&&(!S(g)||g.canInsertTextBefore()&&g.canInsertTextAfter())))){this.insertText(""),ms(this.anchor,this.focus,null),this.insertText(e);return}if(a===1)if(t.isToken())e=se(e),e.select(),t.replace(e);else{if(s=t.getFormat(),a=t.getStyle(),r===f&&(s!==o||a!==l))if(t.getTextContent()==="")t.setFormat(o),t.setStyle(l);else{s=se(e),s.setFormat(o),s.setStyle(l),s.select(),r===0?t.insertBefore(s,!1):([a]=t.splitText(r),a.insertAfter(s,!1)),s.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);return}t=t.spliceText(r,f-r,e,!0),t.getTextContent()===""?t.remove():this.anchor.type==="text"&&(t.isComposing()?this.anchor.offset-=e.length:(this.format=s,this.style=a))}else{if(o=new Set([...t.getParentKeys(),...u.getParentKeys()]),g=S(t)?t:t.getParentOrThrow(),l=S(u)?u:u.getParentOrThrow(),d=u,!g.is(l)&&l.isInline())do d=l,l=l.getParentOrThrow();while(l.isInline());c.type==="text"&&(f!==0||u.getTextContent()==="")||c.type==="element"&&u.getIndexWithinParent()<f?O(u)&&!u.isToken()&&f!==u.getTextContentSize()?(u.isSegmented()&&(c=se(u.getTextContent()),u.replace(c),u=c),u=u.spliceText(0,f,""),o.add(u.__key)):(c=u.getParentOrThrow(),c.canBeEmpty()||c.getChildrenSize()!==1?u.remove():c.remove()):o.add(u.__key),c=l.getChildren(),f=new Set(s),u=g.is(l),g=g.isInline()&&t.getNextSibling()===null?g:t;for(let h=c.length-1;0<=h;h--){let p=c[h];if(p.is(t)||S(p)&&p.isParentOf(t))break;p.isAttached()&&(!f.has(p)||p.is(d)?u||g.insertAfter(p,!1):p.remove())}if(!u)for(c=l,f=null;c!==null;)l=c.getChildren(),u=l.length,(u===0||l[u-1].is(f))&&(o.delete(c.__key),f=c),c=c.getParent();for(t.isToken()?r===i?t.select():(e=se(e),e.select(),t.replace(e)):(t=t.spliceText(r,i-r,e,!0),t.getTextContent()===""?t.remove():t.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length)),e=1;e<a;e++)t=s[e],o.has(t.__key)||t.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),ae(null);else{var t=this.getNodes(),r=[];for(var i of t)O(i)&&r.push(i);var o=r.length;if(o===0)this.toggleFormat(e),ae(null);else{i=this.anchor;var l=this.focus,s=this.isBackward();t=s?l:i,i=s?i:l;var a=0,c=r[0];if(l=t.type==="element"?0:t.offset,t.type==="text"&&l===c.getTextContentSize()&&(a=1,c=r[1],l=0),c!=null){s=c.getFormatFlags(e,null);var f=o-1,d=r[f];if(o=i.type==="text"?i.offset:d.getTextContentSize(),c.is(d))l!==o&&(l===0&&o===c.getTextContentSize()?c.setFormat(s):(e=c.splitText(l,o),e=l===0?e[0]:e[1],e.setFormat(s),t.type==="text"&&t.set(e.__key,0,"text"),i.type==="text"&&i.set(e.__key,o-l,"text")),this.format=s);else{l!==0&&([,c]=c.splitText(l),l=0),c.setFormat(s);var u=d.getFormatFlags(e,s);for(0<o&&(o!==d.getTextContentSize()&&([d]=d.splitText(o)),d.setFormat(u)),a+=1;a<f;a++){let g=r[a];if(!g.isToken()){let h=g.getFormatFlags(e,u);g.setFormat(h)}}t.type==="text"&&t.set(c.__key,l,"text"),i.type==="text"&&i.set(d.__key,o,"text"),this.format=s|u}}}}}insertNodes(e,t){if(!this.isCollapsed()){var r=this.isBackward()?this.anchor:this.focus,i=r.getNode().getNextSibling();if(i=i?i.getKey():null,r=(r=r.getNode().getPreviousSibling())?r.getKey():null,this.removeText(),this.isCollapsed()&&this.focus.type==="element"){if(this.focus.key===i&&this.focus.offset===0){var o=se();this.focus.getNode().insertBefore(o)}else this.focus.key===r&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(o=se(),this.focus.getNode().insertAfter(o));o&&(this.focus.set(o.__key,0,"text"),this.anchor.set(o.__key,0,"text"))}}o=this.anchor,r=o.offset;var l=o.getNode();i=l,o.type==="element"&&(o=o.getNode(),i=o.getChildAtIndex(r-1),i=i===null?o:i),o=[];var s=l.getNextSiblings(),a=Le(l)?null:l.getTopLevelElementOrThrow();if(O(l))if(i=l.getTextContent().length,r===0&&i!==0)i=l.getPreviousSibling(),i=i!==null?i:l.getParentOrThrow(),o.push(l);else if(r===i)i=l;else{if(l.isToken())return!1;[i,l]=l.splitText(r),o.push(l)}l=i,o.push(...s),s=e[0];var c=!1,f=null;for(let h=0;h<e.length;h++){var d=e[h];if(Le(i)||H(i)||!S(d)||d.isInline())c&&!S(d)&&!H(d)&&Le(i.getParent())&&A(28);else{if(d.is(s)){if(S(i)&&i.isEmpty()&&i.canReplaceWith(d)){i.replace(d),i=d,c=!0;continue}if(c=d.getFirstDescendant(),Gl(c)){for(var u=c.getParentOrThrow();u.isInline();)u=u.getParentOrThrow();if(f=u.getChildren(),c=f.length,S(i)){var g=i.getFirstChild();for(let p=0;p<c;p++){let E=f[p];g===null?i.append(E):g.insertAfter(E),g=E}}else{for(g=c-1;0<=g;g--)i.insertAfter(f[g]);i=i.getParentOrThrow()}if(f=f[c-1],u.remove(),c=!0,u.is(d))continue}}O(i)&&(a===null&&A(27),i=a)}c=!1,S(i)&&!i.isInline()?(f=d,H(d)&&!d.isInline()?i=i.insertAfter(d,!1):S(d)?(d.canBeEmpty()||!d.isEmpty())&&(Ce(i)?(u=i.getChildAtIndex(r),u!==null?u.insertBefore(d):i.append(d),i=d):d.isInline()?(i.append(d),i=d):i=i.insertAfter(d,!1)):(u=i.getFirstChild(),u!==null?u.insertBefore(d):i.append(d),i=d)):!S(d)||S(d)&&d.isInline()||H(i)&&!i.isInline()?(f=d,I(this)&&H(d)&&(S(i)||O(i))&&!d.isInline()?(O(i)?(u=i.getParentOrThrow(),[i]=i.splitText(r),i=i.getIndexWithinParent()+1):(u=i,i=r),[,i]=es(u,i),i=i.insertBefore(d)):i=i.insertAfter(d,!1)):(d=i.getParentOrThrow(),Pn(i)&&i.remove(),i=d,h--)}if(t&&(O(l)?l.select():(e=i.getPreviousSibling(),O(e)?e.select():(e=i.getIndexWithinParent(),i.getParentOrThrow().select(e,e)))),S(i)){if(e=O(f)?f:S(f)&&f.isInline()?f.getLastDescendant():i.getLastDescendant(),t||(e===null?i.select():O(e)?e.getTextContent()===""?e.selectPrevious():e.select():e.selectNext()),o.length!==0)for(t=i,e=o.length-1;0<=e;e--)r=o[e],a=r.getParentOrThrow(),!S(i)||Io(r)||H(r)&&(!r.isInline()||r.isIsolated())?S(i)||Io(r)?S(r)&&!r.canInsertAfter(i)?(l=a.constructor.clone(a),S(l)||A(29),l.append(r),i.insertAfter(l)):i.insertAfter(r):(i.insertBefore(r),i=r):(t===i?i.append(r):i.insertBefore(r),i=r),a.isEmpty()&&!a.canBeEmpty()&&a.remove()}else t||(O(i)?i.select():(t=i.getParentOrThrow(),e=i.getIndexWithinParent()+1,t.select(e,e)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var e=this.anchor,t=e.offset,r=[];if(e.type==="text"){var i=e.getNode(),o=i.getNextSiblings().reverse(),l=i.getParentOrThrow(),s=l.isInline(),a=s?l.getTextContentSize():i.getTextContentSize();t===0?o.push(i):(s&&(r=l.getNextSiblings()),t===a||s&&t===i.getTextContentSize()||([,i]=i.splitText(t),o.push(i)))}else{if(l=e.getNode(),Le(l)){o=Rt(),r=l.getChildAtIndex(t),o.select(),r!==null?r.insertBefore(o,!1):l.append(o);return}o=l.getChildren().slice(t).reverse()}if(i=o.length,t===0&&0<i&&l.isInline()){if(r=l.getParentOrThrow(),o=r.insertNewAfter(this,!1),S(o))for(r=r.getChildren(),l=0;l<r.length;l++)o.append(r[l])}else if(s=l.insertNewAfter(this,!1),s===null)this.insertLineBreak();else if(S(s))if(a=l.getFirstChild(),t===0&&(l.is(e.getNode())||a&&a.is(e.getNode()))&&0<i)l.insertBefore(s);else{if(l=null,t=r.length,e=s.getParentOrThrow(),0<t)for(a=0;a<t;a++)e.append(r[a]);if(i!==0)for(r=0;r<i;r++)t=o[r],l===null?s.append(t):l.insertBefore(t),l=t;s.canBeEmpty()||s.getChildrenSize()!==0?s.selectStart():(s.selectPrevious(),s.remove())}}insertLineBreak(e){let t=en();var r=this.anchor;r.type==="element"&&(r=r.getNode(),Ce(r)&&this.insertParagraph()),e?this.insertNodes([t],!0):this.insertNodes([t])&&t.selectNext(0,0)}getCharacterOffsets(){return ar(this)}extract(){var e=this.getNodes(),t=e.length,r=t-1,i=this.anchor;let o=this.focus;var l=e[0];let s=e[r],[a,c]=ar(this);return t===0?[]:t===1?O(l)&&!this.isCollapsed()?(e=a>c?c:a,r=l.splitText(e,a>c?a:c),e=e===0?r[0]:r[1],e!=null?[e]:[]):[l]:(t=i.isBefore(o),O(l)&&(i=t?a:c,i===l.getTextContentSize()?e.shift():i!==0&&([,l]=l.splitText(i),e[0]=l)),O(s)&&(l=s.getTextContent().length,t=t?c:a,t===0?e.pop():t!==l&&([s]=s.splitText(t),e[r]=s)),e)}modify(e,t,r){var i=this.focus,o=this.anchor,l=e==="move",s=gi(i,t);if(H(s)&&!s.isIsolated())l&&s.isKeyboardSelectable()?(t=xi(),t.add(s.__key),ct(t)):(e=t?s.getPreviousSibling():s.getNextSibling(),O(e)?(s=e.__key,t=t?e.getTextContent().length:0,i.set(s,t,"text"),l&&o.set(s,t,"text")):(r=s.getParentOrThrow(),S(e)?(r=e.__key,s=t?e.getChildrenSize():0):(s=s.getIndexWithinParent(),r=r.__key,t||s++),i.set(r,s,"element"),l&&o.set(r,s,"element")));else if(o=Z(),i=Ue(o._window)){var a=o._blockCursorElement,c=o._rootElement;if(c===null||a===null||!S(s)||s.isInline()||s.canBeEmpty()||fi(a,o,c),i.modify(e,t?"backward":"forward",r),0<i.rangeCount&&(s=i.getRangeAt(0),o=this.anchor.getNode(),o=Ce(o)?o:Ql(o),this.applyDOMRange(s),this.dirty=!0,!l)){for(l=this.getNodes(),e=[],r=!1,a=0;a<l.length;a++)c=l[a],yr(c,o)?e.push(c):r=!0;r&&0<e.length&&(t?(t=e[0],S(t)?t.selectStart():t.getParentOrThrow().selectStart()):(t=e[e.length-1],S(t)?t.selectEnd():t.getParentOrThrow().selectEnd())),(i.anchorNode!==s.startContainer||i.anchorOffset!==s.startOffset)&&(t=this.focus,l=this.anchor,i=l.key,s=l.offset,o=l.type,st(l,t.key,t.offset,t.type),st(t,i,s,o),this._cachedNodes=null)}}}deleteCharacter(e){if(this.isCollapsed()){var t=this.anchor,r=this.focus,i=t.getNode();if(!e&&(t.type==="element"&&S(i)&&t.offset===i.getChildrenSize()||t.type==="text"&&t.offset===i.getTextContentSize())){var o=i.getParent();if(o=i.getNextSibling()||(o===null?null:o.getNextSibling()),S(o)&&o.isShadowRoot())return}if(o=gi(r,e),H(o)&&!o.isIsolated()){o.isKeyboardSelectable()&&S(i)&&i.getChildrenSize()===0?(i.remove(),e=xi(),e.add(o.__key),ct(e)):o.remove();return}if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&t.offset===0&&(t.type==="element"?t.getNode():t.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(o=r.type==="text"?r.getNode():null,i=t.type==="text"?t.getNode():null,o!==null&&o.isSegmented()){if(t=r.offset,r=o.getTextContentSize(),o.is(i)||e&&t!==r||!e&&t!==0){Mo(o,e,t);return}}else if(i!==null&&i.isSegmented()&&(t=t.offset,r=i.getTextContentSize(),i.is(o)||e&&t!==0||!e&&t!==r)){Mo(i,e,t);return}if(i=this.anchor,o=this.focus,t=i.getNode(),r=o.getNode(),t===r&&i.type==="text"&&o.type==="text"){var l=i.offset,s=o.offset;let a=l<s;r=a?l:s,s=a?s:l,l=s-1,r!==l&&(t=t.getTextContent().slice(r,s),Vl(t)||(e?o.offset=l:i.offset=l))}}}i=this.isCollapsed(),this.removeText(),e&&!i&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0&&(e=this.anchor.getNode(),e.isEmpty()&&Ce(e.getParent())&&e.getIndexWithinParent()===0&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&(this.anchor.type==="text"&&this.modify("extend",e,"lineboundary"),(e?this.focus:this.anchor).offset===0&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function Wn(n){return n instanceof Ir}function Do(n){let e=n.offset;return n.type==="text"?e:(n=n.getNode(),e===n.getChildrenSize()?n.getTextContent().length:0)}function ar(n){let e=n.anchor;return n=n.focus,e.type==="element"&&n.type==="element"&&e.key===n.key&&e.offset===n.offset?[0,0]:[Do(e),Do(n)]}function Mo(n,e,t){let r=n.getTextContent().split(/(?=\s)/g),i=r.length,o=0,l=0;for(let s=0;s<i;s++){let a=r[s],c=s===i-1;if(l=o,o+=a.length,e&&o===t||o>t||c){r.splice(s,1),c&&(l=void 0);break}}e=r.join("").trim(),e===""?n.remove():(n.setTextContent(e),n.select(l,l))}function Po(n,e,t,r){var i=e;if(n.nodeType===1){let s=!1;var o=n.childNodes,l=o.length;i===l&&(s=!0,i=l-1);let a=o[i];if(l=!1,a===r._blockCursorElement?(a=o[i+1],l=!0):r._blockCursorElement!==null&&i--,r=Ut(a),O(r))i=s?r.getTextContentSize():0;else{if(o=Ut(n),o===null)return null;if(S(o)?(n=o.getChildAtIndex(i),(e=S(n))&&(e=n.getParent(),e=t===null||e===null||!e.canBeEmpty()||e!==t.getNode()),e&&(t=s?n.getLastDescendant():n.getFirstDescendant(),t===null?(o=n,i=0):(n=t,o=S(n)?n:n.getParentOrThrow())),O(n)?(r=n,o=null,i=s?n.getTextContentSize():0):n!==o&&s&&!l&&i++):(i=o.getIndexWithinParent(),i=e===0&&H(o)&&Ut(n)===o?i:i+1,o=o.getParentOrThrow()),S(o))return new We(o.__key,i,"element")}}else r=Ut(n);return O(r)?new We(r.__key,i,"text"):null}function ko(n,e,t){var r=n.offset,i=n.getNode();r===0?(r=i.getPreviousSibling(),i=i.getParent(),e?(t||!e)&&r===null&&S(i)&&i.isInline()&&(e=i.getPreviousSibling(),O(e)&&(n.key=e.__key,n.offset=e.getTextContent().length)):S(r)&&!t&&r.isInline()?(n.key=r.__key,n.offset=r.getChildrenSize(),n.type="element"):O(r)&&(n.key=r.__key,n.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),e&&S(r)&&r.isInline()?(n.key=r.__key,n.offset=0,n.type="element"):(t||e)&&r===null&&S(i)&&i.isInline()&&!i.canInsertTextAfter()&&(e=i.getNextSibling(),O(e)&&(n.key=e.__key,n.offset=0)))}function ms(n,e,t){if(n.type==="text"&&e.type==="text"){var r=n.isBefore(e);let i=n.is(e);ko(n,r,i),ko(e,!r,i),i&&(e.key=n.key,e.offset=n.offset,e.type=n.type),r=Z(),r.isComposing()&&r._compositionKey!==n.key&&I(t)&&(r=t.anchor,t=t.focus,st(n,r.key,r.offset,r.type),st(e,t.key,t.offset,t.type))}}function ys(n,e,t,r,i,o){return n===null||t===null||!Bn(i,n,t)||(e=Po(n,e,I(o)?o.anchor:null,i),e===null)||(r=Po(t,r,I(o)?o.focus:null,i),r===null||e.type==="element"&&r.type==="element"&&(n=Ut(n),t=Ut(t),H(n)&&H(t)))?null:(ms(e,r,o),[e,r])}function Io(n){return S(n)&&!n.isInline()}function Ns(n,e,t,r,i,o){let l=Ge();return n=new It(new We(n,e,i),new We(t,r,o),0,""),n.dirty=!0,l._selection=n}function xi(){return new Ir(new Set)}function cu(n){let e=n.getEditorState()._selection,t=Ue(n._window);return Wn(e)||Zi(e)?e.clone():Es(e,t,n)}function Es(n,e,t){var r=t._window;if(r===null)return null;var i=r.event,o=i?i.type:void 0;r=o==="selectionchange",i=!di&&(r||o==="beforeinput"||o==="compositionstart"||o==="compositionend"||o==="click"&&i&&i.detail===3||o==="drop"||o===void 0);let l;if(!I(n)||i){if(e===null)return null;if(i=e.anchorNode,o=e.focusNode,l=e.anchorOffset,e=e.focusOffset,r&&I(n)&&!Bn(t,i,o))return n.clone()}else return n.clone();if(t=ys(i,l,o,e,t,n),t===null)return null;let[s,a]=t;return new It(s,a,I(n)?n.format:0,I(n)?n.style:"")}function U(){return Ge()._selection}function Hn(){return Z()._editorState._selection}function Tr(n,e,t,r=1){var i=n.anchor,o=n.focus,l=i.getNode(),s=o.getNode();if(e.is(l)||e.is(s)){if(l=e.__key,n.isCollapsed())e=i.offset,(t<=e&&0<r||t<e&&0>r)&&(t=Math.max(0,e+r),i.set(l,t,"element"),o.set(l,t,"element"),Lo(n));else{let c=n.isBackward();s=c?o:i;var a=s.getNode();i=c?i:o,o=i.getNode(),e.is(a)&&(a=s.offset,(t<=a&&0<r||t<a&&0>r)&&s.set(l,Math.max(0,a+r),"element")),e.is(o)&&(e=i.offset,(t<=e&&0<r||t<e&&0>r)&&i.set(l,Math.max(0,e+r),"element"))}Lo(n)}}function Lo(n){var e=n.anchor,t=e.offset;let r=n.focus;var i=r.offset,o=e.getNode(),l=r.getNode();if(n.isCollapsed())S(o)&&(l=o.getChildrenSize(),l=(i=t>=l)?o.getChildAtIndex(l-1):o.getChildAtIndex(t),O(l)&&(t=0,i&&(t=l.getTextContentSize()),e.set(l.__key,t,"text"),r.set(l.__key,t,"text")));else{if(S(o)){let s=o.getChildrenSize();t=(n=t>=s)?o.getChildAtIndex(s-1):o.getChildAtIndex(t),O(t)&&(o=0,n&&(o=t.getTextContentSize()),e.set(t.__key,o,"text"))}S(l)&&(t=l.getChildrenSize(),i=(e=i>=t)?l.getChildAtIndex(t-1):l.getChildAtIndex(i),O(i)&&(l=0,e&&(l=i.getTextContentSize()),r.set(i.__key,l,"text")))}}function gu(n,e){if(e=e.getEditorState()._selection,n=n._selection,I(n)){var t=n.anchor;let r=n.focus,i;t.type==="text"&&(i=t.getNode(),i.selectionTransform(e,n)),r.type==="text"&&(t=r.getNode(),i!==t&&t.selectionTransform(e,n))}}function vr(n,e,t,r,i){let o=null,l=0,s=null;r!==null?(o=r.__key,O(r)?(l=r.getTextContentSize(),s="text"):S(r)&&(l=r.getChildrenSize(),s="element")):i!==null&&(o=i.__key,O(i)?s="text":S(i)&&(s="element")),o!==null&&s!==null?n.set(o,l,s):(l=e.getIndexWithinParent(),l===-1&&(l=t.getChildrenSize()),n.set(t.__key,l,"element"))}function Fo(n,e,t,r,i){n.type==="text"?(n.key=t,e||(n.offset+=i)):n.offset>r.getIndexWithinParent()&&--n.offset}function Ts(n,e,t){let r=[],i=null,o=null;n=n.getChildren();for(let f=0;f<n.length;f++){var l=n[f];kn(l)||A(108);var s=l.getChildren();l=0;for(let d of s){for(Ke(d)||A(109);r[f]!==void 0&&r[f][l]!==void 0;)l++;s=f;var a=l,c=d;let u={cell:c,startColumn:a,startRow:s},g=c.__rowSpan,h=c.__colSpan;for(let p=0;p<g;p++){r[s+p]===void 0&&(r[s+p]=[]);for(let E=0;E<h;E++)r[s+p][a+E]=u}e.is(c)&&(i=u),t.is(c)&&(o=u),l+=d.__colSpan}}return i===null&&A(110),o===null&&A(111),[r,i,o]}let re=null,ie=null,Se=!1,Zr=!1,Mn=0,bo={characterData:!0,childList:!0,subtree:!0};function nn(){return Se||re!==null&&re._readOnly}function Ne(){Se&&A(13)}function Ge(){return re===null&&A(15),re}function Z(){return ie===null&&A(16),ie}function Bo(n,e,t){var r=e.__type;let i=n._nodes.get(r);for(i===void 0&&A(30),n=t.get(r),n===void 0&&(n=Array.from(i.transforms),t.set(r,n)),t=n.length,r=0;r<t&&(n[r](e),e.isAttached());r++);}function fu(n,e){e=e._dirtyLeaves,n=n._nodeMap;for(let t of e)e=n.get(t),O(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&ns(e)}function hu(n,e){let t=e._dirtyLeaves,r=e._dirtyElements;n=n._nodeMap;let i=ut(),o=new Map;var l=t;let s=l.size;for(var a=r,c=a.size;0<s||0<c;){if(0<s){e._dirtyLeaves=new Set;for(let f of l)l=n.get(f),O(l)&&l.isAttached()&&l.isSimpleText()&&!l.isUnmergeable()&&ns(l),l!==void 0&&l!==void 0&&l.__key!==i&&l.isAttached()&&Bo(e,l,o),t.add(f);if(l=e._dirtyLeaves,s=l.size,0<s){Mn++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(let f of a)a=f[0],c=f[1],(a==="root"||c)&&(l=n.get(a),l!==void 0&&l!==void 0&&l.__key!==i&&l.isAttached()&&Bo(e,l,o),r.set(a,c));l=e._dirtyLeaves,s=l.size,a=e._dirtyElements,c=a.size,Mn++}e._dirtyLeaves=t,e._dirtyElements=r}function Qi(n,e){var t=e.get(n.type);if(t===void 0&&A(17),t=t.klass,n.type!==t.getType()&&A(18),t=t.importJSON(n),n=n.children,S(t)&&Array.isArray(n))for(let r=0;r<n.length;r++){let i=Qi(n[r],e);t.append(i)}return t}function Ko(n,e){let t=re,r=Se,i=ie;re=n,Se=!0,ie=null;try{return e()}finally{re=t,Se=r,ie=i}}function xt(n){let e=n._pendingEditorState,t=n._rootElement,r=n._headless||t===null;if(e!==null){var i=n._editorState,o=i._selection,l=e._selection,s=n._dirtyType!==0,a=re,c=Se,f=ie,d=n._updating,u=n._observer,g=null;if(n._pendingEditorState=null,n._editorState=e,!r&&s&&u!==null){ie=n,re=e,Se=!1,n._updating=!0;try{let j=n._dirtyType,he=n._dirtyElements,pe=n._dirtyLeaves;u.disconnect();var h=j,p=he,E=pe;ye=Ve=ee="",is=h===2,or=null,fe=n,gt=n._config,On=n._nodes,kr=fe._listeners.mutation,hi=p,pi=E,Ot=i._nodeMap,ft=e._nodeMap,Xi=e._readOnly,_i=new Map(n._keyToDOMMap);let be=new Map;Rn=be,_n("root",null),Rn=_i=gt=ft=Ot=pi=hi=On=fe=void 0,g=be}catch(j){if(j instanceof Error&&n._onError(j),Zr)throw j;xs(n,null,t,e),Hl(n),n._dirtyType=2,Zr=!0,xt(n),Zr=!1;return}finally{u.observe(t,bo),n._updating=d,re=a,Se=c,ie=f}}e._readOnly||(e._readOnly=!0);var C=n._dirtyLeaves,m=n._dirtyElements,N=n._normalizedNodes,v=n._updateTags,x=n._deferred;s&&(n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set);var $=n._decorators,R=n._pendingDecorators||$,L=e._nodeMap,M;for(M in R)L.has(M)||(R===$&&(R=Jl(n)),delete R[M]);var K=r?null:Ue(n._window);if(n._editable&&K!==null&&(s||l===null||l.dirty)){ie=n,re=e;try{if(u!==null&&u.disconnect(),s||l===null||l.dirty){let j=n._blockCursorElement;j!==null&&fi(j,n,t);e:{let he=K.anchorNode,pe=K.focusNode,be=K.anchorOffset,hn=K.focusOffset,De=document.activeElement;if(!(v.has("collaboration")&&De!==t||De!==null&&Ui(De)))if(I(l)){var V=l.anchor,we=l.focus,cn=V.key,Vn=we.key,Xn=mr(n,cn),Zn=mr(n,Vn),pt=V.offset,q=we.offset,ve=l.format,Fe=l.style,_t=l.isCollapsed(),le=Xn,bt=Zn,Oe=!1;if(V.type==="text"){le=hr(Xn);let Me=V.getNode();Oe=Me.getFormat()!==ve||Me.getStyle()!==Fe}else I(o)&&o.anchor.type==="text"&&(Oe=!0);if(we.type==="text"&&(bt=hr(Zn)),le!==null&&bt!==null){if(_t&&(o===null||Oe||I(o)&&(o.format!==ve||o.style!==Fe))){var mt=performance.now();gs=[ve,Fe,pt,cn,mt]}if(be===pt&&hn===q&&he===le&&pe===bt&&(K.type!=="Range"||!_t)&&(De!==null&&t.contains(De)||t.focus({preventScroll:!0}),V.type!=="element"))break e;try{K.setBaseAndExtent(le,pt,bt,q)}catch{}if(!v.has("skip-scroll-into-view")&&l.isCollapsed()&&t!==null&&t===document.activeElement){let Me=l instanceof It&&l.anchor.type==="element"?le.childNodes[pt]||null:0<K.rangeCount?K.getRangeAt(0):null;if(Me!==null){let Pe;if(Me instanceof Text){let xe=document.createRange();xe.selectNode(Me),Pe=xe.getBoundingClientRect()}else Pe=Me.getBoundingClientRect();let it=t.ownerDocument,Nt=it.defaultView;if(Nt!==null)for(var{top:tt,bottom:nt}=Pe,rt,yt,Re=t;Re!==null;){let xe=Re===it.body;if(xe)rt=0,yt=Mr(n).innerHeight;else{let Qn=Re.getBoundingClientRect();rt=Qn.top,yt=Qn.bottom}let Et=0;if(tt<rt?Et=-(rt-tt):nt>yt&&(Et=nt-yt),Et!==0)if(xe)Nt.scrollBy(0,Et);else{let Qn=Re.scrollTop;Re.scrollTop+=Et;let yo=Re.scrollTop-Qn;tt-=yo,nt-=yo}if(xe)break;Re=Dr(Re)}}}Ti=!0}}else o!==null&&Bn(n,he,pe)&&K.removeAllRanges()}}e:{let j=n._blockCursorElement;if(I(l)&&l.isCollapsed()&&l.anchor.type==="element"&&t.contains(document.activeElement)){let he=l.anchor,pe=he.getNode(),be=he.offset,hn=pe.getChildrenSize(),De=!1,Me=null;if(be===hn){let Pe=pe.getChildAtIndex(be-1);Jr(Pe)&&(De=!0)}else{let Pe=pe.getChildAtIndex(be);if(Jr(Pe)){let it=Pe.getPreviousSibling();(it===null||Jr(it))&&(De=!0,Me=n.getElementByKey(Pe.__key))}}if(De){let Pe=n.getElementByKey(pe.__key);if(j===null){let it=n._config.theme,Nt=document.createElement("div");Nt.contentEditable="false",Nt.setAttribute("data-lexical-cursor","true");let xe=it.blockCursor;if(xe!==void 0){if(typeof xe=="string"){let Et=xe.split(" ");xe=it.blockCursor=Et}xe!==void 0&&Nt.classList.add(...xe)}n._blockCursorElement=j=Nt}t.style.caretColor="transparent",Me===null?Pe.appendChild(j):Pe.insertBefore(j,Me);break e}}j!==null&&fi(j,n,t)}u!==null&&u.observe(t,bo)}finally{ie=f,re=a}}if(g!==null){var Bt=g;let j=Array.from(n._listeners.mutation),he=j.length;for(let pe=0;pe<he;pe++){let[be,hn]=j[pe],De=Bt.get(hn);De!==void 0&&be(De,{dirtyLeaves:C,updateTags:v})}}I(l)||l===null||o!==null&&o.is(l)||n.dispatchCommand(ki,void 0);var gn=n._pendingDecorators;gn!==null&&(n._decorators=gn,n._pendingDecorators=null,Cn("decorator",n,!0,gn));var fn=To(i),_o=To(e);if(fn!==_o&&Cn("textcontent",n,!0,_o),Cn("update",n,!0,{dirtyElements:m,dirtyLeaves:C,editorState:e,normalizedNodes:N,prevEditorState:i,tags:v}),n._deferred=[],x.length!==0){let j=n._updating;n._updating=!0;try{for(let he=0;he<x.length;he++)x[he]()}finally{n._updating=j}}var mo=n._updates;if(mo.length!==0){let j=mo.shift();if(j){let[he,pe]=j;vs(n,he,pe)}}}}function Cn(n,e,t,...r){let i=e._updating;e._updating=t;try{let o=Array.from(e._listeners[n]);for(n=0;n<o.length;n++)o[n].apply(null,r)}finally{e._updating=i}}function w(n,e,t){if(n._updating===!1||ie!==n){let o=!1;return n.update(()=>{o=w(n,e,t)}),o}let r=Yi(n);for(let o=4;0<=o;o--)for(let l=0;l<r.length;l++){var i=r[l]._commands.get(e);if(i!==void 0&&(i=i[o],i!==void 0)){i=Array.from(i);let s=i.length;for(let a=0;a<s;a++)if(i[a](t,n)===!0)return!0}}return!1}function zo(n,e){let t=n._updates;for(e=e||!1;t.length!==0;){var r=t.shift();if(r){let[i,o]=r,l;o!==void 0&&(r=o.onUpdate,l=o.tag,o.skipTransforms&&(e=!0),r&&n._deferred.push(r),l&&n._updateTags.add(l)),i()}}return e}function vs(n,e,t){let r=n._updateTags;var i,o=i=!1;if(t!==void 0){var l=t.onUpdate;i=t.tag,i!=null&&r.add(i),i=t.skipTransforms||!1,o=t.discrete||!1}l&&n._deferred.push(l),t=n._editorState,l=n._pendingEditorState;let s=!1;(l===null||l._readOnly)&&(l=n._pendingEditorState=new Fr(new Map((l||t)._nodeMap)),s=!0),l._flushSync=o,o=re;let a=Se,c=ie,f=n._updating;re=l,Se=!1,n._updating=!0,ie=n;try{s&&(n._headless?t._selection!=null&&(l._selection=t._selection.clone()):l._selection=cu(n));let d=n._compositionKey;e(),i=zo(n,i),gu(l,n),n._dirtyType!==0&&(i?fu(l,n):hu(l,n),zo(n),tu(t,l,n._dirtyLeaves,n._dirtyElements)),d!==n._compositionKey&&(l._flushSync=!0);let u=l._selection;if(I(u)){let g=l._nodeMap,h=u.focus.key;g.get(u.anchor.key)!==void 0&&g.get(h)!==void 0||A(19)}else Wn(u)&&u._nodes.size===0&&(l._selection=null)}catch(d){d instanceof Error&&n._onError(d),n._pendingEditorState=t,n._dirtyType=2,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),xt(n);return}finally{re=o,Se=a,ie=c,n._updating=f,Mn=0}n._dirtyType!==0||pu(l,n)?l._flushSync?(l._flushSync=!1,xt(n)):s&&Xa(()=>{xt(n)}):(l._flushSync=!1,s&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function $e(n,e,t){n._updating?n._updates.push([e,t]):vs(n,e,t)}class Cs extends zn{constructor(e){super(e)}decorate(){A(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function H(n){return n instanceof Cs}class Lt extends zn{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return Ua[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;t!==null;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let e=Z()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return t!==null&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;t!==null;){if(O(t)&&e.push(t),S(t)){let r=t.getAllTextNodes();e.push(...r)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;e!==null;){if(S(e)){let t=e.getFirstChild();if(t!==null){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;e!==null;){if(S(e)){let t=e.getLastChild();if(t!==null){e=t;continue}}break}return e}getDescendantByIndex(e){let t=this.getChildren(),r=t.length;return e>=r?(e=t[r-1],S(e)&&e.getLastDescendant()||e||null):(e=t[e],S(e)&&e.getFirstDescendant()||e||null)}getFirstChild(){let e=this.getLatest().__first;return e===null?null:ne(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return e===null&&A(45),e}getLastChild(){let e=this.getLatest().__last;return e===null?null:ne(e)}getLastChildOrThrow(){let e=this.getLastChild();return e===null&&A(96),e}getChildAtIndex(e){var t=this.getChildrenSize();let r;if(e<t/2){for(r=this.getFirstChild(),t=0;r!==null&&t<=e;){if(t===e)return r;r=r.getNextSibling(),t++}return null}for(r=this.getLastChild(),--t;r!==null&&t>=e;){if(t===e)return r;r=r.getPreviousSibling(),t--}return null}getTextContent(){let e="",t=this.getChildren(),r=t.length;for(let i=0;i<r;i++){let o=t[i];e+=o.getTextContent(),S(o)&&i!==r-1&&!o.isInline()&&(e+=`

`)}return e}getTextContentSize(){let e=0,t=this.getChildren(),r=t.length;for(let i=0;i<r;i++){let o=t[i];e+=o.getTextContentSize(),S(o)&&i!==r-1&&!o.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return e!==""?(e=Eo[e],(this.getFormat()&e)!==0):!1}select(e,t){Ne();let r=U(),i=e,o=t;var l=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&t===0){if(e=this.getFirstChild(),O(e)||S(e))return e.select(0,0)}else if(!(e!==void 0&&e!==l||t!==void 0&&t!==l)&&(e=this.getLastChild(),O(e)||S(e)))return e.select()}if(i===void 0&&(i=l),o===void 0&&(o=l),l=this.__key,I(r))r.anchor.set(l,i,"element"),r.focus.set(l,o,"element"),r.dirty=!0;else return Ns(l,i,l,o,"element","element");return r}selectStart(){let e=this.getFirstDescendant();return S(e)||O(e)?e.select(0,0):e!==null?e.selectPrevious():this.select(0,0)}selectEnd(){let e=this.getLastDescendant();return S(e)||O(e)?e.select():e!==null?e.selectNext():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(t=>t.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=e!==""?Eo[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,r){let i=r.length,o=this.getChildrenSize(),l=this.getWritable(),s=l.__key;var a=[],c=[];let f=this.getChildAtIndex(e+t),d=null,u=o-t+i;if(e!==0)if(e===o)d=this.getLastChild();else{var g=this.getChildAtIndex(e);g!==null&&(d=g.getPreviousSibling())}if(0<t){var h=d===null?this.getFirstChild():d.getNextSibling();for(g=0;g<t;g++){h===null&&A(100);var p=h.getNextSibling(),E=h.__key;h=h.getWritable(),St(h),c.push(E),h=p}}for(g=d,p=0;p<i;p++){E=r[p],g!==null&&E.is(g)&&(d=g=g.getPreviousSibling()),h=E.getWritable(),h.__parent===s&&u--,St(h);let C=E.__key;g===null?(l.__first=C,h.__prev=null):(g=g.getWritable(),g.__next=C,h.__prev=g.__key),E.__key===s&&A(76),h.__parent=s,a.push(C),g=E}if(e+t===o?g!==null&&(g.getWritable().__next=null,l.__last=g.__key):f!==null&&(e=f.getWritable(),g!==null?(t=g.getWritable(),e.__prev=g.__key,t.__next=f.__key):e.__prev=null),l.__size=u,c.length&&(e=U(),I(e))){c=new Set(c),a=new Set(a);let{anchor:C,focus:m}=e;Wo(C,c,a)&&vr(C,C.getNode(),this,d,f),Wo(m,c,a)&&vr(m,m.getNode(),this,d,f),u!==0||this.canBeEmpty()||Le(this)||this.remove()}return l}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function S(n){return n instanceof Lt}function Wo(n,e,t){for(n=n.getNode();n;){let r=n.__key;if(e.has(r)&&!t.has(r))return!0;n=n.getParent()}return!1}class rn extends Lt{static getType(){return"root"}static clone(){return new rn}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){A(51)}getTextContent(){let e=this.__cachedText;return!nn()&&Z()._dirtyType!==0||e===null?super.getTextContent():e}remove(){A(52)}replace(){A(53)}insertBefore(){A(54)}insertAfter(){A(55)}updateDOM(){return!1}append(...e){for(let t=0;t<e.length;t++){let r=e[t];S(r)||H(r)||A(56)}return super.append(...e)}static importJSON(e){let t=He();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function Ce(n){return n instanceof rn}function pu(n,e){if(e=e.getEditorState()._selection,n=n._selection,n!==null){if(n.dirty||!n.is(e))return!0}else if(e!==null)return!0;return!1}function qi(){return new Fr(new Map([["root",new rn]]))}function Ss(n){let e=n.exportJSON();e.type!==n.constructor.getType()&&A(58);let t=e.children;if(S(n)){Array.isArray(t)||A(59),n=n.getChildren();for(let r=0;r<n.length;r++){let i=Ss(n[r]);t.push(i)}}return e}class Fr{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._readOnly=this._flushSync=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e){return Ko(this,e)}clone(e){return e=new Fr(this._nodeMap,e===void 0?this._selection:e),e._readOnly=!0,e}toJSON(){return Ko(this,()=>({root:Ss(He())}))}}class on extends zn{static getType(){return"linebreak"}static clone(e){return new on(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let t=e.parentElement;return t!=null&&t.firstChild===e&&t.lastChild===e?null:{conversion:_u,priority:0}}}}static importJSON(){return en()}exportJSON(){return{type:"linebreak",version:1}}}function _u(){return{node:en()}}function en(){return Pr(new on)}function Pn(n){return n instanceof on}function Qr(n,e){return e&16?"code":e&128?"mark":e&32?"sub":e&64?"sup":null}function qr(n,e){return e&1?"strong":e&2?"em":"span"}function ei(n,e,t,r,i){n=r.classList,r=En(i,"base"),r!==void 0&&n.add(...r),r=En(i,"underlineStrikethrough");let o=!1,l=e&8&&e&4;var s=t&8&&t&4;r!==void 0&&(s?(o=!0,l||n.add(...r)):l&&n.remove(...r));for(let a in Ct)s=Ct[a],r=En(i,a),r!==void 0&&(t&s?!o||a!=="underline"&&a!=="strikethrough"?(!(e&s)||l&&a==="underline"||a==="strikethrough")&&n.add(...r):e&s&&n.remove(...r):e&s&&n.remove(...r))}function ti(n,e,t){let r=e.firstChild;if(t=t.isComposing(),n+=t?Rr:"",r==null)e.textContent=n;else if(e=r.nodeValue,e!==n)if(t||wt){t=e.length;let i=n.length,o=0,l=0;for(;o<t&&o<i&&e[o]===n[o];)o++;for(;l+o<t&&l+o<i&&e[t-l-1]===n[i-l-1];)l++;n=[o,t-o-l,n.slice(o,i-l)];let[s,a,c]=n;a!==0&&r.deleteData(s,a),r.insertData(s,c)}else r.nodeValue=n}function qn(n,e){return e=document.createElement(e),e.appendChild(n),e}class ln extends zn{static getType(){return"text"}static clone(e){return new ln(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return Ya[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===ut()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return(this.getLatest().__detail&1)!==0}isUnmergeable(){return(this.getLatest().__detail&2)!==0}hasFormat(e){return e=Ct[e],(this.getFormat()&e)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){let r=this.getLatest().__format;return Ul(r,e,t)}createDOM(e){var t=this.__format,r=Qr(this,t);let i=qr(this,t),o=document.createElement(r===null?i:r),l=o;return r!==null&&(l=document.createElement(i),o.appendChild(l)),r=l,ti(this.__text,r,this),e=e.theme.text,e!==void 0&&ei(i,0,t,r,e),t=this.__style,t!==""&&(o.style.cssText=t),o}updateDOM(e,t,r){let i=this.__text;var o=e.__format,l=this.__format,s=Qr(this,o);let a=Qr(this,l);var c=qr(this,o);let f=qr(this,l);return(s===null?c:s)!==(a===null?f:a)?!0:s===a&&c!==f?(o=t.firstChild,o==null&&A(48),e=s=document.createElement(f),ti(i,e,this),r=r.theme.text,r!==void 0&&ei(f,0,l,e,r),t.replaceChild(s,o),!1):(c=t,a!==null&&s!==null&&(c=t.firstChild,c==null&&A(49)),ti(i,c,this),r=r.theme.text,r!==void 0&&o!==l&&ei(f,o,l,c,r),l=this.__style,e.__style!==l&&(t.style.cssText=l),!1)}static importDOM(){return{"#text":()=>({conversion:Eu,priority:0}),b:()=>({conversion:Nu,priority:0}),br:()=>({conversion:yu,priority:0}),code:()=>({conversion:ot,priority:0}),em:()=>({conversion:ot,priority:0}),i:()=>({conversion:ot,priority:0}),s:()=>({conversion:ot,priority:0}),span:()=>({conversion:mu,priority:0}),strong:()=>({conversion:ot,priority:0}),sub:()=>({conversion:ot,priority:0}),sup:()=>({conversion:ot,priority:0}),u:()=>({conversion:ot,priority:0})}}static importJSON(e){let t=se(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){return{element:e}=super.exportDOM(e),e!==null&&(this.hasFormat("bold")&&(e=qn(e,"b")),this.hasFormat("italic")&&(e=qn(e,"i")),this.hasFormat("strikethrough")&&(e=qn(e,"s")),this.hasFormat("underline")&&(e=qn(e,"u"))),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let t=this.getWritable();return t.__format=typeof e=="string"?Ct[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail=typeof e=="string"?Ha[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){return e=Ct[e],this.setFormat(this.getFormat()^e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=Ga[e],this.__mode===e)return this;let t=this.getWritable();return t.__mode=e,t}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){Ne();let r=U();var i=this.getTextContent();let o=this.__key;if(typeof i=="string"?(i=i.length,e===void 0&&(e=i),t===void 0&&(t=i)):t=e=0,I(r))i=ut(),i!==r.anchor.key&&i!==r.focus.key||ae(o),r.setTextNodeRange(this,e,this,t);else return Ns(o,e,o,t,"text","text");return r}spliceText(e,t,r,i){let o=this.getWritable(),l=o.__text,s=r.length,a=e;0>a&&(a=s+a,0>a&&(a=0));let c=U();return i&&I(c)&&(e+=s,c.setTextNodeRange(o,e,o,e)),t=l.slice(0,a)+r+l.slice(a+t),o.__text=t,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}canContainTabs(){return!1}splitText(...e){Ne();var t=this.getLatest(),r=t.getTextContent(),i=t.__key,o=ut(),l=new Set(e);e=[];for(var s=r.length,a="",c=0;c<s;c++)a!==""&&l.has(c)&&(e.push(a),a=""),a+=r[c];if(a!==""&&e.push(a),l=e.length,l===0)return[];if(e[0]===r)return[t];var f=e[0];r=t.getParentOrThrow(),c=t.getFormat();let d=t.getStyle(),u=t.__detail;s=!1,t.isSegmented()?(a=se(f),a.__format=c,a.__style=d,a.__detail=u,s=!0):(a=t.getWritable(),a.__text=f),t=U(),a=[a],f=f.length;for(let p=1;p<l;p++){var g=e[p],h=g.length;g=se(g).getWritable(),g.__format=c,g.__style=d,g.__detail=u;let E=g.__key;if(h=f+h,I(t)){let C=t.anchor,m=t.focus;C.key===i&&C.type==="text"&&C.offset>f&&C.offset<=h&&(C.key=E,C.offset-=f,t.dirty=!0),m.key===i&&m.type==="text"&&m.offset>f&&m.offset<=h&&(m.key=E,m.offset-=f,t.dirty=!0)}o===i&&ae(E),f=h,a.push(g)}return i=this.getPreviousSibling(),o=this.getNextSibling(),i!==null&&pr(i),o!==null&&pr(o),i=r.getWritable(),o=this.getIndexWithinParent(),s?(i.splice(o,0,a),this.remove()):i.splice(o,1,a),I(t)&&Tr(t,r,o,l-1),a}mergeWithSibling(e){var t=e===this.getPreviousSibling();t||e===this.getNextSibling()||A(50);var r=this.__key;let i=e.__key,o=this.__text,l=o.length;ut()===i&&ae(r);let s=U();if(I(s)){let a=s.anchor,c=s.focus;a!==null&&a.key===i&&(Fo(a,t,r,e,l),s.dirty=!0),c!==null&&c.key===i&&(Fo(c,t,r,e,l),s.dirty=!0)}return r=e.__text,this.setTextContent(t?r+o:o+r),t=this.getWritable(),e.remove(),t}isTextEntity(){return!1}}function mu(n){let e=n.style.fontWeight==="700",t=n.style.textDecoration==="line-through",r=n.style.fontStyle==="italic",i=n.style.textDecoration==="underline",o=n.style.verticalAlign;return{forChild:l=>(O(l)&&(e&&l.toggleFormat("bold"),t&&l.toggleFormat("strikethrough"),r&&l.toggleFormat("italic"),i&&l.toggleFormat("underline"),o==="sub"&&l.toggleFormat("subscript"),o==="super"&&l.toggleFormat("superscript")),l),node:null}}function yu(){return{node:en()}}function Nu(n){let e=n.style.fontWeight==="normal";return{forChild:t=>(O(t)&&!e&&t.toggleFormat("bold"),t),node:null}}function Eu(n,e,t){return n=n.textContent||"",!t&&/\n/.test(n)&&(n=n.replace(/\r?\n/gm," "),n.trim().length===0)?{node:null}:{node:se(n)}}let Tu={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function ot(n){let e=Tu[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:t=>(O(t)&&!t.hasFormat(e)&&t.toggleFormat(e),t),node:null}}function se(n=""){return Pr(new ln(n))}function O(n){return n instanceof ln}class sn extends Lt{static getType(){return"paragraph"}static clone(e){return new sn(e.__key)}createDOM(e){let t=document.createElement("p");return e=En(e.theme,"paragraph"),e!==void 0&&t.classList.add(...e),t}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:vu,priority:0})}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t),t=this.getIndent(),0<t&&(e.style.textIndent=`${20*t}px`)}return{element:e}}static importJSON(e){let t=Rt();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,t){e=Rt();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,t),e}collapseAtStart(){let e=this.getChildren();if(e.length===0||O(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function vu(n){let e=Rt();return n.style&&(e.setFormat(n.style.textAlign),n=parseInt(n.style.textIndent,10)/20,0<n&&e.setIndent(n)),{node:e}}function Rt(){return Pr(new sn)}function xs(n,e,t,r){let i=n._keyToDOMMap;i.clear(),n._editorState=qi(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null,r=n._observer,r!==null&&(r.disconnect(),n._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",i.set("root",t))}function Cu(n){let e=new Map,t=new Set;return n.forEach(r=>{if(r=r.klass.importDOM!=null?r.klass.importDOM.bind(r.klass):null,r!=null&&!t.has(r)){t.add(r);var i=r();i!==null&&Object.keys(i).forEach(o=>{let l=e.get(o);l===void 0&&(l=[],e.set(o,l)),l.push(i[o])})}}),e}class Su{constructor(e,t,r,i,o,l,s){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Xl(),this._onError=o,this._htmlConversions=l,this._editable=s,this._headless=t!==null&&t._headless,this._blockCursorElement=this._window=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,r){r===void 0&&A(35);let i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);let o=i.get(e);o===void 0&&A(36);let l=o[r];return l.add(t),()=>{l.delete(t),o.every(s=>s.size===0)&&i.delete(e)}}registerMutationListener(e,t){this._nodes.get(e.getType())===void 0&&A(37);let r=this._listeners.mutation;return r.set(t,e),()=>{r.delete(t)}}registerNodeTransformToKlass(e,t){return e=e.getType(),e=this._nodes.get(e),e===void 0&&A(37),e.transforms.add(t),e}registerNodeTransform(e,t){var r=this.registerNodeTransformToKlass(e,t);let i=[r];return r=r.replaceWithKlass,r!=null&&(r=this.registerNodeTransformToKlass(r,t),i.push(r)),Za(this,e.getType()),()=>{i.forEach(o=>o.transforms.delete(t))}}hasNodes(e){for(let t=0;t<e.length;t++){let r=e[t].getType();if(!this._nodes.has(r))return!1}return!0}dispatchCommand(e,t){return w(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let o=En(this._config.theme,"root");var r=this._pendingEditorState||this._editorState;if(this._rootElement=e,xs(this,t,e,r),t!==null){if(!this._config.disableEvents){if(Tn!==0&&(Tn--,Tn===0&&t.ownerDocument.removeEventListener("selectionchange",_s)),r=t.__lexicalEditor,r!=null){if(r._parentEditor!==null){var i=Yi(r);i=i[i.length-1]._key,Jt.get(i)===r&&Jt.delete(i)}else Jt.delete(r._key);t.__lexicalEditor=null}for(r=ps(t),i=0;i<r.length;i++)r[i]();t.__lexicalEventHandles=[]}o!=null&&t.classList.remove(...o)}e!==null?(r=(r=e.ownerDocument)&&r.defaultView||null,i=e.style,i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=r,this._dirtyType=2,Hl(this),this._updateTags.add("history-merge"),xt(this),this._config.disableEvents||du(e,this),o!=null&&e.classList.add(...o)):this._window=null,Cn("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&A(38),Wl(this);let r=this._pendingEditorState,i=this._updateTags;t=t!==void 0?t.tag:null,r===null||r.isEmpty()||(t!=null&&i.add(t),xt(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,t!=null&&i.add(t),xt(this)}parseEditorState(e,t){e=typeof e=="string"?JSON.parse(e):e;let r=qi(),i=re,o=Se,l=ie,s=this._dirtyElements,a=this._dirtyLeaves,c=this._cloneNotNeeded,f=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,re=r,Se=!1,ie=this;try{Qi(e.root,this._nodes),t&&t(),r._readOnly=!0}catch(d){d instanceof Error&&this._onError(d)}finally{this._dirtyElements=s,this._dirtyLeaves=a,this._cloneNotNeeded=c,this._dirtyType=f,re=i,Se=o,ie=l}return r}update(e,t){$e(this,e,t)}focus(e,t={}){let r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),$e(this,()=>{let i=U(),o=He();i!==null?i.dirty=!0:o.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?o.selectStart():o.selectEnd())},{onUpdate:()=>{r.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;e!==null&&e.blur(),e=Ue(this._window),e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Cn("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class eo extends Lt{constructor(e,t){super(t),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function Ke(n){return n instanceof eo}class $s extends Lt{}function to(n){return n instanceof $s}class As extends Lt{}function kn(n){return n instanceof As}T.$addUpdateTag=function(n){Ne(),Z()._updateTags.add(n)};T.$applyNodeReplacement=Pr;T.$copyNode=ql;T.$createLineBreakNode=en;T.$createNodeSelection=xi;T.$createParagraphNode=Rt;T.$createRangeSelection=function(){let n=new We("root",0,"element"),e=new We("root",0,"element");return new It(n,e,0,"")};T.$createTextNode=se;T.$getAdjacentNode=gi;T.$getNearestNodeFromDOMNode=Kn;T.$getNearestRootOrShadowRoot=Ql;T.$getNodeByKey=ne;T.$getPreviousSelection=Hn;T.$getRoot=He;T.$getSelection=U;T.$getTextContent=function(){let n=U();return n===null?"":n.getTextContent()};T.$hasAncestor=yr;T.$hasUpdateTag=function(n){return Z()._updateTags.has(n)};T.$insertNodes=function(n,e){let t=U();return t===null&&(t=He().selectEnd()),t.insertNodes(n,e)};T.$isDecoratorNode=H;T.$isElementNode=S;T.$isInlineElementOrDecoratorNode=function(n){return S(n)&&n.isInline()||H(n)&&n.isInline()};T.$isLeafNode=Gl;T.$isLineBreakNode=Pn;T.$isNodeSelection=Wn;T.$isParagraphNode=function(n){return n instanceof sn};T.$isRangeSelection=I;T.$isRootNode=Ce;T.$isRootOrShadowRoot=Le;T.$isTextNode=O;T.$nodesOfType=function(n){var e=Ge();let t=e._readOnly,r=n.getType();e=e._nodeMap;let i=[];for(let[,o]of e)o instanceof n&&o.__type===r&&(t||o.isAttached())&&i.push(o);return i};T.$normalizeSelection__EXPERIMENTAL=rs;T.$parseSerializedNode=function(n){return Qi(n,Z()._nodes)};T.$setCompositionKey=ae;T.$setSelection=ct;T.$splitNode=es;T.BLUR_COMMAND=Bl;T.CAN_REDO_COMMAND={};T.CAN_UNDO_COMMAND={};T.CLEAR_EDITOR_COMMAND={};T.CLEAR_HISTORY_COMMAND={};T.CLICK_COMMAND=Tl;T.COMMAND_PRIORITY_CRITICAL=4;T.COMMAND_PRIORITY_EDITOR=0;T.COMMAND_PRIORITY_HIGH=3;T.COMMAND_PRIORITY_LOW=1;T.COMMAND_PRIORITY_NORMAL=2;T.CONTROLLED_TEXT_INSERTION_COMMAND=jt;T.COPY_COMMAND=bi;T.CUT_COMMAND=Bi;T.DELETE_CHARACTER_COMMAND=$n;T.DELETE_LINE_COMMAND=wn;T.DELETE_WORD_COMMAND=An;T.DEPRECATED_$computeGridMap=Ts;T.DEPRECATED_$createGridSelection=function(){let n=new We("root",0,"element"),e=new We("root",0,"element");return new Lr("root",n,e)};T.DEPRECATED_$getNodeTriplet=function(n){n instanceof eo||(n instanceof zn?(n=Nr(n,Ke),Ke(n)||A(114)):(n=Nr(n.getNode(),Ke),Ke(n)||A(114)));let e=n.getParent();kn(e)||A(115);let t=e.getParent();return to(t)||A(116),[n,e,t]};T.DEPRECATED_$isGridCellNode=Ke;T.DEPRECATED_$isGridNode=to;T.DEPRECATED_$isGridRowNode=kn;T.DEPRECATED_$isGridSelection=Zi;T.DEPRECATED_GridCellNode=eo;T.DEPRECATED_GridNode=$s;T.DEPRECATED_GridRowNode=As;T.DRAGEND_COMMAND=Fl;T.DRAGOVER_COMMAND=Ll;T.DRAGSTART_COMMAND=Il;T.DROP_COMMAND=kl;T.DecoratorNode=Cs;T.ElementNode=Lt;T.FOCUS_COMMAND=bl;T.FORMAT_ELEMENT_COMMAND={};T.FORMAT_TEXT_COMMAND=at;T.INDENT_CONTENT_COMMAND={};T.INSERT_LINE_BREAK_COMMAND=Nn;T.INSERT_PARAGRAPH_COMMAND=ai;T.KEY_ARROW_DOWN_COMMAND=wl;T.KEY_ARROW_LEFT_COMMAND=xl;T.KEY_ARROW_RIGHT_COMMAND=Cl;T.KEY_ARROW_UP_COMMAND=Al;T.KEY_BACKSPACE_COMMAND=Rl;T.KEY_DELETE_COMMAND=Ml;T.KEY_DOWN_COMMAND=vl;T.KEY_ENTER_COMMAND=gr;T.KEY_ESCAPE_COMMAND=Dl;T.KEY_MODIFIER_COMMAND=Kl;T.KEY_SPACE_COMMAND=Ol;T.KEY_TAB_COMMAND=Pl;T.LineBreakNode=on;T.MOVE_TO_END=Sl;T.MOVE_TO_START=$l;T.OUTDENT_CONTENT_COMMAND={};T.PASTE_COMMAND=Ii;T.ParagraphNode=sn;T.REDO_COMMAND=Fi;T.REMOVE_TEXT_COMMAND=ui;T.RootNode=rn;T.SELECTION_CHANGE_COMMAND=ki;T.TextNode=ln;T.UNDO_COMMAND=Li;T.createCommand=function(){return{}};T.createEditor=function(n){var e=n||{},t=ie,r=e.theme||{};let i=n===void 0?t:e.parentEditor||null,o=e.disableEvents||!1,l=qi(),s=e.namespace||(i!==null?i._config.namespace:Xl()),a=e.editorState,c=[rn,ln,on,sn,...e.nodes||[]],f=e.onError;if(e=e.editable!==void 0?e.editable:!0,n===void 0&&t!==null)n=t._nodes;else for(n=new Map,t=0;t<c.length;t++){let u=c[t],g=null;var d=null;typeof u!="function"&&(d=u,u=d.replace,g=d.with,d=d.withKlass?d.withKlass:null);let h=u.getType(),p=u.transform(),E=new Set;p!==null&&E.add(p),n.set(h,{klass:u,replace:g,replaceWithKlass:d,transforms:E})}return r=new Su(l,i,n,{disableEvents:o,namespace:s,theme:r},f||console.error,Cu(n),e),a!==void 0&&(r._pendingEditorState=a,r._dirtyType=2),r};T.getNearestEditorFromDOMNode=Gi;T.isSelectionCapturedInDecoratorInput=Ui;T.isSelectionWithinEditor=Bn;const xu=T;var Ae=xu,Te={},ge={},oe={},P=Ae;let Cr=new Map;function Ho(n){for(;n!=null;){if(n.nodeType===Node.TEXT_NODE)return n;n=n.firstChild}return null}function Uo(n){let e=n.parentNode;if(e==null)throw Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(n)]}function ws(n){let e={};n=n.split(";");for(let t of n)if(t!==""){let[r,i]=t.split(/:([^]+)/);e[r.trim()]=i.trim()}return e}function Sr(n){let e=Cr.get(n);return e===void 0&&(e=ws(n),Cr.set(n,e)),e}function $u(n){let e="";for(let t in n)t&&(e+=`${t}: ${n[t]};`);return e}function Kt(n,e){var t=Sr("getStyle"in n?n.getStyle():n.style);e=Object.entries(e).reduce((r,[i,o])=>(o===null?delete r[i]:r[i]=o,r),{...t}),t=$u(e),n.setStyle(t),Cr.set(t,e)}function Au(n){for(;n!==null&&!P.$isRootOrShadowRoot(n);){let e=n.getLatest(),t=n.getParent();e.getChildrenSize()===0&&n.remove(!0),n=t}}function ni(n,e,t,r,i=null){if(e.length!==0){var o=e[0],l=new Map,s=[];o=P.$isElementNode(o)?o:o.getParentOrThrow(),o.isInline()&&(o=o.getParentOrThrow());for(var a=!1;o!==null;){var c=o.getPreviousSibling();if(c!==null){o=c,a=!0;break}if(o=o.getParentOrThrow(),P.$isRootOrShadowRoot(o))break}c=new Set;for(var f=0;f<t;f++){var d=e[f];P.$isElementNode(d)&&d.getChildrenSize()===0&&c.add(d.getKey())}var u=new Set;for(f=0;f<t;f++){d=e[f];var g=d.getParent();if(g!==null&&g.isInline()&&(g=g.getParent()),g!==null&&P.$isLeafNode(d)&&!u.has(d.getKey())){if(d=g.getKey(),l.get(d)===void 0){let h=r();h.setFormat(g.getFormatType()),h.setIndent(g.getIndent()),s.push(h),l.set(d,h),g.getChildren().forEach(p=>{h.append(p),u.add(p.getKey()),P.$isElementNode(p)&&p.getChildrenKeys().forEach(E=>u.add(E))}),Au(g)}}else c.has(d.getKey())&&(g=r(),g.setFormat(d.getFormatType()),g.setIndent(d.getIndent()),s.push(g),d.remove(!0))}if(i!==null)for(e=0;e<s.length;e++)i.append(s[e]);if(e=null,P.$isRootOrShadowRoot(o))if(a)if(i!==null)o.insertAfter(i);else for(i=s.length-1;0<=i;i--)o.insertAfter(s[i]);else if(a=o.getFirstChild(),P.$isElementNode(a)&&(o=a),a===null)if(i)o.append(i);else for(i=0;i<s.length;i++)a=s[i],o.append(a),e=a;else if(i!==null)a.insertBefore(i);else for(o=0;o<s.length;o++)i=s[o],a.insertBefore(i),e=i;else if(i)o.insertAfter(i);else for(i=s.length-1;0<=i;i--)a=s[i],o.insertAfter(a),e=a;s=P.$getPreviousSelection(),P.$isRangeSelection(s)&&s.anchor.getNode().isAttached()&&s.focus.getNode().isAttached()?P.$setSelection(s.clone()):e!==null?e.selectEnd():n.dirty=!0}}function Os(n,e,t,r){n.modify(e?"extend":"move",t,r)}function Rs(n){return n=n.anchor.getNode(),(P.$isRootNode(n)?n:n.getParentOrThrow()).getDirection()==="rtl"}oe.$addNodeStyle=function(n){n=n.getStyle();let e=ws(n);Cr.set(n,e)};oe.$cloneWithProperties=function(n){n=n.getLatest();let e=n.constructor.clone(n);return e.__parent=n.__parent,e.__next=n.__next,e.__prev=n.__prev,P.$isElementNode(n)&&P.$isElementNode(e)?(e.__first=n.__first,e.__last=n.__last,e.__size=n.__size,e.__format=n.__format,e.__indent=n.__indent,e.__dir=n.__dir,e):(P.$isTextNode(n)&&P.$isTextNode(e)&&(e.__format=n.__format,e.__style=n.__style,e.__mode=n.__mode,e.__detail=n.__detail),e)};oe.$getSelectionStyleValueForProperty=function(n,e,t=""){let r=null,i=n.getNodes();var o=n.anchor,l=n.focus,s=n.isBackward();let a=s?l.offset:o.offset;if(o=s?l.getNode():o.getNode(),n.style!==""&&(n=Sr(n.style),n!==null&&e in n))return n[e];for(n=0;n<i.length;n++){var c=i[n];if((n===0||a!==0||!c.is(o))&&P.$isTextNode(c)){if(l=e,s=t,c=c.getStyle(),c=Sr(c),l=c!==null&&c[l]||s,r===null)r=l;else if(r!==l){r="";break}}}return r===null?t:r};oe.$isAtNodeEnd=function(n){return n.type==="text"?n.offset===n.getNode().getTextContentSize():n.offset===n.getNode().getChildrenSize()};oe.$isParentElementRTL=Rs;oe.$moveCaretSelection=Os;oe.$moveCharacter=function(n,e,t){let r=Rs(n);Os(n,e,t?!r:r,"character")};oe.$patchStyleText=function(n,e){var t=n.getNodes();let r=t.length-1,i=t[0],o=t[r];if(n.isCollapsed())Kt(n,e);else{var l=n.anchor,s=n.focus,a=i.getTextContent().length,c=s.offset,f=l.offset,d=l.isBefore(s),u=d?f:c;n=d?c:f;var g=d?l.type:s.type,h=d?s.type:l.type;if(l=d?s.key:l.key,P.$isTextNode(i)&&u===a&&(s=i.getNextSibling(),P.$isTextNode(s)&&(u=f=0,i=s)),t.length===1)P.$isTextNode(i)&&(u=g==="element"?0:f>c?c:f,n=h==="element"?a:f>c?f:c,u!==n&&(u===0&&n===a?(Kt(i,e),i.select(u,n)):(t=i.splitText(u,n),t=u===0?t[0]:t[1],Kt(t,e),t.select(0,n-u))));else for(P.$isTextNode(i)&&u<i.getTextContentSize()&&(u!==0&&(i=i.splitText(u)[1]),Kt(i,e)),P.$isTextNode(o)&&(u=o.getTextContent().length,o.__key!==l&&n!==0&&(n=u),n!==u&&([o]=o.splitText(n)),n!==0&&Kt(o,e)),n=1;n<r;n++)u=t[n],a=u.getKey(),P.$isTextNode(u)&&a!==i.getKey()&&a!==o.getKey()&&!u.isToken()&&Kt(u,e)}};oe.$selectAll=function(n){let e=n.anchor;n=n.focus;var t=e.getNode().getTopLevelElementOrThrow().getParentOrThrow();let r=t.getFirstDescendant();t=t.getLastDescendant();let i="element",o="element",l=0;P.$isTextNode(r)?i="text":P.$isElementNode(r)||r===null||(r=r.getParentOrThrow()),P.$isTextNode(t)?(o="text",l=t.getTextContentSize()):P.$isElementNode(t)||t===null||(t=t.getParentOrThrow()),r&&t&&(e.set(r.getKey(),0,i),n.set(t.getKey(),l,o))};oe.$setBlocksType=function(n,e){if(n.anchor.key==="root"){e=e();var t=P.$getRoot();(n=t.getFirstChild())?n.replace(e,!0):t.append(e)}else for(t=n.getNodes(),n=n.anchor.getNode().getParentOrThrow(),t.indexOf(n)===-1&&t.push(n),n.isInline()&&(n=n.getParentOrThrow(),t.indexOf(n)===-1&&t.push(n)),n=0;n<t.length;n++){let o=t[n];var r=o;if(!P.$isElementNode(r)||P.$isRootOrShadowRoot(r))r=!1;else{var i=r.getFirstChild();i=i===null||P.$isTextNode(i)||i.isInline(),r=!r.isInline()&&r.canBeEmpty()!==!1&&i}r&&(r=e(),r.setFormat(o.getFormatType()),r.setIndent(o.getIndent()),o.replace(r,!0))}};oe.$shouldOverrideDefaultCharacterSelection=function(n,e){return n=P.$getAdjacentNode(n.focus,e),P.$isDecoratorNode(n)&&!n.isIsolated()||P.$isElementNode(n)&&!n.isInline()&&!n.canBeEmpty()};oe.$sliceSelectedTextNodeContent=function(n,e){if(e.isSelected()&&!e.isSegmented()&&!e.isToken()&&(P.$isRangeSelection(n)||P.DEPRECATED_$isGridSelection(n))){var t=n.anchor.getNode(),r=n.focus.getNode(),i=e.is(t),o=e.is(r);if(i||o){i=n.isBackward();let[l,s]=n.getCharacterOffsets();n=t.is(r),o=e.is(i?r:t),r=e.is(i?t:r),t=0;let a;n?(t=l>s?s:l,a=l>s?l:s):o?(t=i?s:l,a=void 0):r&&(i=i?l:s,t=0,a=i),e.__text=e.__text.slice(t,a)}}return e};oe.$wrapNodes=function(n,e,t=null){var r=n.getNodes();let i=r.length;var o=n.anchor;if(i===0||i===1&&o.type==="element"&&o.getNode().getChildrenSize()===0){n=o.type==="text"?o.getNode().getParentOrThrow():o.getNode(),r=n.getChildren();let s=e();s.setFormat(n.getFormatType()),s.setIndent(n.getIndent()),r.forEach(a=>s.append(a)),t&&(s=t.append(s)),n.replace(s)}else{o=null;var l=[];for(let s=0;s<i;s++){let a=r[s];P.$isRootOrShadowRoot(a)?(ni(n,l,l.length,e,t),l=[],o=a):o===null||o!==null&&P.$hasAncestor(a,o)?l.push(a):(ni(n,l,l.length,e,t),l=[a])}ni(n,l,l.length,e,t)}};oe.createDOMRange=function(n,e,t,r,i){let o=e.getKey(),l=r.getKey(),s=document.createRange(),a=n.getElementByKey(o);if(n=n.getElementByKey(l),P.$isTextNode(e)&&(a=Ho(a)),P.$isTextNode(r)&&(n=Ho(n)),e===void 0||r===void 0||a===null||n===null)return null;a.nodeName==="BR"&&([a,t]=Uo(a)),n.nodeName==="BR"&&([n,i]=Uo(n)),e=a.firstChild,a===n&&e!=null&&e.nodeName==="BR"&&t===0&&i===0&&(i=1);try{s.setStart(a,t),s.setEnd(n,i)}catch{return null}return!s.collapsed||t===i&&o===l||(s.setStart(n,i),s.setEnd(a,t)),s};oe.createRectsFromDOMRange=function(n,e){var t=n.getRootElement();if(t===null)return[];n=t.getBoundingClientRect(),t=getComputedStyle(t),t=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),e=Array.from(e.getClientRects());let r=e.length,i;for(let o=0;o<r;o++){let l=e[o],s=l.width+t===n.width;i&&i.top===l.top&&i.left===l.left&&i.width===l.width&&i.height===l.height||s?(e.splice(o--,1),r--):i=l}return e};oe.getStyleObjectFromCSS=Sr;oe.trimTextContentFromAnchor=function(n,e,t){let r=e.getNode();if(P.$isElementNode(r)){var i=r.getDescendantByIndex(e.offset);i!==null&&(r=i)}for(;0<t&&r!==null;){var o=r.getPreviousSibling(),l=0;if(o===null){i=r.getParentOrThrow();for(var s=i.getPreviousSibling();s===null;){if(i=i.getParent(),i===null){o=null;break}s=i.getPreviousSibling()}i!==null&&(l=i.isInline()?0:2,o=P.$isElementNode(s)?s.getLastDescendant():s)}if(s=r.getTextContent(),s===""&&P.$isElementNode(r)&&!r.isInline()&&(s=`

`),i=r.getTextContentSize(),!P.$isTextNode(r)||t>=i)s=r.getParent(),r.remove(),s==null||s.getChildrenSize()!==0||P.$isRootNode(s)||s.remove(),t-=i+l,r=o;else{let a=r.getKey();l=n.getEditorState().read(()=>{const f=P.$getNodeByKey(a);return P.$isTextNode(f)&&f.isSimpleText()?f.getTextContent():null}),o=i-t;let c=s.slice(0,o);l!==null&&l!==s?(t=P.$getPreviousSelection(),i=r,r.isSimpleText()?r.setTextContent(l):(i=P.$createTextNode(l),r.replace(i)),P.$isRangeSelection(t)&&t.isCollapsed()&&(t=t.anchor.offset,i.select(t,t))):r.isSimpleText()?(l=e.key===a,s=e.offset,s<t&&(s=i),t=l?s-t:0,i=l?s:o,l&&t===0?([t]=r.splitText(t,i),t.remove()):([,t]=r.splitText(t,i),t.remove())):(t=P.$createTextNode(c),r.replace(t)),t=0}}};const wu=oe;var br=wu,Ou=br,te=Ae;function Ds(n,e){for(let t of e)if(n.type.startsWith(t))return!0;return!1}function Ms(n,e){for(;n!==te.$getRoot()&&n!=null;){if(e(n))return n;n=n.getParent()}return null}function Ps(n){return n.nodeType===1}ge.$splitNode=te.$splitNode;ge.$dfs=function(n,e){let t=[];n=(n||te.$getRoot()).getLatest(),e=e||(te.$isElementNode(n)?n.getLastDescendant():n);for(var r=n,i=0;(r=r.getParent())!==null;)i++;for(r=i;n!==null&&!n.is(e);)if(t.push({depth:r,node:n}),te.$isElementNode(n)&&0<n.getChildrenSize())n=n.getFirstChild(),r++;else for(i=null;i===null&&n!==null;)i=n.getNextSibling(),i===null?(n=n.getParent(),r--):n=i;return n!==null&&n.is(e)&&t.push({depth:r,node:n}),t};ge.$findMatchingParent=Ms;ge.$getNearestBlockElementAncestorOrThrow=function(n){if(n=Ms(n,e=>te.$isElementNode(e)&&!e.isInline()),!te.$isElementNode(n))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return n};ge.$getNearestNodeOfType=function(n,e){for(;n!=null;){if(n instanceof e)return n;n=n.getParent()}return null};ge.$insertNodeToNearestRoot=function(n){var e=te.$getSelection();if(te.$isRangeSelection(e)){var{focus:t}=e;if(e=t.getNode(),t=t.offset,te.$isRootOrShadowRoot(e))t=e.getChildAtIndex(t),t==null?e.append(n):t.insertBefore(n),n.selectNext();else{let r,i;te.$isTextNode(e)?(r=e.getParentOrThrow(),i=e.getIndexWithinParent(),0<t&&(i+=1,e.splitText(t))):(r=e,i=t),[,e]=te.$splitNode(r,i),e.insertBefore(n),e.selectStart()}}else te.$isNodeSelection(e)||te.DEPRECATED_$isGridSelection(e)?(e=e.getNodes(),e[e.length-1].getTopLevelElementOrThrow().insertAfter(n)):te.$getRoot().append(n),e=te.$createParagraphNode(),n.insertAfter(e),e.select();return n.getLatest()};ge.$restoreEditorState=function(n,e){let t=new Map,r=n._pendingEditorState;for(let[i,o]of e._nodeMap){let l=Ou.$cloneWithProperties(o);te.$isTextNode(l)&&(l.__text=o.__text),t.set(i,l)}r&&(r._nodeMap=t),n._dirtyType=2,n=e._selection,te.$setSelection(n===null?null:n.clone())};ge.$wrapNodeInElement=function(n,e){return e=e(),n.replace(e),e.append(n),e};ge.addClassNamesToElement=function(n,...e){e.forEach(t=>{typeof t=="string"&&(t=t.split(" ").filter(r=>r!==""),n.classList.add(...t))})};ge.isHTMLAnchorElement=function(n){return Ps(n)&&n.tagName==="A"};ge.isHTMLElement=Ps;ge.isMimeType=Ds;ge.mediaFileReader=function(n,e){let t=n[Symbol.iterator]();return new Promise((r,i)=>{let o=[],l=()=>{const{done:s,value:a}=t.next();if(s)return r(o);const c=new FileReader;c.addEventListener("error",i),c.addEventListener("load",()=>{const f=c.result;typeof f=="string"&&o.push({file:a,result:f}),l()}),Ds(a,e)?c.readAsDataURL(a):l()};l()})};ge.mergeRegister=function(...n){return()=>{n.forEach(e=>e())}};ge.registerNestedElementResolver=function(n,e,t,r){return n.registerNodeTransform(e,i=>{e:{for(var o=i.getChildren(),l=0;l<o.length;l++)if(o[l]instanceof e){o=null;break e}for(o=i;o!==null;)if(l=o,o=o.getParent(),o instanceof e){o={child:l,parent:o};break e}o=null}if(o!==null){const{child:s,parent:a}=o;if(s.is(i)){if(r(a,i),i=s.getNextSiblings(),o=i.length,a.insertAfter(s),o!==0){l=t(a),s.insertAfter(l);for(let c=0;c<o;c++)l.append(i[c])}a.canBeEmpty()||a.getChildrenSize()!==0||a.remove()}}})};ge.removeClassNamesFromElement=function(n,...e){e.forEach(t=>{typeof t=="string"&&n.classList.remove(...t.split(" "))})};const Ru=ge;var ht=Ru,W=Ae,Dt=ht;function tn(n){throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?code=${n} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function ks(n){let e=1;for(n=n.getParent();n!=null;){if(J(n)){if(n=n.getParent(),b(n)){e++,n=n.getParent();continue}tn(40)}break}return e}function $i(n){n=n.getParent(),b(n)||tn(40);let e=n;for(;e!==null;)e=e.getParent(),b(e)&&(n=e);return n}function Is(n){let e=[];n=n.getChildren().filter(J);for(let t=0;t<n.length;t++){let r=n[t],i=r.getFirstChild();b(i)?e=e.concat(Is(i)):e.push(r)}return e}function Be(n){return J(n)&&b(n.getFirstChild())}function Du(n){for(;n.getNextSibling()==null&&n.getPreviousSibling()==null;){let e=n.getParent();if(e==null||!J(n)&&!b(n))break;n=e}n.remove()}function Go(n){return Ie().append(n)}function Ls(n,e){return J(n)&&(e.length===0||e.length===1&&n.is(e[0])&&n.getChildrenSize()===0)}function Mt(n,e){n.splice(n.getChildrenSize(),0,e)}function Yo(n,e){if(b(n))return n;let t=n.getPreviousSibling(),r=n.getNextSibling(),i=Ie();return i.setFormat(n.getFormatType()),i.setIndent(n.getIndent()),Mt(i,n.getChildren()),b(t)&&e===t.getListType()?(t.append(i),n.remove(),b(r)&&e===r.getListType()&&(Mt(t,r.getChildren()),r.remove()),t):b(r)&&e===r.getListType()?(r.getFirstChildOrThrow().insertBefore(i),n.remove(),r):(e=Ee(e),e.append(i),n.replace(e),me(e),e)}function Fs(n,e){var t=n.getLastChild();let r=e.getFirstChild();t&&r&&Be(t)&&Be(r)&&(Fs(t.getFirstChild(),r.getFirstChild()),r.remove()),t=e.getChildren(),0<t.length&&(n.append(...t),me(n)),e.remove()}function me(n,e){if(n=e||n.getChildren(),n!==void 0)for(e=0;e<n.length;e++){let o=n[e];if(J(o)){let l=o.getValue();var t=o,r=t.getParent(),i=1;for(r!=null&&(b(r)?i=r.getStart():tn(44)),t=t.getPreviousSiblings(),r=0;r<t.length;r++){let s=t[r];J(s)&&!b(s.getFirstChild())&&i++}l!==i&&o.setValue(i)}}}function Mu(n){if(!Be(n)){var e=n.getParent(),t=e?e.getParent():void 0,r=t?t.getParent():void 0;if(b(r)&&J(t)&&b(e)){var i=e?e.getFirstChild():void 0,o=e?e.getLastChild():void 0;if(n.is(i))t.insertBefore(n),e.isEmpty()&&t.remove();else if(n.is(o))t.insertAfter(n),e.isEmpty()&&t.remove();else{var l=e.getListType();i=Ie();let s=Ee(l);i.append(s),n.getPreviousSiblings().forEach(a=>s.append(a)),o=Ie(),l=Ee(l),o.append(l),Mt(l,n.getNextSiblings()),t.insertBefore(i),t.insertAfter(o),t.replace(n)}me(e),me(r)}}}let Br=class Ai extends W.ElementNode{static getType(){return"listitem"}static clone(e){return new Ai(e.__value,e.__checked,e.__key)}constructor(e,t,r){super(r),this.__value=e===void 0?1:e,this.__checked=t}createDOM(e){let t=document.createElement("li"),r=this.getParent();return b(r)&&r.getListType()==="check"&&Jo(t,this,null),t.value=this.__value,jo(t,e.theme,this),t}updateDOM(e,t,r){let i=this.getParent();return b(i)&&i.getListType()==="check"&&Jo(t,this,e),t.value=this.__value,jo(t,r.theme,this),!1}static transform(){return e=>{let t=e.getParent();b(t)&&(me(t),t.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0))}}static importDOM(){return{li:()=>({conversion:Pu,priority:0})}}static importJSON(e){let t=new Ai(e.value,e.checked);return t.setFormat(e.format),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...e){for(let t=0;t<e.length;t++){let r=e[t];if(W.$isElementNode(r)&&this.canMergeWith(r)){let i=r.getChildren();this.append(...i),r.remove()}else super.append(r)}return this}replace(e,t){if(J(e))return super.replace(e);this.setIndent(0);let r=this.getParentOrThrow();if(!b(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{let i=Ee(r.getListType()),o=this.getNextSibling();for(;o;){let l=o;o=o.getNextSibling(),i.append(l)}r.insertAfter(e),e.insertAfter(i)}return t&&this.getChildren().forEach(i=>{e.append(i)}),this.remove(),r.getChildrenSize()===0&&r.remove(),e}insertAfter(e,t=!0){var r=this.getParentOrThrow();b(r)||tn(39);var i=this.getNextSiblings();if(J(e))return t=super.insertAfter(e,t),e=e.getParentOrThrow(),b(e)&&me(e),t;if(b(e)&&e.getListType()===r.getListType()){for(r=e,e=e.getChildren(),i=e.length-1;0<=i;i--)r=e[i],this.insertAfter(r,t);return r}if(r.insertAfter(e,t),i.length!==0){let o=Ee(r.getListType());i.forEach(l=>o.append(l)),e.insertAfter(o,t)}return e}remove(e){let t=this.getPreviousSibling(),r=this.getNextSibling();super.remove(e),t&&r&&Be(t)&&Be(r)?(Fs(t.getFirstChild(),r.getFirstChild()),r.remove()):r&&(e=r.getParent(),b(e)&&me(e))}insertNewAfter(e,t=!0){return e=Ie(this.__checked==null?void 0:!1),this.insertAfter(e,t),e}collapseAtStart(e){let t=W.$createParagraphNode();this.getChildren().forEach(l=>t.append(l));var r=this.getParentOrThrow(),i=r.getParentOrThrow();let o=J(i);return r.getChildrenSize()===1?o?(r.remove(),i.select()):(r.insertBefore(t),r.remove(),r=e.anchor,e=e.focus,i=t.getKey(),r.type==="element"&&r.getNode().is(this)&&r.set(i,r.offset,"element"),e.type==="element"&&e.getNode().is(this)&&e.set(i,e.offset,"element")):(r.insertBefore(t),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var e=this.getParent();if(e===null)return this.getLatest().__indent;e=e.getParentOrThrow();let t=0;for(;J(e);)e=e.getParentOrThrow().getParentOrThrow(),t++;return t}setIndent(e){typeof e=="number"&&-1<e||tn(117);let t=this.getIndent();for(;t!==e;)if(t<e){e:{var r=new Set;if(Be(this)||r.has(this.getKey()))break e;let s=this.getParent();var i=this.getNextSibling(),o=this.getPreviousSibling();if(Be(i)&&Be(o)){if(o=o.getFirstChild(),b(o)){o.append(this);var l=i.getFirstChild();b(l)&&(l=l.getChildren(),Mt(o,l),i.remove(),r.add(i.getKey())),me(o)}}else Be(i)?(i=i.getFirstChild(),b(i)&&(r=i.getFirstChild(),r!==null&&r.insertBefore(this),me(i))):Be(o)?(i=o.getFirstChild(),b(i)&&(i.append(this),me(i))):b(s)&&(r=Ie(),l=Ee(s.getListType()),r.append(l),l.append(this),o?o.insertAfter(r):i?i.insertBefore(r):s.append(r),me(l));b(s)&&me(s)}t++}else Mu(this),t--;return this}insertBefore(e){if(J(e)){let t=this.getParentOrThrow();if(b(t)){let r=this.getNextSiblings();me(t,r)}}return super.insertBefore(e)}canInsertAfter(e){return J(e)}canReplaceWith(e){return J(e)}canMergeWith(e){return W.$isParagraphNode(e)||J(e)}extractWithChild(e,t){if(!W.$isRangeSelection(t))return!1;e=t.anchor.getNode();let r=t.focus.getNode();return this.isParentOf(e)&&this.isParentOf(r)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return Ee("bullet")}};function jo(n,e,t){let r=[],i=[];var o=(e=e.list)?e.listitem:void 0;if(e&&e.nested)var l=e.nested.listitem;if(o!==void 0&&(o=o.split(" "),r.push(...o)),e){o=t.getParent(),o=b(o)&&o.getListType()==="check";let s=t.getChecked();o&&!s||i.push(e.listitemUnchecked),o&&s||i.push(e.listitemChecked),o&&r.push(s?e.listitemChecked:e.listitemUnchecked)}l!==void 0&&(l=l.split(" "),t.getChildren().some(s=>b(s))?r.push(...l):i.push(...l)),0<i.length&&Dt.removeClassNamesFromElement(n,...i),0<r.length&&Dt.addClassNamesToElement(n,...r)}function Jo(n,e,t){b(e.getFirstChild())?(n.removeAttribute("role"),n.removeAttribute("tabIndex"),n.removeAttribute("aria-checked")):(n.setAttribute("role","checkbox"),n.setAttribute("tabIndex","-1"),t&&e.__checked===t.__checked||n.setAttribute("aria-checked",e.getChecked()?"true":"false"))}function Pu(n){return n=Dt.isHTMLElement(n)&&n.getAttribute("aria-checked")==="true",{node:Ie(n)}}function Ie(n){return W.$applyNodeReplacement(new Br(void 0,n))}function J(n){return n instanceof Br}let no=class bs extends W.ElementNode{static getType(){return"list"}static clone(e){return new bs(e.__listType||Zo[e.__tag],e.__start,e.__key)}constructor(e,t,r){super(r),this.__listType=e=Zo[e]||e,this.__tag=e==="number"?"ol":"ul",this.__start=t}getTag(){return this.__tag}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e){let t=document.createElement(this.__tag);return this.__start!==1&&t.setAttribute("start",String(this.__start)),t.__lexicalListType=this.__listType,Vo(t,e.theme,this),t}updateDOM(e,t,r){return e.__tag!==this.__tag?!0:(Vo(t,r.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:Xo,priority:0}),ul:()=>({conversion:Xo,priority:0})}}static importJSON(e){let t=Ee(e.listType,e.start);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportDOM(e){return{element:e}=super.exportDOM(e),e&&(this.__start!==1&&e.setAttribute("start",String(this.__start)),this.__listType==="check"&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let r=0;r<e.length;r++){var t=e[r];if(J(t))super.append(t);else{let i=Ie();b(t)||W.$isElementNode(t)&&(t=W.$createTextNode(t.getTextContent())),i.append(t),super.append(i)}}return me(this),this}extractWithChild(e){return J(e)}};function Vo(n,e,t){let r=[],i=[];var o=e.list;if(o!==void 0){let s=o[`${t.__tag}Depth`]||[];e=ks(t)-1;let a=e%s.length;var l=s[a];let c=o[t.__tag],f;if(o=o.nested,o!==void 0&&o.list&&(f=o.list),c!==void 0&&r.push(c),l!==void 0)for(l=l.split(" "),r.push(...l),l=0;l<s.length;l++)l!==a&&i.push(t.__tag+l);f!==void 0&&(t=f.split(" "),1<e?r.push(...t):i.push(...t))}0<i.length&&Dt.removeClassNamesFromElement(n,...i),0<r.length&&Dt.addClassNamesToElement(n,...r)}function ku(n){let e=[];for(let r=0;r<n.length;r++){var t=n[r];J(t)?(e.push(t),t=t.getChildren(),1<t.length&&t.forEach(i=>{b(i)&&e.push(Go(i))})):e.push(Go(t))}return e}function Xo(n){let e=n.nodeName.toLowerCase(),t=null;return e==="ol"?t=Ee("number",n.start):e==="ul"&&(t=Dt.isHTMLElement(n)&&n.getAttribute("__lexicallisttype")==="check"?Ee("check"):Ee("bullet")),{after:ku,node:t}}let Zo={ol:"number",ul:"bullet"};function Ee(n,e=1){return W.$applyNodeReplacement(new no(n,e))}function b(n){return n instanceof no}let Iu=W.createCommand("INSERT_UNORDERED_LIST_COMMAND"),Lu=W.createCommand("INSERT_ORDERED_LIST_COMMAND"),Fu=W.createCommand("INSERT_CHECK_LIST_COMMAND"),bu=W.createCommand("REMOVE_LIST_COMMAND");Te.$createListItemNode=Ie;Te.$createListNode=Ee;Te.$getListDepth=ks;Te.$handleListInsertParagraph=function(){var n=W.$getSelection();if(!W.$isRangeSelection(n)||!n.isCollapsed()||(n=n.anchor.getNode(),!J(n)||n.getTextContent()!==""))return!1;var e=$i(n),t=n.getParent();b(t)||tn(40);let r=t.getParent(),i;if(W.$isRootOrShadowRoot(r))i=W.$createParagraphNode(),e.insertAfter(i);else if(J(r))i=Ie(),r.insertAfter(i);else return!1;if(i.select(),e=n.getNextSiblings(),0<e.length){let o=Ee(t.getListType());W.$isParagraphNode(i)?i.insertAfter(o):(t=Ie(),t.append(o),i.insertAfter(t)),e.forEach(l=>{l.remove(),o.append(l)})}return Du(n),!0};Te.$isListItemNode=J;Te.$isListNode=b;Te.INSERT_CHECK_LIST_COMMAND=Fu;Te.INSERT_ORDERED_LIST_COMMAND=Lu;Te.INSERT_UNORDERED_LIST_COMMAND=Iu;Te.ListItemNode=Br;Te.ListNode=no;Te.REMOVE_LIST_COMMAND=bu;Te.insertList=function(n,e){n.update(()=>{var t=W.$getSelection();if(W.$isRangeSelection(t)||W.DEPRECATED_$isGridSelection(t)){var r=t.getNodes();t=t.anchor.getNode();var i=t.getParent();if(Ls(t,r))r=Ee(e),W.$isRootOrShadowRoot(i)?(t.replace(r),i=Ie(),W.$isElementNode(t)&&(i.setFormat(t.getFormatType()),i.setIndent(t.getIndent())),r.append(i)):J(t)&&(t=t.getParentOrThrow(),Mt(r,t.getChildren()),t.replace(r));else for(t=new Set,i=0;i<r.length;i++){var o=r[i];if(W.$isElementNode(o)&&o.isEmpty()&&!t.has(o.getKey()))Yo(o,e);else if(W.$isLeafNode(o))for(o=o.getParent();o!=null;){let s=o.getKey();if(b(o)){if(!t.has(s)){var l=Ee(e);Mt(l,o.getChildren()),o.replace(l),me(l),t.add(s)}break}else{if(l=o.getParent(),W.$isRootOrShadowRoot(l)&&!t.has(s)){t.add(s),Yo(o,e);break}o=l}}}}})};Te.removeList=function(n){n.update(()=>{let e=W.$getSelection();if(W.$isRangeSelection(e)){var t=new Set,r=e.getNodes(),i=e.anchor.getNode();if(Ls(i,r))t.add($i(i));else for(i=0;i<r.length;i++){var o=r[i];W.$isLeafNode(o)&&(o=Dt.$getNearestNodeOfType(o,Br),o!=null&&t.add($i(o)))}for(let l of t){t=l,r=Is(l);for(let s of r)r=W.$createParagraphNode(),Mt(r,s.getChildren()),t.insertAfter(r),t=r,s.__key===e.anchor.key&&e.anchor.set(r.getKey(),0,"element"),s.__key===e.focus.key&&e.focus.set(r.getKey(),0,"element"),s.remove();l.remove()}}})};const Bu=Te;var Ku=Bu,Ye={},qe={},ro={},Qo=br,Gt=Ae;function Bs(n,e,t,r=null){let i=r!=null?e.isSelected():!0,o=Gt.$isElementNode(e)&&e.excludeFromCopy("html");var l=e;r!==null&&(l=Qo.$cloneWithProperties(e),l=Gt.$isTextNode(l)&&r!=null?Qo.$sliceSelectedTextNodeContent(r,l):l);let s=Gt.$isElementNode(l)?l.getChildren():[],{element:a,after:c}=l.exportDOM(n);if(!a)return!1;let f=document.createDocumentFragment();for(let d=0;d<s.length;d++){let u=s[d],g=Bs(n,u,f,r);!i&&Gt.$isElementNode(e)&&g&&e.extractWithChild(u,r,"html")&&(i=!0)}return i&&!o?(a.append(f),t.append(a),c&&(n=c.call(l,a))&&a.replaceWith(n)):t.append(f),i}let Ks=new Set(["STYLE","SCRIPT"]);function zs(n,e,t=new Map,r,i=!1){let o=[];if(Ks.has(n.nodeName))return o;let l=null;var{nodeName:s}=n,a=e._htmlConversions.get(s.toLowerCase());if(s=null,a!==void 0)for(c of a)a=c(n),a!==null&&(s===null||s.priority<a.priority)&&(s=a);var c=(c=s!==null?s.conversion:null)?c(n,void 0,i):null;if(s=null,c!==null){if(s=c.after,l=c.node,l!==null){for(var[,f]of t)if(l=f(l,r),!l)break;l&&o.push(l)}c.forChild!=null&&t.set(n.nodeName,c.forChild)}for(n=n.childNodes,r=[],f=0;f<n.length;f++)r.push(...zs(n[f],e,new Map(t),l,i||(c&&c.preformatted)===!0));return s!=null&&(r=s(r)),l==null?o=o.concat(r):Gt.$isElementNode(l)&&l.append(...r),o}ro.$generateHtmlFromNodes=function(n,e){if(typeof document>"u"||typeof window>"u")throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let t=document.createElement("div"),r=Gt.$getRoot().getChildren();for(let i=0;i<r.length;i++)Bs(n,r[i],t,e);return t.innerHTML};ro.$generateNodesFromDOM=function(n,e){let t=[];e=e.body?e.body.childNodes:[];for(let i=0;i<e.length;i++){var r=e[i];Ks.has(r.nodeName)||(r=zs(r,n),r!==null&&(t=t.concat(r)))}return t};const zu=ro;var Wu=zu,Ws=Wu,wi=br,Sn=ht,k=Ae;function Xe(n){throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?code=${n} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Hs(n){let e=k.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return k.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?"":Ws.$generateHtmlFromNodes(n,e)}function Us(n){let e=k.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return k.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(Ys(n,e))}function Oi(n,e,t){(k.DEPRECATED_$isGridSelection(t)||Sn.$findMatchingParent(t.anchor.getNode(),r=>k.DEPRECATED_$isGridCellNode(r))!==null&&Sn.$findMatchingParent(t.focus.getNode(),r=>k.DEPRECATED_$isGridCellNode(r))!==null)&&e.length===1&&k.DEPRECATED_$isGridNode(e[0])?Uu(e,t,!1,n):Hu(e,t)}function Hu(n,e){let t=[],r=null;for(let i=0;i<n.length;i++){let o=n[i],l=k.$isLineBreakNode(o);if(l||k.$isDecoratorNode(o)&&o.isInline()||k.$isElementNode(o)&&o.isInline()||k.$isTextNode(o)||o.isParentRequired()){if(r===null&&(r=o.createParentElementNode(),t.push(r),l))continue;r!==null&&r.append(o)}else t.push(o),r=null}k.$isRangeSelection(e)?e.insertNodes(t):k.DEPRECATED_$isGridSelection(e)&&(n=e.anchor.getNode(),k.DEPRECATED_$isGridCellNode(n)||Xe(41),n.append(...t))}function Uu(n,e,t,r){n.length===1&&k.DEPRECATED_$isGridNode(n[0])||Xe(42);var i=n[0];n=i.getChildren(),t=i.getFirstChildOrThrow().getChildrenSize();var o=i.getChildrenSize(),l=Sn.$findMatchingParent(e.anchor.getNode(),g=>k.DEPRECATED_$isGridCellNode(g));e=(i=l&&Sn.$findMatchingParent(l,g=>k.DEPRECATED_$isGridRowNode(g)))&&Sn.$findMatchingParent(i,g=>k.DEPRECATED_$isGridNode(g)),k.DEPRECATED_$isGridCellNode(l)&&k.DEPRECATED_$isGridRowNode(i)&&k.DEPRECATED_$isGridNode(e)||Xe(43);var s=i.getIndexWithinParent(),a=Math.min(e.getChildrenSize()-1,s+o-1);o=l.getIndexWithinParent(),l=Math.min(i.getChildrenSize()-1,o+t-1),t=Math.min(o,l),i=Math.min(s,a),o=Math.max(o,l),s=Math.max(s,a),a=e.getChildren(),l=0;let c,f;for(let g=i;g<=s;g++){var d=a[g];k.DEPRECATED_$isGridRowNode(d)||Xe(24);var u=n[l];k.DEPRECATED_$isGridRowNode(u)||Xe(24),d=d.getChildren(),u=u.getChildren();let h=0;for(let p=t;p<=o;p++){let E=d[p];k.DEPRECATED_$isGridCellNode(E)||Xe(25);let C=u[h];k.DEPRECATED_$isGridCellNode(C)||Xe(25),g===i&&p===t?c=E.getKey():g===s&&p===o&&(f=E.getKey());let m=E.getChildren();C.getChildren().forEach(N=>{k.$isTextNode(N)&&k.$createParagraphNode().append(N),E.append(N)}),m.forEach(N=>N.remove()),h++}l++}c&&f&&(n=k.DEPRECATED_$createGridSelection(),n.set(e.getKey(),c,f),k.$setSelection(n),r.dispatchCommand(k.SELECTION_CHANGE_COMMAND,void 0))}function Gs(n,e,t,r=[]){let i=e!=null?t.isSelected(e):!0,o=k.$isElementNode(t)&&t.excludeFromCopy("html");var l=t;if(e!==null){var s=wi.$cloneWithProperties(t);l=s=k.$isTextNode(s)&&e!=null?wi.$sliceSelectedTextNodeContent(e,s):s}let a=k.$isElementNode(l)?l.getChildren():[];var c=l;s=c.exportJSON(),s.type!==c.constructor.getType()&&Xe(58);var f=s.children;for(k.$isElementNode(c)&&(Array.isArray(f)||Xe(59)),k.$isTextNode(l)&&(l=l.__text,0<l.length?s.text=l:i=!1),l=0;l<a.length;l++)c=a[l],f=Gs(n,e,c,s.children),!i&&k.$isElementNode(t)&&f&&t.extractWithChild(c,e,"clone")&&(i=!0);if(i&&!o)r.push(s);else if(Array.isArray(s.children))for(n=0;n<s.children.length;n++)r.push(s.children[n]);return i}function Ys(n,e){let t=[],r=k.$getRoot().getChildren();for(let i=0;i<r.length;i++)Gs(n,e,r[i],t);return{namespace:n._config.namespace,nodes:t}}function js(n){let e=[];for(let t=0;t<n.length;t++){let r=k.$parseSerializedNode(n[t]);k.$isTextNode(r)&&wi.$addNodeStyle(r),e.push(r)}return e}let zt=null;function qo(n,e){var t=window.getSelection();if(!t)return!1;var r=t.anchorNode;if(t=t.focusNode,r!==null&&t!==null&&!k.isSelectionWithinEditor(n,r,t)||(e.preventDefault(),e=e.clipboardData,r=k.$getSelection(),e===null||r===null))return!1;t=Hs(n),n=Us(n);let i="";return r!==null&&(i=r.getTextContent()),t!==null&&e.setData("text/html",t),n!==null&&e.setData("application/x-lexical-editor",n),e.setData("text/plain",i),!0}qe.$generateJSONFromSelectedNodes=Ys;qe.$generateNodesFromSerializedNodes=js;qe.$getHtmlContent=Hs;qe.$getLexicalContent=Us;qe.$insertDataTransferForPlainText=function(n,e){n=n.getData("text/plain"),n!=null&&e.insertRawText(n)};qe.$insertDataTransferForRichText=function(n,e,t){var r=n.getData("application/x-lexical-editor");if(r)try{let o=JSON.parse(r);if(o.namespace===t._config.namespace&&Array.isArray(o.nodes)){let l=js(o.nodes);return Oi(t,l,e)}}catch{}if(r=n.getData("text/html"))try{var i=new DOMParser().parseFromString(r,"text/html");let o=Ws.$generateNodesFromDOM(t,i);return Oi(t,o,e)}catch{}if(n=n.getData("text/plain"),n!=null)if(k.$isRangeSelection(e))for(n=n.split(/\r?\n/),t=n.length,i=0;i<t;i++)e.insertText(n[i]),i<t-1&&e.insertParagraph();else e.insertRawText(n)};qe.$insertGeneratedNodes=Oi;qe.copyToClipboard=async function(n,e){if(zt!==null)return!1;if(e!==null)return new Promise(o=>{n.update(()=>{o(qo(n,e))})});var t=n.getRootElement();let r=document.getSelection();if(t===null||r===null)return!1;let i=document.createElement("span");return i.style.cssText="position: fixed; top: -1000px;",i.append(document.createTextNode("#")),t.append(i),t=new Range,t.setStart(i,0),t.setEnd(i,1),r.removeAllRanges(),r.addRange(t),new Promise(o=>{let l=n.registerCommand(k.COPY_COMMAND,s=>(s instanceof ClipboardEvent&&(l(),zt!==null&&(window.clearTimeout(zt),zt=null),o(qo(n,s))),!0),k.COMMAND_PRIORITY_CRITICAL);zt=window.setTimeout(()=>{l(),zt=null,o(!1)},50),document.execCommand("copy"),i.remove()})};const Gu=qe;var Yu=Gu,xr=Yu,er=br,Vt=ht,y=Ae;function el(n,e){return typeof document.caretRangeFromPoint<"u"?(n=document.caretRangeFromPoint(n,e),n===null?null:{node:n.startContainer,offset:n.startOffset}):document.caretPositionFromPoint!=="undefined"?(n=document.caretPositionFromPoint(n,e),n===null?null:{node:n.offsetNode,offset:n.offset}):null}let an=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ju=an&&"documentMode"in document?document.documentMode:null,Ju=an&&"InputEvent"in window&&!ju?"getTargetRanges"in new window.InputEvent("input"):!1,Vu=an&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Xu=an&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Zu=an&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Qu=an&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Zu,Ri=y.createCommand("DRAG_DROP_PASTE_FILE"),io=class Js extends y.ElementNode{static getType(){return"quote"}static clone(e){return new Js(e.__key)}constructor(e){super(e)}createDOM(e){let t=document.createElement("blockquote");return Vt.addClassNamesToElement(t,e.theme.quote),t}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:qu,priority:0})}}static importJSON(e){let t=oo();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,t){e=y.$createParagraphNode();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,t),e}collapseAtStart(){let e=y.$createParagraphNode();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}};function oo(){return y.$applyNodeReplacement(new io)}let lo=class Vs extends y.ElementNode{static getType(){return"heading"}static clone(e){return new Vs(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}createDOM(e){let t=this.__tag,r=document.createElement(t);return e=e.theme.heading,e!==void 0&&Vt.addClassNamesToElement(r,e[t]),r}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:Wt,priority:0}),h2:()=>({conversion:Wt,priority:0}),h3:()=>({conversion:Wt,priority:0}),h4:()=>({conversion:Wt,priority:0}),h5:()=>({conversion:Wt,priority:0}),h6:()=>({conversion:Wt,priority:0}),p:e=>(e=e.firstChild,e!==null&&tl(e)?{conversion:()=>({node:null}),priority:3}:null),span:e=>tl(e)?{conversion:()=>({node:Yt("h1")}),priority:3}:null}}static importJSON(e){let t=Yt(e.tag);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,t=!0){e=e?e.anchor.offset:0,e=0<e&&e<this.getTextContentSize()?Yt(this.getTag()):y.$createParagraphNode();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,t),e}collapseAtStart(){let e=this.isEmpty()?y.$createParagraphNode():Yt(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}};function tl(n){return n.nodeName.toLowerCase()==="span"?n.style.fontSize==="26pt":!1}function Wt(n){n=n.nodeName.toLowerCase();let e=null;return(n==="h1"||n==="h2"||n==="h3"||n==="h4"||n==="h5"||n==="h6")&&(e=Yt(n)),{node:e}}function qu(){return{node:oo()}}function Yt(n){return y.$applyNodeReplacement(new lo(n))}function ed(n,e){n.preventDefault(),e.update(()=>{let t=y.$getSelection(),r=n instanceof InputEvent||n instanceof KeyboardEvent?null:n.clipboardData;r!=null&&(y.$isRangeSelection(t)||y.DEPRECATED_$isGridSelection(t))&&xr.$insertDataTransferForRichText(r,t,e)},{tag:"paste"})}async function td(n,e){await xr.copyToClipboard(e,n instanceof ClipboardEvent?n:null),e.update(()=>{let t=y.$getSelection();y.$isRangeSelection(t)?t.removeText():y.$isNodeSelection(t)&&t.getNodes().forEach(r=>r.remove())})}function yn(n){let e=null;if(n instanceof DragEvent?e=n.dataTransfer:n instanceof ClipboardEvent&&(e=n.clipboardData),e===null)return[!1,[],!1];var t=e.types;return n=t.includes("Files"),t=t.includes("text/html")||t.includes("text/plain"),[n,Array.from(e.files),t]}function nl(n,e){var t=y.$getSelection();if(y.$isRangeSelection(t)){var r=new Set;t=t.getNodes();for(let i=0;i<t.length;i++){let o=t[i],l=o.getKey();if(r.has(l))continue;let s=Vt.$getNearestBlockElementAncestorOrThrow(o),a=s.getKey();s.canInsertTab()?(n(o),r.add(l)):s.canIndent()&&!r.has(a)&&(r.add(a),e(s))}}}function tr(n){return n=y.$getNearestNodeFromDOMNode(n),y.$isDecoratorNode(n)}Ye.$createHeadingNode=Yt;Ye.$createQuoteNode=oo;Ye.$isHeadingNode=function(n){return n instanceof lo};Ye.$isQuoteNode=function(n){return n instanceof io};Ye.DRAG_DROP_PASTE=Ri;Ye.HeadingNode=lo;Ye.QuoteNode=io;Ye.eventFiles=yn;Ye.registerRichText=function(n){return Vt.mergeRegister(n.registerCommand(y.CLICK_COMMAND,()=>{const e=y.$getSelection();return y.$isNodeSelection(e)?(e.clear(),!0):!1},0),n.registerCommand(y.DELETE_CHARACTER_COMMAND,e=>{const t=y.$getSelection();return y.$isRangeSelection(t)?(t.deleteCharacter(e),!0):!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.DELETE_WORD_COMMAND,e=>{const t=y.$getSelection();return y.$isRangeSelection(t)?(t.deleteWord(e),!0):!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.DELETE_LINE_COMMAND,e=>{const t=y.$getSelection();return y.$isRangeSelection(t)?(t.deleteLine(e),!0):!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.CONTROLLED_TEXT_INSERTION_COMMAND,e=>{const t=y.$getSelection();if(typeof e=="string")y.$isRangeSelection(t)?t.insertText(e):y.DEPRECATED_$isGridSelection(t);else{if(!y.$isRangeSelection(t)&&!y.DEPRECATED_$isGridSelection(t))return!1;const r=e.dataTransfer;r!=null?xr.$insertDataTransferForRichText(r,t,n):y.$isRangeSelection(t)&&(e=e.data)&&t.insertText(e)}return!0},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.REMOVE_TEXT_COMMAND,()=>{const e=y.$getSelection();return y.$isRangeSelection(e)?(e.removeText(),!0):!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.FORMAT_TEXT_COMMAND,e=>{const t=y.$getSelection();return y.$isRangeSelection(t)?(t.formatText(e),!0):!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.FORMAT_ELEMENT_COMMAND,e=>{var t=y.$getSelection();if(!y.$isRangeSelection(t)&&!y.$isNodeSelection(t))return!1;t=t.getNodes();for(const r of t)Vt.$getNearestBlockElementAncestorOrThrow(r).setFormat(e);return!0},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.INSERT_LINE_BREAK_COMMAND,e=>{const t=y.$getSelection();return y.$isRangeSelection(t)?(t.insertLineBreak(e),!0):!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.INSERT_PARAGRAPH_COMMAND,()=>{const e=y.$getSelection();return y.$isRangeSelection(e)?(e.insertParagraph(),!0):!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.INDENT_CONTENT_COMMAND,()=>(nl(()=>{n.dispatchCommand(y.CONTROLLED_TEXT_INSERTION_COMMAND,"	")},e=>{const t=e.getIndent();t!==10&&e.setIndent(t+1)}),!0),y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.OUTDENT_CONTENT_COMMAND,()=>(nl(e=>{y.$isTextNode(e)&&(e=e.getTextContent(),e[e.length-1]==="	"&&n.dispatchCommand(y.DELETE_CHARACTER_COMMAND,!0))},e=>{const t=e.getIndent();t!==0&&e.setIndent(t-1)}),!0),y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.KEY_ARROW_UP_COMMAND,e=>{var t=y.$getSelection();if(y.$isNodeSelection(t)&&!tr(e.target)){if(e=t.getNodes(),0<e.length)return e[0].selectPrevious(),!0}else if(y.$isRangeSelection(t)){if(t=y.$getAdjacentNode(t.focus,!0),y.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline())return t.selectPrevious(),e.preventDefault(),!0;if(y.$isElementNode(t)&&!t.isInline()&&!t.canBeEmpty())return t.select(),e.preventDefault(),!0}return!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.KEY_ARROW_DOWN_COMMAND,e=>{var t=y.$getSelection();if(y.$isNodeSelection(t)){if(e=t.getNodes(),0<e.length)return e[0].selectNext(0,0),!0}else if(y.$isRangeSelection(t)){let r=t.focus;if(r.key==="root"&&r.offset===y.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(t=y.$getAdjacentNode(t.focus,!1),y.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline())return t.selectNext(),e.preventDefault(),!0}return!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.KEY_ARROW_LEFT_COMMAND,e=>{const t=y.$getSelection();if(y.$isNodeSelection(t)){var r=t.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectPrevious(),!0}return y.$isRangeSelection(t)&&er.$shouldOverrideDefaultCharacterSelection(t,!0)?(r=e.shiftKey,e.preventDefault(),er.$moveCharacter(t,r,!0),!0):!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.KEY_ARROW_RIGHT_COMMAND,e=>{const t=y.$getSelection();if(y.$isNodeSelection(t)&&!tr(e.target)){var r=t.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectNext(0,0),!0}return y.$isRangeSelection(t)?(r=e.shiftKey,er.$shouldOverrideDefaultCharacterSelection(t,!1)?(e.preventDefault(),er.$moveCharacter(t,r,!1),!0):!1):!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.KEY_BACKSPACE_COMMAND,e=>{if(tr(e.target))return!1;const t=y.$getSelection();if(!y.$isRangeSelection(t))return!1;e.preventDefault(),{anchor:e}=t;const r=e.getNode();return t.isCollapsed()&&e.offset===0&&!y.$isRootNode(r)&&0<Vt.$getNearestBlockElementAncestorOrThrow(r).getIndent()?n.dispatchCommand(y.OUTDENT_CONTENT_COMMAND,void 0):n.dispatchCommand(y.DELETE_CHARACTER_COMMAND,!0)},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.KEY_DELETE_COMMAND,e=>{if(tr(e.target))return!1;const t=y.$getSelection();return y.$isRangeSelection(t)?(e.preventDefault(),n.dispatchCommand(y.DELETE_CHARACTER_COMMAND,!1)):!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.KEY_ENTER_COMMAND,e=>{const t=y.$getSelection();if(!y.$isRangeSelection(t))return!1;if(e!==null){if((Xu||Vu||Qu)&&Ju)return!1;if(e.preventDefault(),e.shiftKey)return n.dispatchCommand(y.INSERT_LINE_BREAK_COMMAND,!1)}return n.dispatchCommand(y.INSERT_PARAGRAPH_COMMAND,void 0)},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.KEY_ESCAPE_COMMAND,()=>{const e=y.$getSelection();return y.$isRangeSelection(e)?(n.blur(),!0):!1},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.DROP_COMMAND,e=>{const[,t]=yn(e);if(0<t.length){var r=el(e.clientX,e.clientY);if(r!==null){const{offset:o,node:l}=r;var i=y.$getNearestNodeFromDOMNode(l);if(i!==null){if(r=y.$createRangeSelection(),y.$isTextNode(i))r.anchor.set(i.getKey(),o,"text"),r.focus.set(i.getKey(),o,"text");else{const s=i.getParentOrThrow().getKey();i=i.getIndexWithinParent()+1,r.anchor.set(s,i,"element"),r.focus.set(s,i,"element")}r=y.$normalizeSelection__EXPERIMENTAL(r),y.$setSelection(r)}n.dispatchCommand(Ri,t)}return e.preventDefault(),!0}return e=y.$getSelection(),!!y.$isRangeSelection(e)},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.DRAGSTART_COMMAND,e=>{[e]=yn(e);const t=y.$getSelection();return!(e&&!y.$isRangeSelection(t))},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.DRAGOVER_COMMAND,e=>{var[t]=yn(e);const r=y.$getSelection();return t&&!y.$isRangeSelection(r)?!1:(t=el(e.clientX,e.clientY),t!==null&&(t=y.$getNearestNodeFromDOMNode(t.node),y.$isDecoratorNode(t)&&e.preventDefault()),!0)},y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.COPY_COMMAND,e=>(xr.copyToClipboard(n,e instanceof ClipboardEvent?e:null),!0),y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.CUT_COMMAND,e=>(td(e,n),!0),y.COMMAND_PRIORITY_EDITOR),n.registerCommand(y.PASTE_COMMAND,e=>{const[,t,r]=yn(e);if(0<t.length&&!r)return n.dispatchCommand(Ri,t),!0;if(y.isSelectionCapturedInDecoratorInput(e.target))return!1;const i=y.$getSelection();return y.$isRangeSelection(i)||y.DEPRECATED_$isGridSelection(i)?(ed(e,n),!0):!1},y.COMMAND_PRIORITY_EDITOR))};const nd=Ye;var rd=nd,Q={},Xs={exports:{}};(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,l={},s={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function m(N){return N instanceof a?new a(N.type,m(N.content),N.alias):Array.isArray(N)?N.map(m):N.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(m){return Object.prototype.toString.call(m).slice(8,-1)},objId:function(m){return m.__id||Object.defineProperty(m,"__id",{value:++o}),m.__id},clone:function m(N,v){v=v||{};var x,$;switch(s.util.type(N)){case"Object":if($=s.util.objId(N),v[$])return v[$];x={},v[$]=x;for(var R in N)N.hasOwnProperty(R)&&(x[R]=m(N[R],v));return x;case"Array":return $=s.util.objId(N),v[$]?v[$]:(x=[],v[$]=x,N.forEach(function(L,M){x[M]=m(L,v)}),x);default:return N}},getLanguage:function(m){for(;m;){var N=i.exec(m.className);if(N)return N[1].toLowerCase();m=m.parentElement}return"none"},setLanguage:function(m,N){m.className=m.className.replace(RegExp(i,"gi"),""),m.classList.add("language-"+N)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(x){var m=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(x.stack)||[])[1];if(m){var N=document.getElementsByTagName("script");for(var v in N)if(N[v].src==m)return N[v]}return null}},isActive:function(m,N,v){for(var x="no-"+N;m;){var $=m.classList;if($.contains(N))return!0;if($.contains(x))return!1;m=m.parentElement}return!!v}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(m,N){var v=s.util.clone(s.languages[m]);for(var x in N)v[x]=N[x];return v},insertBefore:function(m,N,v,x){x=x||s.languages;var $=x[m],R={};for(var L in $)if($.hasOwnProperty(L)){if(L==N)for(var M in v)v.hasOwnProperty(M)&&(R[M]=v[M]);v.hasOwnProperty(L)||(R[L]=$[L])}var K=x[m];return x[m]=R,s.languages.DFS(s.languages,function(V,we){we===K&&V!=m&&(this[V]=R)}),R},DFS:function m(N,v,x,$){$=$||{};var R=s.util.objId;for(var L in N)if(N.hasOwnProperty(L)){v.call(N,L,N[L],x||L);var M=N[L],K=s.util.type(M);K==="Object"&&!$[R(M)]?($[R(M)]=!0,m(M,v,null,$)):K==="Array"&&!$[R(M)]&&($[R(M)]=!0,m(M,v,L,$))}}},plugins:{},highlightAll:function(m,N){s.highlightAllUnder(document,m,N)},highlightAllUnder:function(m,N,v){var x={callback:v,container:m,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",x),x.elements=Array.prototype.slice.apply(x.container.querySelectorAll(x.selector)),s.hooks.run("before-all-elements-highlight",x);for(var $=0,R;R=x.elements[$++];)s.highlightElement(R,N===!0,x.callback)},highlightElement:function(m,N,v){var x=s.util.getLanguage(m),$=s.languages[x];s.util.setLanguage(m,x);var R=m.parentElement;R&&R.nodeName.toLowerCase()==="pre"&&s.util.setLanguage(R,x);var L=m.textContent,M={element:m,language:x,grammar:$,code:L};function K(we){M.highlightedCode=we,s.hooks.run("before-insert",M),M.element.innerHTML=M.highlightedCode,s.hooks.run("after-highlight",M),s.hooks.run("complete",M),v&&v.call(M.element)}if(s.hooks.run("before-sanity-check",M),R=M.element.parentElement,R&&R.nodeName.toLowerCase()==="pre"&&!R.hasAttribute("tabindex")&&R.setAttribute("tabindex","0"),!M.code){s.hooks.run("complete",M),v&&v.call(M.element);return}if(s.hooks.run("before-highlight",M),!M.grammar){K(s.util.encode(M.code));return}if(N&&r.Worker){var V=new Worker(s.filename);V.onmessage=function(we){K(we.data)},V.postMessage(JSON.stringify({language:M.language,code:M.code,immediateClose:!0}))}else K(s.highlight(M.code,M.grammar,M.language))},highlight:function(m,N,v){var x={code:m,grammar:N,language:v};if(s.hooks.run("before-tokenize",x),!x.grammar)throw new Error('The language "'+x.language+'" has no grammar.');return x.tokens=s.tokenize(x.code,x.grammar),s.hooks.run("after-tokenize",x),a.stringify(s.util.encode(x.tokens),x.language)},tokenize:function(m,N){var v=N.rest;if(v){for(var x in v)N[x]=v[x];delete N.rest}var $=new d;return u($,$.head,m),f(m,$,N,$.head,0),h($)},hooks:{all:{},add:function(m,N){var v=s.hooks.all;v[m]=v[m]||[],v[m].push(N)},run:function(m,N){var v=s.hooks.all[m];if(!(!v||!v.length))for(var x=0,$;$=v[x++];)$(N)}},Token:a};r.Prism=s;function a(m,N,v,x){this.type=m,this.content=N,this.alias=v,this.length=(x||"").length|0}a.stringify=function m(N,v){if(typeof N=="string")return N;if(Array.isArray(N)){var x="";return N.forEach(function(K){x+=m(K,v)}),x}var $={type:N.type,content:m(N.content,v),tag:"span",classes:["token",N.type],attributes:{},language:v},R=N.alias;R&&(Array.isArray(R)?Array.prototype.push.apply($.classes,R):$.classes.push(R)),s.hooks.run("wrap",$);var L="";for(var M in $.attributes)L+=" "+M+'="'+($.attributes[M]||"").replace(/"/g,"&quot;")+'"';return"<"+$.tag+' class="'+$.classes.join(" ")+'"'+L+">"+$.content+"</"+$.tag+">"};function c(m,N,v,x){m.lastIndex=N;var $=m.exec(v);if($&&x&&$[1]){var R=$[1].length;$.index+=R,$[0]=$[0].slice(R)}return $}function f(m,N,v,x,$,R){for(var L in v)if(!(!v.hasOwnProperty(L)||!v[L])){var M=v[L];M=Array.isArray(M)?M:[M];for(var K=0;K<M.length;++K){if(R&&R.cause==L+","+K)return;var V=M[K],we=V.inside,cn=!!V.lookbehind,Vn=!!V.greedy,Xn=V.alias;if(Vn&&!V.pattern.global){var Zn=V.pattern.toString().match(/[imsuy]*$/)[0];V.pattern=RegExp(V.pattern.source,Zn+"g")}for(var pt=V.pattern||V,q=x.next,ve=$;q!==N.tail&&!(R&&ve>=R.reach);ve+=q.value.length,q=q.next){var Fe=q.value;if(N.length>m.length)return;if(!(Fe instanceof a)){var _t=1,le;if(Vn){if(le=c(pt,ve,m,cn),!le||le.index>=m.length)break;var tt=le.index,bt=le.index+le[0].length,Oe=ve;for(Oe+=q.value.length;tt>=Oe;)q=q.next,Oe+=q.value.length;if(Oe-=q.value.length,ve=Oe,q.value instanceof a)continue;for(var mt=q;mt!==N.tail&&(Oe<bt||typeof mt.value=="string");mt=mt.next)_t++,Oe+=mt.value.length;_t--,Fe=m.slice(ve,Oe),le.index-=ve}else if(le=c(pt,0,Fe,cn),!le)continue;var tt=le.index,nt=le[0],rt=Fe.slice(0,tt),yt=Fe.slice(tt+nt.length),Re=ve+Fe.length;R&&Re>R.reach&&(R.reach=Re);var Bt=q.prev;rt&&(Bt=u(N,Bt,rt),ve+=rt.length),g(N,Bt,_t);var gn=new a(L,we?s.tokenize(nt,we):nt,Xn,nt);if(q=u(N,Bt,gn),yt&&u(N,q,yt),_t>1){var fn={cause:L+","+K,reach:Re};f(m,N,v,q.prev,ve,fn),R&&fn.reach>R.reach&&(R.reach=fn.reach)}}}}}}function d(){var m={value:null,prev:null,next:null},N={value:null,prev:m,next:null};m.next=N,this.head=m,this.tail=N,this.length=0}function u(m,N,v){var x=N.next,$={value:v,prev:N,next:x};return N.next=$,x.prev=$,m.length++,$}function g(m,N,v){for(var x=N.next,$=0;$<v&&x!==m.tail;$++)x=x.next;N.next=x,x.prev=N,m.length-=$}function h(m){for(var N=[],v=m.head.next;v!==m.tail;)N.push(v.value),v=v.next;return N}if(!r.document)return r.addEventListener&&(s.disableWorkerMessageHandler||r.addEventListener("message",function(m){var N=JSON.parse(m.data),v=N.language,x=N.code,$=N.immediateClose;r.postMessage(s.highlight(x,s.languages[v],v)),$&&r.close()},!1)),s;var p=s.util.currentScript();p&&(s.filename=p.src,p.hasAttribute("data-manual")&&(s.manual=!0));function E(){s.manual||s.highlightAll()}if(!s.manual){var C=document.readyState;C==="loading"||C==="interactive"&&p&&p.defer?document.addEventListener("DOMContentLoaded",E):window.requestAnimationFrame?window.requestAnimationFrame(E):window.setTimeout(E,16)}return s}(e);n.exports&&(n.exports=t),typeof No<"u"&&(No.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(i,o){var l={};l["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[o]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};s["language-"+o]={pattern:/[\s\S]+/,inside:t.languages[o]};var a={};a[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:s},t.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(r,i){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:t.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var o=r.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",i=function(p,E){return"✖ Error "+p+" while fetching file: "+E},o="✖ Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},s="data-src-status",a="loading",c="loaded",f="failed",d="pre[data-src]:not(["+s+'="'+c+'"]):not(['+s+'="'+a+'"])';function u(p,E,C){var m=new XMLHttpRequest;m.open("GET",p,!0),m.onreadystatechange=function(){m.readyState==4&&(m.status<400&&m.responseText?E(m.responseText):m.status>=400?C(i(m.status,m.statusText)):C(o))},m.send(null)}function g(p){var E=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(p||"");if(E){var C=Number(E[1]),m=E[2],N=E[3];return m?N?[C,Number(N)]:[C,void 0]:[C,C]}}t.hooks.add("before-highlightall",function(p){p.selector+=", "+d}),t.hooks.add("before-sanity-check",function(p){var E=p.element;if(E.matches(d)){p.code="",E.setAttribute(s,a);var C=E.appendChild(document.createElement("CODE"));C.textContent=r;var m=E.getAttribute("data-src"),N=p.language;if(N==="none"){var v=(/\.(\w+)$/.exec(m)||[,"none"])[1];N=l[v]||v}t.util.setLanguage(C,N),t.util.setLanguage(E,N);var x=t.plugins.autoloader;x&&x.loadLanguages(N),u(m,function($){E.setAttribute(s,c);var R=g(E.getAttribute("data-range"));if(R){var L=$.split(/\r\n?|\n/g),M=R[0],K=R[1]==null?L.length:R[1];M<0&&(M+=L.length),M=Math.max(0,Math.min(M-1,L.length)),K<0&&(K+=L.length),K=Math.max(0,Math.min(K,L.length)),$=L.slice(M,K).join(`
`),E.hasAttribute("data-start")||E.setAttribute("data-start",String(M+1))}C.textContent=$,t.highlightElement(C)},function($){E.setAttribute(s,f),C.textContent=$})}}),t.plugins.fileHighlight={highlight:function(E){for(var C=(E||document).querySelectorAll(d),m=0,N;N=C[m++];)t.highlightElement(N)}};var h=!1;t.fileHighlight=function(){h||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),h=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Xs);var id=Xs.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(n,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(n){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function t(f){return f=f.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+f+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:t(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:t(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:t(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:t(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(f){["url","bold","italic","strike","code-snippet"].forEach(function(d){f!==d&&(n.languages.markdown[f].inside.content.inside[d]=n.languages.markdown[d])})}),n.hooks.add("after-tokenize",function(f){if(f.language!=="markdown"&&f.language!=="md")return;function d(u){if(!(!u||typeof u=="string"))for(var g=0,h=u.length;g<h;g++){var p=u[g];if(p.type!=="code"){d(p.content);continue}var E=p.content[1],C=p.content[3];if(E&&C&&E.type==="code-language"&&C.type==="code-block"&&typeof E.content=="string"){var m=E.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");m=(/[a-z][\w-]*/i.exec(m)||[""])[0].toLowerCase();var N="language-"+m;C.alias?typeof C.alias=="string"?C.alias=[C.alias,N]:C.alias.push(N):C.alias=[N]}}}d(f.tokens)}),n.hooks.add("wrap",function(f){if(f.type==="code-block"){for(var d="",u=0,g=f.classes.length;u<g;u++){var h=f.classes[u],p=/language-(.+)/.exec(h);if(p){d=p[1];break}}var E=n.languages[d];if(E)f.content=n.highlight(c(f.content),E,d);else if(d&&d!=="none"&&n.plugins.autoloader){var C="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);f.attributes.id=C,n.plugins.autoloader.loadLanguages(d,function(){var m=document.getElementById(C);m&&(m.innerHTML=n.highlight(m.textContent,n.languages[d],d))})}}});var l=RegExp(n.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;function c(f){var d=f.replace(l,"");return d=d.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(u,g){if(g=g.toLowerCase(),g[0]==="#"){var h;return g[1]==="x"?h=parseInt(g.slice(2),16):h=Number(g.slice(1)),a(h)}else{var p=s[g];return p||u}}),d}n.languages.md=n.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(n){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var t=n.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(n){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,t=0;t<2;t++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=Prism.languages.swift});(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var e=n.languages.extend("typescript",{});delete e["class-name"],n.languages.typescript["class-name"].inside=e,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),n.languages.ts=n.languages.typescript})(Prism);(function(n){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,t=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+t+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+t+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+t+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(n){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,t=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});n.languages.cpp=n.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),n.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return t})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),n.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n.languages.cpp}}}}),n.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),n.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:n.languages.extend("cpp",{})}}),n.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},n.languages.cpp["base-clause"])})(Prism);var Xt=id,Zt=ht,D=Ae;let rl=n=>n!=null&&Xt.languages.hasOwnProperty(n)?n:void 0;function Zs(n,e){for(let t of n.childNodes){if(Zt.isHTMLElement(t)&&t.tagName===e)return!0;Zs(t,e)}return!1}let Qt=class Qs extends D.ElementNode{static getType(){return"code"}static clone(e){return new Qs(e.__language,e.__key)}constructor(e,t){super(t),this.__language=rl(e)}createDOM(e){let t=document.createElement("code");return Zt.addClassNamesToElement(t,e.theme.code),t.setAttribute("spellcheck","false"),(e=this.getLanguage())&&t.setAttribute("data-highlight-language",e),t}updateDOM(e,t){let r=this.__language;return e=e.__language,r?r!==e&&t.setAttribute("data-highlight-language",r):e&&t.removeAttribute("data-highlight-language"),!1}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||Zs(e,"BR"))?{conversion:il,priority:1}:null,div:()=>({conversion:od,priority:1}),pre:()=>({conversion:il,priority:0}),table:e=>ri(e)?{conversion:ld,priority:3}:null,td:e=>{let t=e.closest("table");return e.classList.contains("js-file-line")?{conversion:sd,priority:3}:t&&ri(t)?{conversion:ol,priority:3}:null},tr:e=>(e=e.closest("table"))&&ri(e)?{conversion:ol,priority:3}:null}}static importJSON(e){let t=un(e.language);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(e,t=!0){var r=this.getChildren(),i=r.length;if(2<=i&&r[i-1].getTextContent()===`
`&&r[i-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i)return r[i-1].remove(),r[i-2].remove(),e=D.$createParagraphNode(),this.insertAfter(e,t),e;if(t=e.anchor.getNode(),i=Ln(t),i!=null){for(r=0,i=i.getTextContent();r<i.length&&/[\t ]/.test(i[r]);)r+=1;if(0<r)return r=i.substring(0,r),r=$t(r),t.insertAfter(r),e.insertNodes([D.$createLineBreakNode()]),r.select(),r}return null}canInsertTab(){let e=D.$getSelection();return!!(D.$isRangeSelection(e)&&e.isCollapsed())}canIndent(){return!1}collapseAtStart(){let e=D.$createParagraphNode();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}setLanguage(e){this.getWritable().__language=rl(e)}getLanguage(){return this.getLatest().__language}};function un(n){return D.$applyNodeReplacement(new Qt(n))}function Kr(n){return n instanceof Qt}function il(){return{node:un(),preformatted:!0}}function od(n){let e=n.style.fontFamily.match("monospace")!==null;return e||ad(n)?{after:t=>{let r=n.parentNode;return r!=null&&n!==r.lastChild&&t.push(D.$createLineBreakNode()),t},node:e?un():null,preformatted:e}:{node:null}}function ld(){return{node:un(),preformatted:!0}}function ol(){return{node:null}}function sd(n){return{after:e=>(n.parentNode&&n.parentNode.nextSibling&&e.push(D.$createLineBreakNode()),e),node:null}}function ad(n){for(n=n.parentElement;n!==null;){if(n.style.fontFamily.match("monospace")!==null)return!0;n=n.parentElement}return!1}function ri(n){return n.classList.contains("js-file-line-container")}let qs={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},ea={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function ta(n){return ea[n]||n}let In=class na extends D.TextNode{constructor(e,t,r){super(e,r),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new na(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}createDOM(e){let t=super.createDOM(e);return e=ii(e.theme,this.__highlightType),Zt.addClassNamesToElement(t,e),t}updateDOM(e,t,r){let i=super.updateDOM(e,t,r);return e=ii(r.theme,e.__highlightType),r=ii(r.theme,this.__highlightType),e!==r&&(e&&Zt.removeClassNamesFromElement(t,e),r&&Zt.addClassNamesToElement(t,r)),i}static importJSON(e){let t=$t(e.text,e.highlightType);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(){return this}isParentRequired(){return!0}createParentElementNode(){return un()}};function ii(n,e){return e&&n&&n.codeHighlight&&n.codeHighlight[e]}function $t(n,e){return D.$applyNodeReplacement(new In(n,e))}function ue(n){return n instanceof In}function Ln(n){let e=null,t=n.getPreviousSiblings();for(t.push(n);0<t.length&&(n=t.pop(),ue(n)&&(e=n),!D.$isLineBreakNode(n)););return e}function Di(n){let e=null,t=n.getNextSiblings();for(t.unshift(n);0<t.length&&(n=t.shift(),ue(n)&&(e=n),!D.$isLineBreakNode(n)););return e}let ra={defaultLanguage:"javascript",tokenize(n,e){return Xt.tokenize(n,Xt.languages[e||""]||Xt.languages[this.defaultLanguage])}};function $r(n,e){var t=n.length;let r=-1;if(e)for(e=0;e<t;e++){let i=n[e];if(i!==" "&&i!=="	"){r=e;break}}else for(--t;-1<t;t--)if(e=n[t],e!==" "&&e!=="	"){r=t;break}return r}function ia(n){let e=null,t=-1;var r=n.getPreviousSiblings();for(r.push(n);0<r.length;){var i=r.pop();if(ue(i)){var o=i.getTextContent();o=$r(o,!0),o!==-1&&(e=i,t=o)}if(D.$isLineBreakNode(i))break}if(e===null)for(n=n.getNextSiblings();0<n.length;){if(r=n.shift(),ue(r)&&(i=r.getTextContent(),i=$r(i,!0),i!==-1)){e=r,t=i;break}if(D.$isLineBreakNode(r))break}return{node:e,offset:t}}function oa(n){let e=null,t=-1;var r=n.getNextSiblings();for(r.unshift(n);0<r.length;){var i=r.shift();if(ue(i)){var o=i.getTextContent();o=$r(o,!1),o!==-1&&(e=i,t=o+1)}if(D.$isLineBreakNode(i))break}if(e===null)for(n=n.getPreviousSiblings();0<n.length;){if(r=n.pop(),ue(r)&&(i=r.getTextContent(),i=$r(i,!1),i!==-1)){e=r,t=i+1;break}if(D.$isLineBreakNode(r))break}return{node:e,offset:t}}function ll(n,e,t){let r=n.getParent();Kr(r)?la(r,e,t):ue(n)&&n.replace(D.$createTextNode(n.__text))}let oi=new Set;function la(n,e,t){let r=n.getKey();oi.has(r)||(oi.add(r),n.getLanguage()===void 0&&n.setLanguage(t.defaultLanguage),e.update(()=>{ud(r,()=>{var i=D.$getNodeByKey(r);if(!Kr(i)||!i.isAttached())return!1;var o=i.getTextContent();o=t.tokenize(o,i.getLanguage()||t.defaultLanguage),o=sa(o);var l=i.getChildren();for(i=0;i<l.length&&sl(l[i],o[i]);)i++;var s=l.length;let a=o.length,c=Math.min(s,a)-i,f=0;for(;f<c;)if(f++,!sl(l[s-f],o[a-f])){f--;break}l=i,s-=f,o=o.slice(i,a-f);let{from:d,to:u,nodesForReplacement:g}={from:l,nodesForReplacement:o,to:s};return d!==u||g.length?(n.splice(d,u-d,g),!0):!1})},{onUpdate:()=>{oi.delete(r)},skipTransforms:!0}))}function sa(n){let e=[];return n.forEach(t=>{if(typeof t=="string"){t=t.split(`
`);for(var r=0;r<t.length;r++){let i=t[r];i.length&&e.push($t(i)),r<t.length-1&&e.push(D.$createLineBreakNode())}}else({content:r}=t),typeof r=="string"?e.push($t(r,t.type)):Array.isArray(r)&&r.length===1&&typeof r[0]=="string"?e.push($t(r[0],t.type)):Array.isArray(r)&&e.push(...sa(r))}),e}function ud(n,e){if(n=D.$getNodeByKey(n),Kr(n)&&n.isAttached()){var t=D.$getSelection();if(D.$isRangeSelection(t)){t=t.anchor;var r=t.offset,i=t.type==="element"&&D.$isLineBreakNode(n.getChildAtIndex(t.offset-1)),o=0;if(!i){let l=t.getNode();o=r+l.getPreviousSiblings().reduce((s,a)=>s+a.getTextContentSize(),0)}e()&&(i?t.getNode().select(r,r):n.getChildren().some(l=>{let s=D.$isTextNode(l);if(s||D.$isLineBreakNode(l)){let a=l.getTextContentSize();if(s&&a>=o)return l.select(o,o),!0;o-=a}return!1}))}else e()}}function sl(n,e){return ue(n)&&ue(e)?n.__text===e.__text&&n.__highlightType===e.__highlightType:!!(D.$isLineBreakNode(n)&&D.$isLineBreakNode(e))}function al(n){var e=D.$getSelection();if(!D.$isRangeSelection(e)||e.isCollapsed())return!1;e=e.getNodes();for(var t=0;t<e.length;t++){var r=e[t];if(!ue(r)&&!D.$isLineBreakNode(r))return!1}for(t=Ln(e[0]),t!=null&&ul(t,n),t=1;t<e.length;t++)r=e[t],D.$isLineBreakNode(e[t-1])&&ue(r)&&ul(r,n);return!0}function ul(n,e){let t=n.getTextContent();e===D.INDENT_CONTENT_COMMAND?0<t.length&&/\s/.test(t[0])?n.setTextContent("	"+t):(e=$t("	"),n.insertBefore(e)):t.indexOf("	")===0&&(t.length===1?n.remove():n.setTextContent(t.substring(1)))}function dl(n,e){let t=D.$getSelection();if(!D.$isRangeSelection(t))return!1;let{anchor:r,focus:i}=t,o=r.offset,l=i.offset,s=r.getNode(),a=i.getNode();var c=n===D.KEY_ARROW_UP_COMMAND;if(!ue(s)||!ue(a))return!1;if(!e.altKey){if(t.isCollapsed()){if(n=s.getParentOrThrow(),c&&o===0&&s.getPreviousSibling()===null){if(n.getPreviousSibling()===null)return n.selectPrevious(),e.preventDefault(),!0}else if(!c&&o===s.getTextContentSize()&&s.getNextSibling()===null&&n.getNextSibling()===null)return n.selectNext(),e.preventDefault(),!0}return!1}var f=Ln(s);let d=Di(a);if(f==null||d==null)return!1;let u=f.getNodesBetween(d);for(let h=0;h<u.length;h++){let p=u[h];if(!ue(p)&&!D.$isLineBreakNode(p))return!1}if(e.preventDefault(),e.stopPropagation(),e=c?f.getPreviousSibling():d.getNextSibling(),!D.$isLineBreakNode(e)||(f=c?e.getPreviousSibling():e.getNextSibling(),f==null))return!0;c=c?Ln(f):Di(f);let g=c??f;return e.remove(),u.forEach(h=>h.remove()),n===D.KEY_ARROW_UP_COMMAND?(u.forEach(h=>g.insertBefore(h)),g.insertBefore(e)):(g.insertAfter(e),g=e,u.forEach(h=>{g.insertAfter(h),g=h})),t.setTextNodeRange(s,o,a,l),!0}function cl(n,e){let t=D.$getSelection();if(!D.$isRangeSelection(t))return!1;let{anchor:r,focus:i}=t,o=r.getNode(),l=i.getNode();if(n=n===D.MOVE_TO_START,!ue(o)||!ue(l))return!1;let s,a;return n?{node:s,offset:a}=ia(l):{node:s,offset:a}=oa(l),s!==null&&a!==-1&&t.setTextNodeRange(s,a,s,a),e.preventDefault(),e.stopPropagation(),!0}Q.$createCodeHighlightNode=$t;Q.$createCodeNode=un;Q.$isCodeHighlightNode=ue;Q.$isCodeNode=Kr;Q.CODE_LANGUAGE_FRIENDLY_NAME_MAP=qs;Q.CODE_LANGUAGE_MAP=ea;Q.CodeHighlightNode=In;Q.CodeNode=Qt;Q.DEFAULT_CODE_LANGUAGE="javascript";Q.PrismTokenizer=ra;Q.getCodeLanguages=()=>Object.keys(Xt.languages).filter(n=>typeof Xt.languages[n]!="function").sort();Q.getDefaultCodeLanguage=()=>"javascript";Q.getEndOfCodeInLine=oa;Q.getFirstCodeHighlightNodeOfLine=Ln;Q.getLanguageFriendlyName=function(n){return n=ta(n),qs[n]||n};Q.getLastCodeHighlightNodeOfLine=Di;Q.getStartOfCodeInLine=ia;Q.normalizeCodeLang=ta;Q.registerCodeHighlighting=function(n,e){if(!n.hasNodes([Qt,In]))throw Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return e==null&&(e=ra),Zt.mergeRegister(n.registerMutationListener(Qt,t=>{n.update(()=>{for(let[o,l]of t)if(l!=="destroyed"){var r=D.$getNodeByKey(o);if(r!==null)e:{var i=r;if(r=n.getElementByKey(i.getKey()),r===null)break e;i=i.getChildren();let s=i.length;if(s===r.__cachedChildrenLength)break e;r.__cachedChildrenLength=s;let a="1",c=1;for(let f=0;f<s;f++)D.$isLineBreakNode(i[f])&&(a+=`
`+ ++c);r.setAttribute("data-gutter",a)}}})}),n.registerNodeTransform(Qt,t=>la(t,n,e)),n.registerNodeTransform(D.TextNode,t=>ll(t,n,e)),n.registerNodeTransform(In,t=>ll(t,n,e)),n.registerCommand(D.INDENT_CONTENT_COMMAND,()=>al(D.INDENT_CONTENT_COMMAND),D.COMMAND_PRIORITY_LOW),n.registerCommand(D.OUTDENT_CONTENT_COMMAND,()=>al(D.OUTDENT_CONTENT_COMMAND),D.COMMAND_PRIORITY_LOW),n.registerCommand(D.KEY_ARROW_UP_COMMAND,t=>dl(D.KEY_ARROW_UP_COMMAND,t),D.COMMAND_PRIORITY_LOW),n.registerCommand(D.KEY_ARROW_DOWN_COMMAND,t=>dl(D.KEY_ARROW_DOWN_COMMAND,t),D.COMMAND_PRIORITY_LOW),n.registerCommand(D.MOVE_TO_END,t=>cl(D.MOVE_TO_END,t),D.COMMAND_PRIORITY_LOW),n.registerCommand(D.MOVE_TO_START,t=>cl(D.MOVE_TO_START,t),D.COMMAND_PRIORITY_LOW))};const dd=Q;var cd=dd,et={},aa=ht,ze=Ae;let gd=new Set(["http:","https:","mailto:","sms:","tel:"]),zr=class ua extends ze.ElementNode{static getType(){return"link"}static clone(e){return new ua(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e,t={},r){super(r);let{target:i=null,rel:o=null,title:l=null}=t;this.__url=e,this.__target=i,this.__rel=o,this.__title=l}createDOM(e){let t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),this.__target!==null&&(t.target=this.__target),this.__rel!==null&&(t.rel=this.__rel),this.__title!==null&&(t.title=this.__title),aa.addClassNamesToElement(t,e.theme.link),t}updateDOM(e,t){let r=this.__url,i=this.__target,o=this.__rel,l=this.__title;return r!==e.__url&&(t.href=r),i!==e.__target&&(i?t.target=i:t.removeAttribute("target")),o!==e.__rel&&(o?t.rel=o:t.removeAttribute("rel")),l!==e.__title&&(l?t.title=l:t.removeAttribute("title")),!1}static importDOM(){return{a:()=>({conversion:fd,priority:1})}}static importJSON(e){let t=Fn(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}sanitizeUrl(e){try{let t=new URL(e);if(!gd.has(t.protocol))return"about:blank"}catch{return"https://"}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}getTarget(){return this.getLatest().__target}setTarget(e){this.getWritable().__target=e}getRel(){return this.getLatest().__rel}setRel(e){this.getWritable().__rel=e}getTitle(){return this.getLatest().__title}setTitle(e){this.getWritable().__title=e}insertNewAfter(e,t=!0){return e=this.getParentOrThrow().insertNewAfter(e,t),ze.$isElementNode(e)?(t=Fn(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),e.append(t),t):null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t){if(!ze.$isRangeSelection(t))return!1;e=t.anchor.getNode();let r=t.focus.getNode();return this.isParentOf(e)&&this.isParentOf(r)&&0<t.getTextContent().length}};function fd(n){let e=null;if(aa.isHTMLAnchorElement(n)){let t=n.textContent;t!==null&&t!==""&&(e=Fn(n.getAttribute("href")||"",{rel:n.getAttribute("rel"),target:n.getAttribute("target"),title:n.getAttribute("title")}))}return{node:e}}function Fn(n,e){return ze.$applyNodeReplacement(new zr(n,e))}function vt(n){return n instanceof zr}let so=class da extends zr{static getType(){return"autolink"}static clone(e){return new da(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}static importJSON(e){let t=Mi(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(e,t=!0){return e=this.getParentOrThrow().insertNewAfter(e,t),ze.$isElementNode(e)?(t=Mi(this.__url,{rel:this._rel,target:this.__target,title:this.__title}),e.append(t),t):null}};function Mi(n,e){return ze.$applyNodeReplacement(new so(n,e))}let hd=ze.createCommand("TOGGLE_LINK_COMMAND");function pd(n,e){for(;n!==null&&(n=n.getParent())!==null&&!e(n););return n}et.$createAutoLinkNode=Mi;et.$createLinkNode=Fn;et.$isAutoLinkNode=function(n){return n instanceof so};et.$isLinkNode=vt;et.AutoLinkNode=so;et.LinkNode=zr;et.TOGGLE_LINK_COMMAND=hd;et.toggleLink=function(n,e={}){let{target:t,title:r}=e,i=e.rel===void 0?"noopener":e.rel;if(e=ze.$getSelection(),ze.$isRangeSelection(e))if(e=e.extract(),n===null)e.forEach(l=>{if(l=l.getParent(),vt(l)){let s=l.getChildren();for(let a=0;a<s.length;a++)l.insertBefore(s[a]);l.remove()}});else{if(e.length===1){var o=e[0];if(o=vt(o)?o:pd(o,vt),o!==null){o.setURL(n),t!==void 0&&o.setTarget(t),i!==null&&o.setRel(i),r!==void 0&&o.setTitle(r);return}}let l=null,s=null;e.forEach(a=>{var c=a.getParent();if(c!==s&&c!==null&&(!ze.$isElementNode(a)||a.isInline()))if(vt(c))s=c,c.setURL(n),t!==void 0&&c.setTarget(t),i!==null&&s.setRel(i),r!==void 0&&s.setTitle(r);else if(c.is(l)||(l=c,s=Fn(n,{rel:i,target:t}),vt(c)?a.getPreviousSibling()===null?c.insertBefore(s):c.insertAfter(s):a.insertBefore(s)),vt(a)){if(!a.is(s)){if(s!==null){c=a.getChildren();for(let f=0;f<c.length;f++)s.append(c[f])}a.remove()}}else s!==null&&s.append(a)})}};const _d=et;var md=_d,Y={},B=Ae,xn=cd,de=Ku,dt=rd,yd=ht,li=md;function Pi(n,e){let t={};for(let r of n)n=e(r),t[n]?t[n].push(r):t[n]=[r];return t}function ao(n){return n=Pi(n,e=>e.type),{element:n.element||[],textFormat:n["text-format"]||[],textMatch:n["text-match"]||[]}}let Ar=/[!-/:-@[-`{-~\s]/;function Nd(n){let e=ao(n),t=e.textFormat.filter(r=>r.format.length===1);return r=>{let i=[];r=(r||B.$getRoot()).getChildren();for(let o of r)r=Ed(o,e.element,t,e.textMatch),r!=null&&i.push(r);return i.join(`

`)}}function Ed(n,e,t,r){for(let i of e)if(e=i.export(n,o=>wr(o,t,r)),e!=null)return e;return B.$isElementNode(n)?wr(n,t,r):B.$isDecoratorNode(n)?n.getTextContent():null}function wr(n,e,t){let r=[];n=n.getChildren();e:for(let i of n){for(let o of t)if(n=o.export(i,l=>wr(l,e,t),(l,s)=>gl(l,s,e)),n!=null){r.push(n);continue e}B.$isLineBreakNode(i)?r.push(`
`):B.$isTextNode(i)?r.push(gl(i,i.getTextContent(),e)):B.$isElementNode(i)?r.push(wr(i,e,t)):B.$isDecoratorNode(i)&&r.push(i.getTextContent())}return r.join("")}function gl(n,e,t){let r=e.trim(),i=r,o=new Set;for(let s of t){t=s.format[0];let a=s.tag;if(si(n,t)&&!o.has(t)){o.add(t);var l=fl(n,!0);si(l,t)||(i=a+i),l=fl(n,!1),si(l,t)||(i+=a)}}return e.replace(r,i)}function fl(n,e){let t=e?n.getPreviousSibling():n.getNextSibling();for(t||(n=n.getParentOrThrow(),n.isInline()&&(t=e?n.getPreviousSibling():n.getNextSibling()));t;){if(B.$isElementNode(t)){if(!t.isInline())break;if(n=e?t.getLastDescendant():t.getFirstDescendant(),B.$isTextNode(n))return n;t=e?t.getPreviousSibling():t.getNextSibling()}if(B.$isTextNode(t))return t;if(!B.$isElementNode(t))break}return null}function si(n,e){return B.$isTextNode(n)&&n.hasFormat(e)}let dn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Td=dn&&"documentMode"in document?document.documentMode:null;dn&&"InputEvent"in window&&!Td&&"getTargetRanges"in new window.InputEvent("input");let hl=dn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),pl=dn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,vd=dn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),_l=dn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!vd,Cd=/^\s{0,3}$/,ml=/^```(\w{1,10})?\s?$/;function Sd(n){let e=ao(n),t=$d(e.textFormat);return(r,i)=>{r=r.split(`
`);var o=r.length;i=i||B.$getRoot(),i.clear();for(let h=0;h<o;h++){var l=r[h];e:{var s=r,a=h,c=i,f=s[a].match(ml);if(f){for(var d=a,u=s.length;++d<u;)if(s[d].match(ml)){f=xn.$createCodeNode(f[1]),s=B.$createTextNode(s.slice(a+1,d).join(`
`)),f.append(s),c.append(f),c=[f,d];break e}}c=[null,a]}let[p,E]=c;if(p!=null)h=E;else{c=l,u=i;var g=e.element;d=t,s=e.textMatch,a=c.trim(),f=B.$createTextNode(a),l=B.$createParagraphNode(),l.append(f),u.append(l);for(let{regExp:C,replace:m}of g)if(u=c.match(C)){f.setTextContent(c.slice(u[0].length)),m(l,[f],u,!0);break}ur(f,d,s),l.isAttached()&&0<a.length&&(c=l.getPreviousSibling(),B.$isParagraphNode(c)||dt.$isQuoteNode(c)||de.$isListNode(c))&&(d=c,de.$isListNode(c)&&(c=c.getLastDescendant(),d=c==null?null:yd.$findMatchingParent(c,de.$isListItemNode)),d!=null&&0<d.getTextContentSize()&&(d.splice(d.getChildrenSize(),0,[B.$createLineBreakNode(),...l.getChildren()]),l.remove()))}}r=i.getChildren();for(let h of r)r=h,B.$isParagraphNode(r)?(o=r.getFirstChild(),r=o==null||r.getChildrenSize()===1&&B.$isTextNode(o)&&Cd.test(o.getTextContent())):r=!1,r&&h.remove();B.$getSelection()!==null&&i.selectEnd()}}function ur(n,e,t){var r=n.getTextContent();let i=xd(r,e);if(i){var o,l;if(i[0]===r)var s=n;else{r=i.index||0;let a=r+i[0].length;r===0?[s,o]=n.splitText(a):[l,s,o]=n.splitText(r,a)}if(s.setTextContent(i[2]),n=e.transformersByTag[i[1]])for(let a of n.format)s.hasFormat(a)||s.toggleFormat(a);s.hasFormat("code")||ur(s,e,t),l&&ur(l,e,t),o&&ur(o,e,t)}else ca(n,t)}function ca(n,e){e:for(;n;){for(let t of e){let r=n.getTextContent().match(t.importRegExp);if(!r)continue;let i=r.index||0,o=i+r[0].length,l,s,a;i===0?[l,n]=n.splitText(o):[s,l,a]=n.splitText(i,o),s&&ca(s,e),a&&(n=a),t.replace(l,r);continue e}break}}function xd(n,e){var t=n.match(e.openTagsRegExp);if(t==null)return null;for(let o of t){var r=o.replace(/^\s/,"");if(t=e.fullMatchRegExpByTag[r],t!=null&&(t=n.match(t),r=e.transformersByTag[r],t!=null&&r!=null)){if(r.intraword!==!1)return t;var{index:i=0}=t;if(r=n[i-1],i=n[i+t[0].length],!(r&&!Ar.test(r)||i&&!Ar.test(i)))return t}}return null}function $d(n){let e={},t={},r=[];for(let i of n){({tag:n}=i),e[n]=i;let o=n.replace(/(\*|\^|\+)/g,"\\$1");r.push(o),t[n]=hl||pl||_l?new RegExp(`(${o})(?![${o}\\s])(.*?[^${o}\\s])${o}(?!${o})`):new RegExp(`(?<![\\\\${o}])(${o})((\\\\${o})?.*?[^${o}\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?![\\\\${o}])`)}return{fullMatchRegExpByTag:t,openTagsRegExp:new RegExp((hl||pl||_l?"":"(?<![\\\\])")+"("+r.join("|")+")","g"),transformersByTag:e}}function yl(n,e,t){let r=t.length;for(;e>=r;e--){let i=e-r;if(ga(n,i,t,0,r)&&n[i+r]!==" ")return i}return-1}function ga(n,e,t,r,i){for(let o=0;o<i;o++)if(n[e+o]!==t[r+o])return!1;return!0}let fa=n=>(e,t,r)=>{r=n(r),r.append(...t),e.replace(r),r.select(0,0)},uo=n=>(e,t,r)=>{var i=e.getPreviousSibling();const o=de.$createListItemNode(n==="check"?r[3]==="x":void 0);de.$isListNode(i)&&i.getListType()===n?(i.append(o),e.remove()):(i=de.$createListNode(n,n==="number"?Number(r[2]):void 0),i.append(o),e.replace(i)),o.append(...t),o.select(0,0),(e=Math.floor(r[1].length/4))&&o.setIndent(e)},Wr=(n,e,t)=>{const r=[];var i=n.getChildren();let o=0;for(const s of i)if(de.$isListItemNode(s)){if(s.getChildrenSize()===1&&(i=s.getFirstChild(),de.$isListNode(i))){r.push(Wr(i,e,t+1));continue}i=" ".repeat(4*t);var l=n.getListType();l=l==="number"?`${n.getStart()+o}. `:l==="check"?`- [${s.getChecked()?"x":" "}] `:"- ",r.push(i+l+e(s)),o++}return r.join(`
`)},ha={dependencies:[dt.HeadingNode],export:(n,e)=>{if(!dt.$isHeadingNode(n))return null;const t=Number(n.getTag().slice(1));return"#".repeat(t)+" "+e(n)},regExp:/^(#{1,6})\s/,replace:fa(n=>dt.$createHeadingNode("h"+n[1].length)),type:"element"},pa={dependencies:[dt.QuoteNode],export:(n,e)=>{if(!dt.$isQuoteNode(n))return null;n=e(n).split(`
`),e=[];for(const t of n)e.push("> "+t);return e.join(`
`)},regExp:/^>\s/,replace:(n,e,t,r)=>{if(r&&(t=n.getPreviousSibling(),dt.$isQuoteNode(t))){t.splice(t.getChildrenSize(),0,[B.$createLineBreakNode(),...e]),t.select(0,0),n.remove();return}t=dt.$createQuoteNode(),t.append(...e),n.replace(t),t.select(0,0)},type:"element"},_a={dependencies:[xn.CodeNode],export:n=>{if(!xn.$isCodeNode(n))return null;const e=n.getTextContent();return"```"+(n.getLanguage()||"")+(e?`
`+e:"")+"\n```"},regExp:/^```(\w{1,10})?\s/,replace:fa(n=>xn.$createCodeNode(n?n[1]:void 0)),type:"element"},ma={dependencies:[de.ListNode,de.ListItemNode],export:(n,e)=>de.$isListNode(n)?Wr(n,e,0):null,regExp:/^(\s*)[-*+]\s/,replace:uo("bullet"),type:"element"},Ad={dependencies:[de.ListNode,de.ListItemNode],export:(n,e)=>de.$isListNode(n)?Wr(n,e,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:uo("check"),type:"element"},ya={dependencies:[de.ListNode,de.ListItemNode],export:(n,e)=>de.$isListNode(n)?Wr(n,e,0):null,regExp:/^(\s*)(\d{1,})\.\s/,replace:uo("number"),type:"element"},Na={format:["code"],tag:"`",type:"text-format"},Ea={format:["highlight"],tag:"==",type:"text-format"},Ta={format:["bold","italic"],tag:"***",type:"text-format"},va={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},Ca={format:["bold"],tag:"**",type:"text-format"},Sa={format:["bold"],intraword:!1,tag:"__",type:"text-format"},xa={format:["strikethrough"],tag:"~~",type:"text-format"},$a={format:["italic"],tag:"*",type:"text-format"},Aa={format:["italic"],intraword:!1,tag:"_",type:"text-format"},wa={dependencies:[li.LinkNode],export:(n,e,t)=>{if(!li.$isLinkNode(n))return null;e=(e=n.getTitle())?`[${n.getTextContent()}](${n.getURL()} "${e}")`:`[${n.getTextContent()}](${n.getURL()})`;const r=n.getFirstChild();return n.getChildrenSize()===1&&B.$isTextNode(r)?t(r,e):e},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(n,e)=>{const[,t,r,i]=e;e=li.$createLinkNode(r,{title:i});const o=B.$createTextNode(t);o.setFormat(n.getFormat()),e.append(o),n.replace(e)},trigger:")",type:"text-match"},Oa=[ha,pa,_a,ma,ya],Ra=[Na,Ta,va,Ca,Sa,Ea,$a,Aa,xa],Da=[wa],Hr=[...Oa,...Ra,...Da];Y.$convertFromMarkdownString=function(n,e=Hr,t){return Sd(e)(n,t)};Y.$convertToMarkdownString=function(n=Hr,e){return Nd(n)(e)};Y.BOLD_ITALIC_STAR=Ta;Y.BOLD_ITALIC_UNDERSCORE=va;Y.BOLD_STAR=Ca;Y.BOLD_UNDERSCORE=Sa;Y.CHECK_LIST=Ad;Y.CODE=_a;Y.ELEMENT_TRANSFORMERS=Oa;Y.HEADING=ha;Y.HIGHLIGHT=Ea;Y.INLINE_CODE=Na;Y.ITALIC_STAR=$a;Y.ITALIC_UNDERSCORE=Aa;Y.LINK=wa;Y.ORDERED_LIST=ya;Y.QUOTE=pa;Y.STRIKETHROUGH=xa;Y.TEXT_FORMAT_TRANSFORMERS=Ra;Y.TEXT_MATCH_TRANSFORMERS=Da;Y.TRANSFORMERS=Hr;Y.UNORDERED_LIST=ma;Y.registerMarkdownShortcuts=function(n,e=Hr){let t=ao(e),r=Pi(t.textFormat,({tag:o})=>o[o.length-1]),i=Pi(t.textMatch,({trigger:o})=>o);for(let o of e)if(e=o.type,(e==="element"||e==="text-match")&&!n.hasNodes(o.dependencies))throw Error("Minified Lexical error #79; visit https://lexical.dev/docs/error?code=79 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return n.registerUpdateListener(({tags:o,dirtyLeaves:l,editorState:s,prevEditorState:a})=>{if(!o.has("historic")){var c=s.read(B.$getSelection);if(o=a.read(B.$getSelection),B.$isRangeSelection(o)&&B.$isRangeSelection(c)&&c.isCollapsed()){a=c.anchor.key;var f=c.anchor.offset,d=s._nodeMap.get(a);B.$isTextNode(d)&&l.has(a)&&(f===1||f===o.anchor.offset+1)&&n.update(()=>{if(!d.hasFormat("code")){var u=d.getParent();if(u!==null&&!xn.$isCodeNode(u)){var g=c.anchor.offset;e:{var h=t.element,p=u.getParent();if(B.$isRootOrShadowRoot(p)&&u.getFirstChild()===d&&(p=d.getTextContent(),p[g-1]===" ")){for(let{regExp:x,replace:$}of h)if((h=p.match(x))&&h[0].length===g){p=d.getNextSiblings();let[R,L]=d.splitText(g);R.remove(),p=L?[L,...p]:p,$(u,p,h,!1),u=!0;break e}}u=!1}if(!u){e:{if(h=d.getTextContent(),u=i[h[g-1]],u!=null){g<h.length&&(h=h.slice(0,g));for(C of u)if(u=h.match(C.regExp),u!==null){h=u.index||0,p=h+u[0].length;var E=void 0;h===0?[E]=d.splitText(p):[,E]=d.splitText(h,p),E.selectNext(0,0),C.replace(E,u);var C=!0;break e}}C=!1}if(!C)e:{p=d.getTextContent(),--g;var m=p[g];if(C=r[m])for(let x of C){var{tag:N}=x;C=N.length;let $=g-C+1;if(!(1<C&&!ga(p,$,N,0,C)||p[$-1]===" ")&&(E=p[g+1],x.intraword!==!1||!E||Ar.test(E))){u=E=d,h=yl(p,$,N);for(var v=u;0>h&&(v=v.getPreviousSibling())&&!B.$isLineBreakNode(v);)B.$isTextNode(v)&&(h=v.getTextContent(),u=v,h=yl(h,h.length,N));if(!(0>h||u===E&&h+C===$||(N=u.getTextContent(),0<h&&N[h-1]===m||(v=N[h-1],x.intraword===!1&&v&&!Ar.test(v))))){p=E.getTextContent(),p=p.slice(0,$)+p.slice(g+1),E.setTextContent(p),p=u===E?p:N,u.setTextContent(p.slice(0,h)+p.slice(h+C)),p=B.$getSelection(),m=B.$createRangeSelection(),B.$setSelection(m),g=g-C*(u===E?2:1)+1,m.anchor.set(u.__key,h,"text"),m.focus.set(E.__key,g,"text");for(let R of x.format)m.hasFormat(R)||m.formatText(R);m.anchor.set(m.focus.key,m.focus.offset,m.focus.type);for(let R of x.format)m.hasFormat(R)&&m.toggleFormat(R);B.$isRangeSelection(p)&&(m.format=p.format);break e}}}}}}}})}}})};const wd=Y;var zd=wd,z={},_=Ae,X=ht;let G={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class Un extends _.DEPRECATED_GridCellNode{static getType(){return"tablecell"}static clone(e){let t=new Un(e.__headerState,e.__colSpan,e.__width,e.__key);return t.__rowSpan=e.__rowSpan,t.__backgroundColor=e.__backgroundColor,t}static importDOM(){return{td:()=>({conversion:Nl,priority:0}),th:()=>({conversion:Nl,priority:0})}}static importJSON(e){let t=ke(e.headerState,e.colSpan,e.width||void 0);return t.__rowSpan=e.rowSpan,t.__backgroundColor=e.backgroundColor||null,t}constructor(e=G.NO_STATUS,t=1,r,i){super(t,i),this.__headerState=e,this.__width=r,this.__backgroundColor=null}createDOM(e){let t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),1<this.__colSpan&&(t.colSpan=this.__colSpan),1<this.__rowSpan&&(t.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(t.style.backgroundColor=this.__backgroundColor),X.addClassNamesToElement(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){if({element:e}=super.exportDOM(e),e){var t=this.getParentOrThrow().getChildrenSize();e.style.border="1px solid black",1<this.__colSpan&&(e.colSpan=this.__colSpan),1<this.__rowSpan&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||Math.max(90,700/t)}px`,e.style.verticalAlign="top",e.style.textAlign="start",t=this.getBackgroundColor(),t!==null?e.style.backgroundColor=t:this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return{element:e}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),headerState:this.__headerState,type:"tablecell",width:this.getWidth()}}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){return this.getWritable().__headerState=e,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){return this.getWritable().__width=e,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){this.getWritable().__backgroundColor=e}toggleHeaderStyle(e){let t=this.getWritable();return t.__headerState=(t.__headerState&e)===e?t.__headerState-e:t.__headerState+e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==G.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function Nl(n){var e=n.nodeName.toLowerCase();return e=ke(e==="th"?G.ROW:G.NO_STATUS),e.__colSpan=n.colSpan,e.__rowSpan=n.rowSpan,n=n.style.backgroundColor,n!==""&&(e.__backgroundColor=n),{forChild:(t,r)=>F(r)&&!_.$isElementNode(t)?(r=_.$createParagraphNode(),_.$isLineBreakNode(t)&&t.getTextContent()===`
`?null:(r.append(t),r)):t,node:e}}function ke(n,e=1,t){return _.$applyNodeReplacement(new Un(n,e,t))}function F(n){return n instanceof Un}class Gn extends _.DEPRECATED_GridRowNode{static getType(){return"tablerow"}static clone(e){return new Gn(e.__height,e.__key)}static importDOM(){return{tr:()=>({conversion:Od,priority:0})}}static importJSON(e){return Pt(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){return{...super.exportJSON(),type:"tablerow",version:1}}createDOM(e){let t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),X.addClassNamesToElement(t,e.theme.tableRow),t}isShadowRoot(){return!0}setHeight(e){return this.getWritable().__height=e,this.__height}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function Od(){return{node:Pt()}}function Pt(n){return _.$applyNodeReplacement(new Gn(n))}function kt(n){return n instanceof Gn}function ce(n){throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?code=${n} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let Rd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";class Ma{constructor(e,t){this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.grid={cells:[],columns:0,rows:0},this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.trackTableGrid()}getGrid(){return this.grid}removeListeners(){Array.from(this.listenersToRemove).forEach(e=>e())}trackTableGrid(){let e=new MutationObserver(t=>{this.editor.update(()=>{var r=!1;for(let i=0;i<t.length;i++){const o=t[i].target.nodeName;if(o==="TABLE"||o==="TR"){r=!0;break}}if(r){if(r=this.editor.getElementByKey(this.tableNodeKey),!r)throw Error("Expected to find TableElement in DOM");this.grid=cr(r)}})});this.editor.update(()=>{let t=this.editor.getElementByKey(this.tableNodeKey);if(!t)throw Error("Expected to find TableElement in DOM");this.grid=cr(t),e.observe(t,{childList:!0,subtree:!0})})}clearHighlight(){let e=this.editor;this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.enableHighlightStyle(),e.update(()=>{var t=_.$getNodeByKey(this.tableNodeKey);if(!qt(t))throw Error("Expected TableNode.");if(t=e.getElementByKey(this.tableNodeKey),!t)throw Error("Expected to find TableElement in DOM");t=cr(t),nr(e,t,null),_.$setSelection(null),e.dispatchCommand(_.SELECTION_CHANGE_COMMAND,void 0)})}enableHighlightStyle(){let e=this.editor;e.update(()=>{let t=e.getElementByKey(this.tableNodeKey);if(!t)throw Error("Expected to find TableElement in DOM");t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1})}disableHighlightStyle(){let e=this.editor;e.update(()=>{let t=e.getElementByKey(this.tableNodeKey);if(!t)throw Error("Expected to find TableElement in DOM");t.classList.add("disable-selection"),this.hasHijackedSelectionStyles=!0})}updateTableGridSelection(e){if(e!=null&&e.gridKey===this.tableNodeKey){let t=this.editor;this.gridSelection=e,this.isHighlightingCells=!0,this.disableHighlightStyle(),nr(t,this.grid,this.gridSelection)}else e==null&&this.clearHighlight()}setFocusCellForSelection(e,t=!1){let r=this.editor;r.update(()=>{var i=_.$getNodeByKey(this.tableNodeKey);if(!qt(i))throw Error("Expected TableNode.");if(!r.getElementByKey(this.tableNodeKey))throw Error("Expected to find TableElement in DOM");i=e.x;let o=e.y;if(this.focusCell=e,this.anchorCell!==null){let l=Rd?(r._window||window).getSelection():null;l&&l.setBaseAndExtent(this.anchorCell.elem,0,this.focusCell.elem,0)}if(!this.isHighlightingCells&&(this.anchorX!==i||this.anchorY!==o||t))this.isHighlightingCells=!0,this.disableHighlightStyle();else if(i===this.focusX&&o===this.focusY)return;this.focusX=i,this.focusY=o,this.isHighlightingCells&&(i=_.$getNearestNodeFromDOMNode(e.elem),this.gridSelection!=null&&this.anchorCellNodeKey!=null&&F(i)&&(i=i.getKey(),this.gridSelection=this.gridSelection.clone()||_.DEPRECATED_$createGridSelection(),this.focusCellNodeKey=i,this.gridSelection.set(this.tableNodeKey,this.anchorCellNodeKey,this.focusCellNodeKey),_.$setSelection(this.gridSelection),r.dispatchCommand(_.SELECTION_CHANGE_COMMAND,void 0),nr(r,this.grid,this.gridSelection)))})}setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y,this.editor.update(()=>{var t=_.$getNearestNodeFromDOMNode(e.elem);F(t)&&(t=t.getKey(),this.gridSelection=_.DEPRECATED_$createGridSelection(),this.anchorCellNodeKey=t)})}formatCells(e){this.editor.update(()=>{let t=_.$getSelection();_.DEPRECATED_$isGridSelection(t)||ce(11);let r=_.$createRangeSelection(),i=r.anchor,o=r.focus;t.getNodes().forEach(l=>{F(l)&&l.getTextContentSize()!==0&&(i.set(l.getKey(),0,"element"),o.set(l.getKey(),l.getChildrenSize(),"element"),r.formatText(e))}),_.$setSelection(t),this.editor.dispatchCommand(_.SELECTION_CHANGE_COMMAND,void 0)})}clearText(){let e=this.editor;e.update(()=>{let t=_.$getNodeByKey(this.tableNodeKey);if(!qt(t))throw Error("Expected TableNode.");var r=_.$getSelection();_.DEPRECATED_$isGridSelection(r)||ce(11),r=r.getNodes().filter(F),r.length===this.grid.columns*this.grid.rows?(t.selectPrevious(),t.remove(),_.$getRoot().selectStart()):(r.forEach(i=>{if(_.$isElementNode(i)){let o=_.$createParagraphNode(),l=_.$createTextNode();o.append(l),i.append(o),i.getChildren().forEach(s=>{s!==o&&s.remove()})}}),nr(e,this.grid,null),_.$setSelection(null),e.dispatchCommand(_.SELECTION_CHANGE_COMMAND,void 0))})}}function dr(n){for(;n!=null;){let e=n.nodeName;if(e==="TD"||e==="TH"){if(n=n._cell,n===void 0)break;return n}n=n.parentNode}return null}function cr(n){let e=[],t={cells:e,columns:0,rows:0};var r=n.firstChild;let i=n=0;for(e.length=0;r!=null;){var o=r.nodeName;if(o==="TD"||o==="TH")o=r,o={elem:o,hasBackgroundColor:o.style.backgroundColor!=="",highlighted:!1,x:n,y:i},r._cell=o,e[i]===void 0&&(e[i]=[]),e[i][n]=o;else if(o=r.firstChild,o!=null){r=o;continue}if(o=r.nextSibling,o!=null)n++,r=o;else if(o=r.parentNode,o!=null){if(r=o.nextSibling,r==null)break;i++,n=0}}return t.columns=n+1,t.rows=i+1,t}function nr(n,e,t){let r=[],i=new Set(t?t.getNodes():[]);return co(e,(o,l)=>{let s=o.elem;i.has(l)?(o.highlighted=!0,Pa(n,o),r.push(o)):(o.highlighted=!1,ka(n,o),s.getAttribute("style")||s.removeAttribute("style"))}),r}function co(n,e){({cells:n}=n);for(let t=0;t<n.length;t++){let r=n[t];for(let i=0;i<r.length;i++){let o=r[i],l=_.$getNearestNodeFromDOMNode(o.elem);l!==null&&e(o,l,{x:i,y:t})}}}function El(n,e){e.disableHighlightStyle(),co(e.grid,t=>{t.highlighted=!0,Pa(n,t)})}function Dd(n,e){e.enableHighlightStyle(),co(e.grid,t=>{let r=t.elem;t.highlighted=!1,ka(n,t),r.getAttribute("style")||r.removeAttribute("style")})}let pn=(n,e,t,r,i)=>{const o=i==="forward";switch(i){case"backward":case"forward":return t!==(o?n.grid.columns-1:0)?rr(e.getCellNodeFromCordsOrThrow(t+(o?1:-1),r,n.grid)):r!==(o?n.grid.rows-1:0)?rr(e.getCellNodeFromCordsOrThrow(o?0:n.grid.columns-1,r+(o?1:-1),n.grid)):o?e.selectNext():e.selectPrevious(),!0;case"up":return r!==0?rr(e.getCellNodeFromCordsOrThrow(t,r-1,n.grid)):e.selectPrevious(),!0;case"down":return r!==n.grid.rows-1?rr(e.getCellNodeFromCordsOrThrow(t,r+1,n.grid)):e.selectNext(),!0;default:return!1}},lt=(n,e,t,r,i)=>{const o=i==="forward";switch(i){case"backward":case"forward":return t!==(o?n.grid.columns-1:0)&&n.setFocusCellForSelection(e.getCellFromCordsOrThrow(t+(o?1:-1),r,n.grid)),!0;case"up":return r!==0?(n.setFocusCellForSelection(e.getCellFromCordsOrThrow(t,r-1,n.grid)),!0):!1;case"down":return r!==n.grid.rows-1?(n.setFocusCellForSelection(e.getCellFromCordsOrThrow(t,r+1,n.grid)),!0):!1;default:return!1}};function Je(n,e){if(_.$isRangeSelection(n)||_.DEPRECATED_$isGridSelection(n)){let t=e.isParentOf(n.anchor.getNode());return n=e.isParentOf(n.focus.getNode()),t&&n}return!1}function rr(n){let e=n.getChildren().find(t=>_.$isParagraphNode(t));_.$isParagraphNode(e)?e.selectEnd():n.selectEnd()}function Pa(n,e){if(n=e.elem,e=_.$getNearestNodeFromDOMNode(n),!F(e))throw Error("Expected to find LexicalNode from Table Cell DOMNode");e.getBackgroundColor()===null?n.style.setProperty("background-color","rgb(172,206,247)"):n.style.setProperty("background-image","linear-gradient(to right, rgba(172,206,247,0.85), rgba(172,206,247,0.85))"),n.style.setProperty("caret-color","transparent")}function ka(n,e){if(n=e.elem,e=_.$getNearestNodeFromDOMNode(n),!F(e))throw Error("Expected to find LexicalNode from Table Cell DOMNode");e.getBackgroundColor()===null&&n.style.removeProperty("background-color"),n.style.removeProperty("background-image"),n.style.removeProperty("caret-color")}class Yn extends _.DEPRECATED_GridNode{static getType(){return"table"}static clone(e){return new Yn(e.__key)}static importDOM(){return{table:()=>({conversion:Md,priority:1})}}static importJSON(){return Ur()}constructor(e){super(e)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(e){let t=document.createElement("table");return X.addClassNamesToElement(t,e.theme.table),t}updateDOM(){return!1}exportDOM(e){return{...super.exportDOM(e),after:t=>{if(t){let r=t.cloneNode(),i=document.createElement("colgroup"),o=document.createElement("tbody");if(o.append(...t.children),t=this.getFirstChildOrThrow(),!kt(t))throw Error("Expected to find row node.");t=t.getChildrenSize();for(let l=0;l<t;l++){let s=document.createElement("col");i.append(s)}return r.replaceChildren(i,o),r}}}}canExtractContents(){return!1}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){let{rows:r,cells:i}=t;for(t=0;t<r;t++){var o=i[t];if(o==null)throw Error(`Row not found at y:${t}`);if(o=o.findIndex(({elem:l})=>_.$getNearestNodeFromDOMNode(l)===e),o!==-1)return{x:o,y:t}}throw Error("Cell not found in table.")}getCellFromCords(e,t,r){return{cells:r}=r,t=r[t],t==null?null:(e=t[e],e??null)}getCellFromCordsOrThrow(e,t,r){if(e=this.getCellFromCords(e,t,r),!e)throw Error("Cell not found at cords.");return e}getCellNodeFromCords(e,t,r){return e=this.getCellFromCords(e,t,r),e==null?null:(e=_.$getNearestNodeFromDOMNode(e.elem),F(e)?e:null)}getCellNodeFromCordsOrThrow(e,t,r){if(e=this.getCellNodeFromCords(e,t,r),!e)throw Error("Node at cords not TableCellNode.");return e}canSelectBefore(){return!0}canIndent(){return!1}}function Md(){return{node:Ur()}}function Ur(){return _.$applyNodeReplacement(new Yn)}function qt(n){return n instanceof Yn}function go(n){if(n=X.$findMatchingParent(n,e=>kt(e)),kt(n))return n;throw Error("Expected table cell to be inside of table row.")}function fo(n){if(n=X.$findMatchingParent(n,e=>qt(e)),qt(n))return n;throw Error("Expected table cell to be inside of table.")}function Ia(n,e){let t=fo(n),{x:r,y:i}=t.getCordsFromCellNode(n,e);return{above:t.getCellNodeFromCords(r,i-1,e),below:t.getCellNodeFromCords(r,i+1,e),left:t.getCellNodeFromCords(r-1,i,e),right:t.getCellNodeFromCords(r+1,i,e)}}function bn(n){n=n.getFirstDescendant(),n===null&&ce(124),n.getParentOrThrow().selectStart()}function ho(n,e){let t=n.getFirstChild();t!==null?t.insertBefore(e):n.append(e)}let Pd=_.createCommand("INSERT_TABLE_COMMAND");z.$createTableCellNode=ke;z.$createTableNode=Ur;z.$createTableNodeWithDimensions=function(n,e,t=!0){let r=Ur();for(let o=0;o<n;o++){let l=Pt();for(let s=0;s<e;s++){var i=G.NO_STATUS;typeof t=="object"?(o===0&&t.rows&&(i|=G.ROW),s===0&&t.columns&&(i|=G.COLUMN)):t&&(o===0&&(i|=G.ROW),s===0&&(i|=G.COLUMN)),i=ke(i);let a=_.$createParagraphNode();a.append(_.$createTextNode()),i.append(a),l.append(i)}r.append(l)}return r};z.$createTableRowNode=Pt;z.$deleteTableColumn=function(n,e){let t=n.getChildren();for(let i=0;i<t.length;i++){var r=t[i];if(kt(r)){if(r=r.getChildren(),e>=r.length||0>e)throw Error("Table column target index out of range");r[e].remove()}}return n};z.$deleteTableColumn__EXPERIMENTAL=function(){var n=_.$getSelection();_.$isRangeSelection(n)||_.DEPRECATED_$isGridSelection(n)||ce(118);var e=n.anchor.getNode();n=n.focus.getNode();let[t,,r]=_.DEPRECATED_$getNodeTriplet(e);[e]=_.DEPRECATED_$getNodeTriplet(n);let[i,o,l]=_.DEPRECATED_$computeGridMap(r,t,e);var{startColumn:s}=o;let{startRow:a,startColumn:c}=l;n=Math.min(s,c),s=Math.max(s+t.__colSpan-1,c+e.__colSpan-1);let f=s-n+1;if(i[0].length===s-n+1)r.selectPrevious(),r.remove();else{var d=i.length;for(let u=0;u<d;u++)for(let g=n;g<=s;g++){let{cell:h,startColumn:p}=i[u][g];p<n?g===n&&h.setColSpan(h.__colSpan-Math.min(f,h.__colSpan-(n-p))):p+h.__colSpan-1>s?g===s&&h.setColSpan(h.__colSpan-(s-p+1)):h.remove()}n=i[a],e=n[c+e.__colSpan],e!==void 0?({cell:e}=e,bn(e)):({cell:e}=n[c-1],bn(e))}};z.$deleteTableRow__EXPERIMENTAL=function(){var n=_.$getSelection();_.$isRangeSelection(n)||_.DEPRECATED_$isGridSelection(n)||ce(118);var e=n.anchor.getNode();n=n.focus.getNode();let[t,,r]=_.DEPRECATED_$getNodeTriplet(e);[n]=_.DEPRECATED_$getNodeTriplet(n);let[i,o,l]=_.DEPRECATED_$computeGridMap(r,t,n);({startRow:e}=o);var{startRow:s}=l;if(n=s+n.__rowSpan-1,i.length===n-e+1)r.remove();else{s=i[0].length;var a=i[n+1],c=r.getChildAtIndex(n+1);for(let d=n;d>=e;d--){for(var f=s-1;0<=f;f--){let{cell:u,startRow:g,startColumn:h}=i[d][f];if(h===f&&(d===e&&g<e&&u.setRowSpan(u.__rowSpan-(g-e)),g>=e&&g+u.__rowSpan-1>n))if(u.setRowSpan(u.__rowSpan-(n-g+1)),c===null&&ce(122),f===0)ho(c,u);else{let{cell:p}=a[f-1];p.insertAfter(u)}}f=r.getChildAtIndex(d),_.DEPRECATED_$isGridRowNode(f)||ce(123),f.remove()}a!==void 0?({cell:e}=a[0],bn(e)):({cell:e}=i[e-1][0],bn(e))}};z.$getElementGridForTableNode=function(n,e){if(n=n.getElementByKey(e.getKey()),n==null)throw Error("Table Element Not Found");return cr(n)};z.$getTableCellNodeFromLexicalNode=function(n){return n=X.$findMatchingParent(n,e=>F(e)),F(n)?n:null};z.$getTableColumnIndexFromTableCellNode=function(n){return go(n).getChildren().findIndex(e=>e.is(n))};z.$getTableNodeFromLexicalNodeOrThrow=fo;z.$getTableRowIndexFromTableCellNode=function(n){let e=go(n);return fo(e).getChildren().findIndex(t=>t.is(e))};z.$getTableRowNodeFromTableCellNodeOrThrow=go;z.$insertTableColumn=function(n,e,t=!0,r,i){let o=n.getChildren();for(let a=0;a<o.length;a++){let c=o[a];if(kt(c))for(let f=0;f<r;f++){var l=c.getChildren();if(e>=l.length||0>e)throw Error("Table column target index out of range");l=l[e],F(l)||ce(12);let{left:d,right:u}=Ia(l,i);var s=G.NO_STATUS;(d&&d.hasHeaderState(G.ROW)||u&&u.hasHeaderState(G.ROW))&&(s|=G.ROW),s=ke(s),s.append(_.$createParagraphNode()),t?l.insertAfter(s):l.insertBefore(s)}}return n};z.$insertTableColumn__EXPERIMENTAL=function(n=!0){function e(){let f=ke(G.NO_STATUS).append(_.$createParagraphNode());return a===null&&(a=f),f}var t=_.$getSelection();_.$isRangeSelection(t)||_.DEPRECATED_$isGridSelection(t)||ce(118),t=t.focus.getNode();let[r,,i]=_.DEPRECATED_$getNodeTriplet(t),[o,l]=_.DEPRECATED_$computeGridMap(i,r,r);t=o.length;var{startColumn:s}=l;n=n?s+r.__colSpan-1:s-1,s=i.getFirstChild(),_.DEPRECATED_$isGridRowNode(s)||ce(120);let a=null;var c=s;e:for(s=0;s<t;s++){s!==0&&(c=c.getNextSibling(),_.DEPRECATED_$isGridRowNode(c)||ce(121));let f=o[s];if(0>n){ho(c,e());continue}let{cell:d,startColumn:u,startRow:g}=f[n];if(u+d.__colSpan-1<=n){let h=d,p=g,E=n;for(;p!==s&&1<h.__rowSpan;)if(E-=d.__colSpan,0<=E){let{cell:C,startRow:m}=f[E];h=C,p=m}else{c.append(e());continue e}h.insertAfter(e())}else d.setColSpan(d.__colSpan+1)}a!==null&&bn(a)};z.$insertTableRow=function(n,e,t=!0,r,i){var o=n.getChildren();if(e>=o.length||0>e)throw Error("Table row target index out of range");if(e=o[e],kt(e))for(o=0;o<r;o++){let s=e.getChildren(),a=s.length,c=Pt();for(let f=0;f<a;f++){var l=s[f];F(l)||ce(12);let{above:d,below:u}=Ia(l,i);l=G.NO_STATUS;let g=d&&d.getWidth()||u&&u.getWidth()||void 0;(d&&d.hasHeaderState(G.COLUMN)||u&&u.hasHeaderState(G.COLUMN))&&(l|=G.COLUMN),l=ke(l,1,g),l.append(_.$createParagraphNode()),c.append(l)}t?e.insertAfter(c):e.insertBefore(c)}else throw Error("Row before insertion index does not exist.");return n};z.$insertTableRow__EXPERIMENTAL=function(n=!0){var e=_.$getSelection();_.$isRangeSelection(e)||_.DEPRECATED_$isGridSelection(e)||ce(118),e=e.focus.getNode();let[t,,r]=_.DEPRECATED_$getNodeTriplet(e),[i,o]=_.DEPRECATED_$computeGridMap(r,t,t);e=i[0].length;var{startRow:l}=o;if(n){n=l+t.__rowSpan-1;var s=i[n];l=Pt();for(var a=0;a<e;a++){let{cell:c,startRow:f}=s[a];f+c.__rowSpan-1<=n?l.append(ke(G.NO_STATUS)):c.setRowSpan(c.__rowSpan+1)}e=r.getChildAtIndex(n),_.DEPRECATED_$isGridRowNode(e)||ce(119),e.insertAfter(l)}else{for(s=i[l],n=Pt(),a=0;a<e;a++){let{cell:c,startRow:f}=s[a];f===l?n.append(ke(G.NO_STATUS)):c.setRowSpan(c.__rowSpan+1)}e=r.getChildAtIndex(l),_.DEPRECATED_$isGridRowNode(e)||ce(119),e.insertBefore(n)}};z.$isTableCellNode=F;z.$isTableNode=qt;z.$isTableRowNode=kt;z.$removeTableRowAtIndex=function(n,e){let t=n.getChildren();if(e>=t.length||0>e)throw Error("Expected table cell to be inside of table row.");return t[e].remove(),n};z.$unmergeCell=function(){var n=_.$getSelection();_.$isRangeSelection(n)||_.DEPRECATED_$isGridSelection(n)||ce(118),n=n.anchor.getNode();let[e,t,r]=_.DEPRECATED_$getNodeTriplet(n);n=e.__colSpan;let i=e.__rowSpan;if(1<n){for(var o=1;o<n;o++)e.insertAfter(ke(G.NO_STATUS));e.setColSpan(1)}if(1<i){let[a,c]=_.DEPRECATED_$computeGridMap(r,e,e),{startColumn:f,startRow:d}=c;for(o=1;o<i;o++){let u=d+o,g=a[u];var l=t.getNextSibling();_.DEPRECATED_$isGridRowNode(l)||ce(125);var s=null;for(let h=0;h<f;h++){let p=g[h],E=p.cell;p.startRow===u&&(s=E),1<E.__colSpan&&(h+=E.__colSpan-1)}if(s===null)for(s=0;s<n;s++)ho(l,ke(G.NO_STATUS));else for(l=0;l<n;l++)s.insertAfter(ke(G.NO_STATUS))}e.setRowSpan(1)}};z.INSERT_TABLE_COMMAND=Pd;z.TableCellHeaderStates=G;z.TableCellNode=Un;z.TableNode=Yn;z.TableRowNode=Gn;z.TableSelection=Ma;z.applyTableHandlers=function(n,e,t){let r=t.getRootElement();if(r===null)throw Error("No root element.");let i=new Ma(t,n.getKey());e.__lexicalTableSelection=i;let o=!1,l=!1;e.addEventListener("dblclick",d=>{let u=dr(d.target);u!==null&&(d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),i.setAnchorCellForSelection(u),i.setFocusCellForSelection(u,!0),o=!1)}),e.addEventListener("mousedown",d=>{setTimeout(()=>{if(d.button===0){var u=dr(d.target);u!==null&&(d.preventDefault(),d.stopPropagation(),d.stopImmediatePropagation(),i.setAnchorCellForSelection(u))}},0)}),e.addEventListener("mousemove",d=>{if(l&&(d.preventDefault(),d.stopPropagation(),d.stopImmediatePropagation()),o){let u=dr(d.target);if(u!==null){let g=u.x,h=u.y;o&&(i.anchorX!==g||i.anchorY!==h||i.isHighlightingCells)&&(d.preventDefault(),i.setFocusCellForSelection(u))}}}),e.addEventListener("mouseleave",()=>{});let s=d=>{d.button===0&&t.update(()=>{var u=_.$getSelection();const g=d.target;if(g instanceof Node){if(_.DEPRECATED_$isGridSelection(u)&&u.gridKey===i.tableNodeKey&&r.contains(g))return i.clearHighlight();u=_.$getNearestNodeFromDOMNode(g),u!==null&&X.$findMatchingParent(u,_.DEPRECATED_$isGridNode)&&(o=!0)}})};window.addEventListener("mousedown",s),i.listenersToRemove.add(()=>window.removeEventListener("mousedown",s));let a=d=>{var u;(u=o)&&(u=d.target,u=u!==null&&u.nodeName==="SPAN",u=!u),u&&(d.preventDefault(),d.stopPropagation()),o=!1};window.addEventListener("mouseup",a),i.listenersToRemove.add(()=>window.removeEventListener("mouseup",a)),e.addEventListener("mouseup",a),i.listenersToRemove.add(()=>e.removeEventListener("mouseup",a)),i.listenersToRemove.add(t.registerCommand(_.KEY_ARROW_DOWN_COMMAND,d=>{var u=_.$getSelection();if(!Je(u,n))return!1;if(_.$isRangeSelection(u)){if(u.isCollapsed()){var g=X.$findMatchingParent(u.anchor.getNode(),p=>F(p));if(!F(g))return!1;var h=n.getCordsFromCellNode(g,i.grid);if(u=X.$findMatchingParent(u.anchor.getNode(),p=>_.$isElementNode(p)),u==null)throw Error("Expected BlockNode Parent");if((g=g.getLastChild())&&u.isParentOf(g)||u===g||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(n.getCellFromCordsOrThrow(h.x,h.y,i.grid)),lt(i,n,h.x,h.y,"down")):pn(i,n,h.x,h.y,"down")}}else if(_.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return h=u.focus.getNode(),F(h)?(h=n.getCordsFromCellNode(h,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),lt(i,n,h.x,h.y,"down")):!1;return!1},_.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(t.registerCommand(_.KEY_ARROW_UP_COMMAND,d=>{var u=_.$getSelection();if(!Je(u,n))return!1;if(_.$isRangeSelection(u)){if(u.isCollapsed()){var g=X.$findMatchingParent(u.anchor.getNode(),p=>F(p));if(!F(g))return!1;var h=n.getCordsFromCellNode(g,i.grid);if(u=X.$findMatchingParent(u.anchor.getNode(),p=>_.$isElementNode(p)),u==null)throw Error("Expected BlockNode Parent");if((g=g.getLastChild())&&u.isParentOf(g)||u===g||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(n.getCellFromCordsOrThrow(h.x,h.y,i.grid)),lt(i,n,h.x,h.y,"up")):pn(i,n,h.x,h.y,"up")}}else if(_.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return h=u.focus.getNode(),F(h)?(h=n.getCordsFromCellNode(h,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),lt(i,n,h.x,h.y,"up")):!1;return!1},_.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(t.registerCommand(_.KEY_ARROW_LEFT_COMMAND,d=>{var u=_.$getSelection();if(!Je(u,n))return!1;if(_.$isRangeSelection(u)){if(u.isCollapsed()){var g=X.$findMatchingParent(u.anchor.getNode(),h=>F(h));if(!F(g))return!1;if(g=n.getCordsFromCellNode(g,i.grid),X.$findMatchingParent(u.anchor.getNode(),h=>_.$isElementNode(h))==null)throw Error("Expected BlockNode Parent");if(u.anchor.offset===0||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(n.getCellFromCordsOrThrow(g.x,g.y,i.grid)),lt(i,n,g.x,g.y,"backward")):pn(i,n,g.x,g.y,"backward")}}else if(_.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return u=u.focus.getNode(),F(u)?(u=n.getCordsFromCellNode(u,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),lt(i,n,u.x,u.y,"backward")):!1;return!1},_.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(t.registerCommand(_.KEY_ARROW_RIGHT_COMMAND,d=>{var u=_.$getSelection();if(!Je(u,n))return!1;if(_.$isRangeSelection(u)){if(u.isCollapsed()){var g=X.$findMatchingParent(u.anchor.getNode(),h=>F(h));if(!F(g))return!1;if(g=n.getCordsFromCellNode(g,i.grid),X.$findMatchingParent(u.anchor.getNode(),h=>_.$isElementNode(h))==null)throw Error("Expected BlockNode Parent");if(u.anchor.offset===u.anchor.getNode().getTextContentSize()||d.shiftKey)return d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),d.shiftKey?(i.setAnchorCellForSelection(n.getCellFromCordsOrThrow(g.x,g.y,i.grid)),lt(i,n,g.x,g.y,"forward")):pn(i,n,g.x,g.y,"forward")}}else if(_.DEPRECATED_$isGridSelection(u)&&d.shiftKey)return u=u.focus.getNode(),F(u)?(u=n.getCordsFromCellNode(u,i.grid),d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation(),lt(i,n,u.x,u.y,"forward")):!1;return!1},_.COMMAND_PRIORITY_HIGH));let c=d=>()=>{var u=_.$getSelection();if(!Je(u,n))return!1;if(_.DEPRECATED_$isGridSelection(u))return i.clearText(),!0;if(_.$isRangeSelection(u)){const p=X.$findMatchingParent(u.anchor.getNode(),E=>F(E));if(!F(p))return!1;var g=u.anchor.getNode(),h=u.focus.getNode();if(g=n.isParentOf(g),h=n.isParentOf(h),g&&!h||h&&!g)return i.clearText(),!0;if(g=(h=X.$findMatchingParent(u.anchor.getNode(),E=>_.$isElementNode(E)))&&X.$findMatchingParent(h,E=>_.$isElementNode(E)&&F(E.getParent())),!_.$isElementNode(g)||!_.$isElementNode(h))return!1;if(d===_.DELETE_LINE_COMMAND&&g.getPreviousSibling()===null)return!0;if((d===_.DELETE_CHARACTER_COMMAND||d===_.DELETE_WORD_COMMAND)&&u.isCollapsed()&&u.anchor.offset===0&&h!==g){u=h.getChildren();const E=_.$createParagraphNode();return u.forEach(C=>E.append(C)),h.replace(E),h.getWritable().__parent=p.getKey(),!0}}return!1};[_.DELETE_WORD_COMMAND,_.DELETE_LINE_COMMAND,_.DELETE_CHARACTER_COMMAND].forEach(d=>{i.listenersToRemove.add(t.registerCommand(d,c(d),_.COMMAND_PRIORITY_CRITICAL))});let f=d=>{const u=_.$getSelection();return Je(u,n)?_.DEPRECATED_$isGridSelection(u)?(d.preventDefault(),d.stopPropagation(),i.clearText(),!0):(_.$isRangeSelection(u)&&(d=X.$findMatchingParent(u.anchor.getNode(),g=>F(g)),F(d)),!1):!1};return i.listenersToRemove.add(t.registerCommand(_.KEY_BACKSPACE_COMMAND,f,_.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(t.registerCommand(_.KEY_DELETE_COMMAND,f,_.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(t.registerCommand(_.FORMAT_TEXT_COMMAND,d=>{let u=_.$getSelection();return Je(u,n)?_.DEPRECATED_$isGridSelection(u)?(i.formatCells(d),!0):(_.$isRangeSelection(u)&&(d=X.$findMatchingParent(u.anchor.getNode(),g=>F(g)),F(d)),!1):!1},_.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(t.registerCommand(_.CONTROLLED_TEXT_INSERTION_COMMAND,()=>{var d=_.$getSelection();return Je(d,n)&&(_.DEPRECATED_$isGridSelection(d)?i.clearHighlight():_.$isRangeSelection(d)&&(d=X.$findMatchingParent(d.anchor.getNode(),u=>F(u)),F(d))),!1},_.COMMAND_PRIORITY_CRITICAL)),i.listenersToRemove.add(t.registerCommand(_.KEY_TAB_COMMAND,d=>{var u=_.$getSelection();if(!Je(u,n))return!1;if(_.$isRangeSelection(u)){let g=X.$findMatchingParent(u.anchor.getNode(),h=>F(h));if(!F(g))return!1;if(u.isCollapsed())return u=n.getCordsFromCellNode(g,i.grid),d.preventDefault(),pn(i,n,u.x,u.y,d.shiftKey?"backward":"forward"),!0}return!1},_.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(t.registerCommand(_.FOCUS_COMMAND,()=>n.isSelected(),_.COMMAND_PRIORITY_HIGH)),i.listenersToRemove.add(t.registerCommand(_.SELECTION_CHANGE_COMMAND,()=>{let d=_.$getSelection();var u=_.$getPreviousSelection();if(d&&_.$isRangeSelection(d)&&!d.isCollapsed()){var g=d.anchor.getNode(),h=d.focus.getNode();g=n.isParentOf(g);var p=n.isParentOf(h);if(h=g&&!p||p&&!g,g=g&&p&&!n.isSelected(),h)return u=d.isBackward(),g=_.$createRangeSelection(),h=n.getKey(),g.anchor.set(d.anchor.key,d.anchor.offset,d.anchor.type),g.focus.set(h,u?0:n.getChildrenSize(),"element"),l=!0,_.$setSelection(g),El(t,i),!0;if(g&&({grid:g}=i,d.getNodes().filter(F).length===g.rows*g.columns)){g=_.DEPRECATED_$createGridSelection(),h=n.getKey(),p=n.getFirstChildOrThrow().getFirstChild();let E=n.getLastChildOrThrow().getLastChild();if(p!=null&&E!=null)return g.set(h,p.getKey(),E.getKey()),_.$setSelection(g),i.updateTableGridSelection(g),!0}}return d&&!d.is(u)&&(_.DEPRECATED_$isGridSelection(d)||_.DEPRECATED_$isGridSelection(u))&&i.gridSelection&&!i.gridSelection.is(u)?(_.DEPRECATED_$isGridSelection(d)&&d.gridKey===i.tableNodeKey?i.updateTableGridSelection(d):!_.DEPRECATED_$isGridSelection(d)&&_.DEPRECATED_$isGridSelection(u)&&u.gridKey===i.tableNodeKey&&i.updateTableGridSelection(null),!1):(i.hasHijackedSelectionStyles&&!n.isSelected()?(Dd(t,i),l=!1):!i.hasHijackedSelectionStyles&&n.isSelected()&&El(t,i),!1)},_.COMMAND_PRIORITY_CRITICAL)),i};z.getCellFromTarget=dr;z.getTableSelectionFromTableElement=function(n){return n.__lexicalTableSelection};const kd=z;var Wd=kd,po={},Id=Ae;function Ld(n){let e=document.createElement("input");e.type="file",e.accept=".lexical",e.addEventListener("change",t=>{if(t=t.target,t.files){t=t.files[0];let r=new FileReader;r.readAsText(t,"UTF-8"),r.onload=i=>{i.target&&n(i.target.result)}}}),e.click()}po.exportFile=function(n,e=Object.freeze({})){var t=new Date;n={editorState:n.getEditorState(),lastSaved:t.getTime(),source:e.source||"Lexical",version:"0.10.0"};{e=`${e.fileName||t.toISOString()}.lexical`,t=document.createElement("a");let r=document.body;r!==null&&(r.appendChild(t),t.style.display="none",n=JSON.stringify(n),n=new Blob([n],{type:"octet/stream"}),n=window.URL.createObjectURL(n),t.href=n,t.download=e,t.click(),window.URL.revokeObjectURL(n),t.remove())}};po.importFile=function(n){Ld(e=>{e=JSON.parse(e),e=n.parseEditorState(JSON.stringify(e.editorState)),n.setEditorState(e),n.dispatchCommand(Id.CLEAR_HISTORY_COMMAND,void 0)})};const Fd=po;var Hd=Fd,Ft={},Ze=Ae,ir=ht;class jn extends Ze.ElementNode{static getType(){return"mark"}static clone(e){return new jn(Array.from(e.__ids),e.__key)}static importDOM(){return null}static importJSON(e){let t=Or(e.ids);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),ids:this.getIDs(),type:"mark",version:1}}constructor(e,t){super(t),this.__ids=e||[]}createDOM(e){let t=document.createElement("mark");return ir.addClassNamesToElement(t,e.theme.mark),1<this.__ids.length&&ir.addClassNamesToElement(t,e.theme.markOverlap),t}updateDOM(e,t,r){e=e.__ids.length;let i=this.__ids.length;return r=r.theme.markOverlap,e!==i&&(e===1?i===2&&ir.addClassNamesToElement(t,r):i===1&&ir.removeClassNamesFromElement(t,r)),!1}hasID(e){let t=this.getIDs();for(let r=0;r<t.length;r++)if(e===t[r])return!0;return!1}getIDs(){let e=this.getLatest();return At(e)?e.__ids:[]}addID(e){var t=this.getWritable();if(At(t)){let r=t.__ids;for(t.__ids=r,t=0;t<r.length;t++)if(e===r[t])return;r.push(e)}}deleteID(e){var t=this.getWritable();if(At(t)){let r=t.__ids;for(t.__ids=r,t=0;t<r.length;t++)if(e===r[t]){r.splice(t,1);break}}}insertNewAfter(e,t=!0){return e=this.getParentOrThrow().insertNewAfter(e,t),Ze.$isElementNode(e)?(t=Or(this.__ids),e.append(t),t):null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,r){if(!Ze.$isRangeSelection(t)||r==="html")return!1;let i=t.anchor,o=t.focus;return e=i.getNode(),r=o.getNode(),t=t.isBackward()?i.offset-o.offset:o.offset-i.offset,this.isParentOf(e)&&this.isParentOf(r)&&this.getTextContent().length===t}excludeFromCopy(e){return e!=="clone"}}function Or(n){return Ze.$applyNodeReplacement(new jn(n))}function At(n){return n instanceof jn}Ft.$createMarkNode=Or;Ft.$getMarkIDs=function(n,e){for(;n!==null;){if(At(n))return n.getIDs();if(Ze.$isTextNode(n)&&e===n.getTextContentSize()){let t=n.getNextSibling();if(At(t))return t.getIDs()}n=n.getParent()}return null};Ft.$isMarkNode=At;Ft.$unwrapMarkNode=function(n){let e=n.getChildren(),t=null;for(let r=0;r<e.length;r++){let i=e[r];t===null?n.insertBefore(i):t.insertAfter(i),t=i}n.remove()};Ft.$wrapSelectionInMarkNode=function(n,e,t,r){let i=n.getNodes();var o=n.anchor.offset,l=n.focus.offset;n=i.length;let s=e?l:o;o=e?o:l;let a,c;for(l=0;l<n;l++){var f=i[l];if(Ze.$isElementNode(c)&&c.isParentOf(f))continue;var d=l===0;let g=l===n-1;var u=null;if(Ze.$isTextNode(f)){u=f.getTextContentSize();let h=d?s:0,p=g?o:u;if(h===0&&p===0)continue;f=f.splitText(h,p),u=1<f.length&&(f.length===3||d&&!g||p===u)?f[1]:f[0]}else{if(At(f))continue;Ze.$isElementNode(f)&&f.isInline()&&(u=f)}u!==null?u&&u.is(a)||(d=u.getParent(),d!=null&&d.is(a)||(c=void 0),a=d,c===void 0&&(c=(r||Or)([t]),u.insertBefore(c)),c.append(u)):c=a=void 0}Ze.$isElementNode(c)&&(e?c.selectStart():c.selectEnd())};Ft.MarkNode=jn;const bd=Ft;var Ud=bd,Gr={},La=Ae;class Jn extends La.ElementNode{static getType(){return"overflow"}static clone(e){return new Jn(e.__key)}static importJSON(){return Fa()}static importDOM(){return null}constructor(e){super(e),this.__type="overflow"}exportJSON(){return{...super.exportJSON(),type:"overflow"}}createDOM(e){let t=document.createElement("span");return e=e.theme.characterLimit,typeof e=="string"&&(t.className=e),t}updateDOM(){return!1}insertNewAfter(e,t=!0){return this.getParentOrThrow().insertNewAfter(e,t)}excludeFromCopy(){return!0}}function Fa(){return La.$applyNodeReplacement(new Jn)}Gr.$createOverflowNode=Fa;Gr.$isOverflowNode=function(n){return n instanceof Jn};Gr.OverflowNode=Jn;const Bd=Gr;var Gd=Bd;export{Ae as L,Ku as a,ht as b,rd as c,cd as d,md as e,zd as f,Wd as g,Hd as h,br as i,Gd as j,Ud as k,Wu as l,Yu as m};
