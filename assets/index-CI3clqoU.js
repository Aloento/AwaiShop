import{r as g,u as Ue,j as n,d as b,t as p,s as q,m as L,a as at,T as ie,b as ce,c as je,e as ne,f as Me,D as Re,g as Ce,h as be,i as Be,k as ve,l as W,F as j,I as S,L as Q,n as De,o as we,B as E,S as Le,p as R,A as Z,X as re,P as ot,q as Te,v as m,w as it,H as K,x as y,y as Ve,z as Fe,M as He,C as ze,E as Ie,G as ct,J as B,K as he,N as ut,O as lt,Q as dt,R as ht,U as mt,V as pt,W as xt,Y as gt,Z as ft,_ as wt,$ as yt,a0 as Pt,a1 as jt,a2 as _,a3 as Ct,a4 as bt,a5 as Ae,a6 as vt,a7 as Lt,a8 as ye,a9 as ee,aa as St,ab as te,ac as Et,ad as Tt,ae as It,af as At,ag as Ge,ah as Gt,ai as Nt,aj as kt,ak as Ot,al as $t,am as Ut,an as Mt,ao as Rt,ap as Bt,aq as Dt,ar as Vt,as as Ft,at as Ht,au as zt,av as qt,aw as se,ax as ue,ay as _t,az as Wt,aA as Qt,aB as Xt,aC as Yt}from"./vendor-B2ogZnXI.js";function me(i){return`/${i.filter(s=>s).map(s=>s.toString().replace(/^\/+/,"")).join("/")}`}const qe=g.createContext({});function V(){return g.useContext(qe)}function Jt({children:i}){const[e,s]=g.useState(()=>({Paths:location.pathname.split("/").filter(u=>u),Search:new URLSearchParams(location.search),Put:t,Nav:(...u)=>a(me(u)),Rep:(...u)=>o(me(u)),Reload:(...u)=>c(u)}));function t(u){history.replaceState(null,"",`${location.pathname}${u.size?"?":""}${u.toString()}`),e.Search=new URLSearchParams(u),s({...e})}function r(u){e.Paths=u.split("/").filter(d=>d),e.Search=new URLSearchParams(location.search),s({...e})}function a(u){history.pushState(null,"",u),r(u)}function o(u){history.replaceState(null,"",u),r(u)}function c(u){history.replaceState(null,"","/Reload"),r("/Reload"),setTimeout(()=>{const d=u.length?me(u):location.pathname;history.pushState(null,"",d),r(d)},100)}return Ue(()=>{location.pathname==="/"&&location.search.startsWith("?/")&&o(location.search.substring(2)),addEventListener("click",u=>{const d=u.target?.closest("a");if(d){if(d.origin!==location.origin){d.target="_blank";return}u.preventDefault(),a(d.pathname)}}),addEventListener("popstate",u=>{u.preventDefault(),r(location.pathname)})}),n.jsx(qe.Provider,{value:e,children:i})}class k{namespace;info;error;warn;debug;throw;constructor(...e){this.namespace=e.join(" > "),this.error=console.error.bind(this,this.baseColor(101,"error"),`
	`),this.warn=console.warn.bind(this,this.baseColor(103,"warn"),`
	`),this.info=console.info.bind(this,this.baseColor(104,"info"),`
	`),this.debug=console.debug.bind(this,this.baseColor(102,"debug"),`
	`),this.throw=console.log.bind(this,this.baseColor(105,"throw"),"↓ The Following Error is Thrown ↓")}With(...e){return new k(this.namespace,...e)}baseColor(e,s){return`\x1B[${e};30;1m ${s.toUpperCase()} \x1B[0m\x1B[100;97m ${b().format("YY-M-D H:m:s")} \x1B[1m\x1B[40;97m ${this.namespace} `}}const I={display:"flex"},Kt={flexDirection:"column"},D={...I,...Kt},cn={...I,backgroundColor:p.colorNeutralBackground1,boxShadow:p.shadow4,...q.borderRadius(p.borderRadiusMedium)},Zt={whiteSpace:"pre-line"},Se=60,Ee="1636px",es={objectFit:"cover",objectPosition:"center"},ts=L({pre:Zt});function J(i){const e=ts(),s=at(),{dispatchToast:t}=s;return{dispatch:r=>{const a=r.Error.message,o=a.indexOf("Exception:");let c=a;o!==-1&&(c=a.substring(o+10)),t(n.jsxs(ie,{children:[n.jsx(ce,{children:"Internal Error"}),n.jsx(je,{subtitle:n.jsxs(ne,{className:e.pre,children:[c,n.jsx("br",{}),"More Info, See Console"]}),children:n.jsx(ne,{className:e.pre,children:r.Message})})]}),{intent:"error",timeout:1e4}),i.error(r)},...s}}const ss=L({box:{...D,rowGap:p.spacingVerticalM},one:{...I,columnGap:p.spacingVerticalXXXL},fill:{flexGrow:1}}),Ne=new k("Setting");function _e({Open:i,Toggle:e,New:s}){const t=ss(),r=Me().instance.getActiveAccount(),[a,o]=g.useState(),[c,u]=g.useState(),[d,h]=g.useState(),[l,w]=g.useState(Array(5).fill("")),{data:f,mutate:A}=N.User.Get.useMe(Ne);g.useEffect(()=>{if(s||!f)return;const{Surname:P,Forename:x,Phone:nt,Address:rt}=f;o(P),u(x),h(nt),w(rt.split("; "))},[f]);const{dispatch:F,dispatchToast:$}=J(Ne),{run:H}=N.User.Post.useUpdate({manual:!0,onError(P,[x]){F({Message:`Failed ${s?"Create":"Update"} Info`,Error:P,Request:x})},onSuccess(P,[x]){A({...f,...x}),$(n.jsxs(ie,{children:[n.jsxs(ce,{children:["Info ",s?"Created":"Updated"]}),n.jsxs(je,{children:[x.Surname,", ",x.Forename,n.jsx("br",{}),x.Phone,n.jsx("br",{}),x.Address]})]}),{intent:"success"}),s&&(z.next(!1),z.complete(),z.closed=!0),e()}});return n.jsx(Re,{open:i,onOpenChange:e,modalType:s?"alert":"modal",children:n.jsx(Ce,{children:n.jsxs(be,{children:[n.jsx(Be,{children:s?"Welcome! Fill in your info to get started.":"Personal Information"}),n.jsxs(ve,{className:t.box,children:[n.jsxs("div",{className:t.one,children:[n.jsx(W,{content:"Surname, for shipping label",relationship:"description",withArrow:!0,children:n.jsx(j,{className:t.fill,label:"Family Name",size:"large",required:!0,children:n.jsx(S,{size:"medium",value:a,maxLength:20,onChange:(P,x)=>o(x.value)})})}),n.jsx(W,{content:"Forename, for shipping label",relationship:"description",withArrow:!0,children:n.jsx(j,{className:t.fill,label:"Given Name",size:"large",required:!0,children:n.jsx(S,{className:t.fill,size:"medium",value:c,maxLength:20,onChange:(P,x)=>u(x.value)})})})]}),n.jsxs("div",{className:t.one,children:[n.jsx(W,{content:"Up to 20 digits, starting with an internation access code",relationship:"description",withArrow:!0,children:n.jsx(j,{label:"Phone",size:"large",required:!0,children:n.jsx(S,{size:"medium",value:d,maxLength:20,onChange:(P,x)=>h(x.value)})})}),n.jsx(W,{content:`Your company email, ${r?.username}`,relationship:"description",withArrow:!0,children:n.jsx(j,{className:t.fill,label:"E-Mail",size:"large",children:n.jsx(S,{size:"medium",value:r?.username,disabled:!0})})})]}),n.jsx(Q,{size:"large",required:!0,children:"Address"}),n.jsx(j,{hint:"Street Address",children:n.jsx(S,{value:l[0],onChange:(P,x)=>{l[0]=x.value,w([...l])},maxLength:50,minLength:10})}),n.jsxs("div",{className:t.one,children:[n.jsx(j,{hint:"City",children:n.jsx(S,{value:l[1],onChange:(P,x)=>{l[1]=x.value,w([...l])},maxLength:20,minLength:2})}),n.jsx(j,{hint:"State / Province",children:n.jsx(S,{value:l[2],onChange:(P,x)=>{l[2]=x.value,w([...l])},maxLength:20,minLength:2})})]}),n.jsxs("div",{className:t.one,children:[n.jsx(j,{hint:"Country",children:n.jsx(S,{value:l[3],onChange:(P,x)=>{l[3]=x.value,w([...l])},maxLength:10,minLength:2})}),n.jsx(j,{hint:"Postal / Zip Code",children:n.jsx(S,{value:l[4],onChange:(P,x)=>{l[4]=x.value,w([...l])},maxLength:10,minLength:2})})]})]}),n.jsxs(De,{children:[!s&&n.jsx(we,{disableButtonEnhancement:!0,children:n.jsx(E,{appearance:"secondary",children:"Cancel"})}),n.jsx(E,{appearance:"primary",onClick:()=>H({EMail:r?.username,Surname:a,Forename:c,Address:l.join("; "),Phone:d}),children:"Submit"})]})]})})})}const z=new Le;function ns(){const[i,{toggle:e}]=R();return Ue(()=>z.subscribe(s=>s&&e())),n.jsx(Z,{children:n.jsx(_e,{Open:i,Toggle:e,New:!0})})}const le={Name:"AwaiShop"};class rs{constructor(e,s){this.DB=e,this.Name=s,this.Sto=e.table(s),this.Trim()}Sto;async Get(e,s){const t=await this.Sto.get(e);return t?s&&await re.waitFor(s(t))||typeof t.Exp=="number"&&t.Exp<b().unix()?(await this.Sto.delete(e),null):t.Val:null}async GetOrSet(e,s,t,r){const a=await this.Get(e,r);return a||this.Set(e,await re.waitFor(s()),t)}async Set(e,s,t){if(!s)throw TypeError("Value cannot be null");if(t===null)return await this.Sto.put({Id:e,Exp:t,Val:s}),s;const r=(t||b().add(1,"week")).unix();if(t&&r<b().unix())throw RangeError(`Expire time [${r}] cannot be less than now [${b().unix()}]`);return await this.Sto.put({Id:e,Exp:r,Val:s}),s}Trim(){return this.Sto.filter(e=>typeof e.Exp=="number"&&e.Exp<b().unix()).delete()}}const de=new re(le.Name,{autoOpen:!1});de.version(1).stores({Shared:"Id, Exp",ShopCart:"Id"});de.open();const U=new rs(de,"Shared"),pe=de.table("ShopCart"),G=new ot({auth:{clientId:"0ac3ee82-159d-407c-8539-7a9e1e3a1989",authority:"https://SoarCraft.b2clogin.com/SoarCraft.onmicrosoft.com/B2C_1_RegLog",knownAuthorities:["SoarCraft.b2clogin.com"],redirectUri:"https://awai.aloen.to/Login"},cache:{cacheLocation:"localStorage"},system:{loggerOptions:{loggerCallback(i,e){switch(i){case Te.Error:console.error(e);return;case Te.Warning:console.warn(e);return}}}}});async function We(){try{return(await G.acquireTokenSilent({scopes:[]})).idToken}catch(i){G.getActiveAccount()&&await G.loginRedirect(),console.warn(i)}}await G.initialize();await G.handleRedirectPromise();G.setActiveAccount(G.getAllAccounts()[0]);class Qe extends Error{constructor(){super("Please Login First")}}class as extends Error{constructor(){super("Server Returned False")}}class Xe extends Error{constructor(){super("Server Returned Empty Response")}}function T(i,e,s){s.useMemory||(s.setCache=a=>localStorage.setItem(i,JSON.stringify(a)),s.getCache=()=>JSON.parse(localStorage.getItem(i)||"{}"));const t=m(e,{staleTime:5e3,...s,cacheKey:i});function r(){return it(i),localStorage.removeItem(i),t.refreshAsync()}return{...t,refresh:r,refreshAsync:r}}class Ye{static async EnsureConnected(){return this.Hub.state===K.Connected?Promise.resolve():((this.Hub.state===K.Disconnected||this.Hub.state===K.Disconnecting)&&await this.Hub.start(),new Promise(e=>{const s=setInterval(()=>{this.Hub.state===K.Connected&&(clearInterval(s),e())},100)}))}static async Invoke(e,...s){return await this.EnsureConnected(),this.Hub.invoke(e,...s)}static EnsureLogin(){if(!G.getActiveAccount())throw new Qe}static EnsureTrue(e){if(!e)throw new as}static async HandleFileStream(e,s,t){const a=Math.ceil(e.size/30720);let o=0;for(;o<a;){const c=o*30720,u=Math.min(c+30720,e.size),d=e.slice(c,u),h=new FileReader,l=await new Promise((w,f)=>{h.onload=()=>w(new Uint8Array(h.result)),h.onerror=()=>f(h.error),h.readAsArrayBuffer(d)});s.next(l),t?.debug(`Sent chunk ${o+1}/${a}`),o++}s.complete()}static Index(e,s){return`${s}_${e}`}static reqPool=new Set;static async getLocker(e){if(this.reqPool.has(e))return new Promise(s=>{const t=setTimeout(()=>this.reqPool.delete(e),1e4),r=setInterval(()=>{this.reqPool.has(e)||(clearInterval(r),s(),clearTimeout(t))},100)})}static async GetVersionCache(e,s){const t=this.Index(e,s);await this.getLocker(t);const r=await U.Get(t),a=async()=>{this.reqPool.add(t);const o=await re.waitFor(this.Invoke(s,e,r?.Version)),c=u=>{U.Set(t,{...u,QueryExp:b().add(10,"s").unix()},b().add(1,"w")).finally(()=>this.reqPool.delete(t))};if(o===!0)return c(r),r;if(!o)throw U.Sto.delete(t),new Xe;return c(o),o};return r?(r.QueryExp<b().unix()&&a(),r):a()}static async GetTimeCache(e,s,t,...r){const a=this.Index(e,s);return await this.getLocker(a),await U.GetOrSet(a,()=>(this.reqPool.add(a),this.Invoke(s,...r)),t(b())).finally(()=>this.reqPool.delete(a))}static useTimeCache(e,s,t){const r=y(()=>this.Index(e,s));return T(r,(...o)=>this.Invoke(s,...o),t)}static async UpdateCache(e,s,t,r){const a=this.Index(s,t),o=await U.Get(a);if(!o)return;const c=e(o);o.QueryExp?await U.Set(a,{...c,QueryExp:b().add(1,"m").unix()},b().add(1,"w")):await U.Set(a,c,r||null)}}class O extends Ye{static Log=["|","ShopNet"];static Hub=new Ve().withUrl("https://awaishop.aloen.to:3389/Hub",{skipNegotiation:!0,transport:Fe.WebSockets,logMessageContent:!1,async accessTokenFactory(){const e=await We();return e||""}}).withAutomaticReconnect().withStatefulReconnect().withHubProtocol(new He).configureLogging(ze.Information).build()}O.Hub.on("OnNewUser",()=>{z.next(!0),console.debug("OnNewUser")});class os extends O{static Categories(){return this.GetTimeCache("","GalleryGetCategories",e=>e.add(1,"m"))}static async Products(e){return await this.GetTimeCache(e,"GalleryGetProducts",t=>t.add(1,"m"),e)}}const is={Get:os};class Je extends O{static async Get(e){if(!/^[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}$/i.test(e))throw new Error(`Invalid ObjectId ${e}`);return await this.EnsureConnected(),this.Hub.stream("ObjectStorageGet",e)}static useGet(e,s){const t=y(()=>s.With("GuidImage"));return T(e,a=>this.GetBySlice(a,t),{onError:t.error,defaultParams:[e],useMemory:!0})}static GetBySlice(e,s){const t=[];return U.GetOrSet(e,()=>new Promise((r,a)=>{this.Get(e).then(o=>o.subscribe({error(c){a(c)},next(c){t.push(c),s.debug("Received Slice",e,t.length)},complete(){r(t)}}))}))}}class cs extends O{static useDelete(e){return m(async s=>{this.EnsureLogin();const t=await this.Invoke("OrderDeleteCancelled",s);return this.EnsureTrue(t),t},e)}}class C extends Ye{static Log=["|","AdminNet"];static Hub=new Ve().withUrl("https://awaishop.aloen.to:3389/AdminHub",{skipNegotiation:!0,transport:Fe.WebSockets,logMessageContent:!1,async accessTokenFactory(){const e=await We();if(e)return e;throw new Error("Please Login First")}}).withAutomaticReconnect().withStatefulReconnect().withHubProtocol(new He).configureLogging(ze.Information).build();static Index(e,s){return`${s}_Admin_${e}`}}class Pe extends O{static order="OrderEntity";static Order(e){return this.EnsureLogin(),this.GetVersionCache(e,this.order)}static comment="CommentEntity";static Comment(e){return this.EnsureLogin(),this.GetVersionCache(e,this.comment)}}class ae extends C{static Order(e){return this.EnsureLogin(),this.GetVersionCache(e,Pe.order)}static Comment(e){return this.EnsureLogin(),this.GetVersionCache(e,Pe.comment)}}class oe extends C{static User(e){return this.EnsureLogin(),this.GetVersionCache(e,"UserEntity")}}class v extends O{static product="ProductEntity";static Product(e){return this.GetVersionCache(e,this.product)}static ProductUpdate(e,s){return this.UpdateCache(s,e,this.product)}static Lexical(e){return this.GetVersionCache(e,"LexicalEntity")}static photo="PhotoEntity";static Photo(e){return this.GetVersionCache(e,this.photo)}static usePhoto(e,s){const t=y(()=>this.Index(e,this.photo));return T(t,a=>this.Photo(a),{...s,defaultParams:[e],useMemory:!0})}static type="TypeEntity";static Type(e){return this.GetVersionCache(e,"TypeEntity")}static useType(e,s){const t=y(()=>this.Index(e,this.type));return T(t,a=>this.Type(a),{...s,defaultParams:[e],useMemory:!0})}static variant="VariantEntity";static Variant(e){return this.GetVersionCache(e,"VariantEntity")}static useVariant(e,s){const t=y(()=>this.Index(e,this.variant));return T(t,a=>this.Variant(a),{...s,defaultParams:[e],useMemory:!0})}static Combo(e){return this.GetVersionCache(e,"ComboEntity")}}class M extends v{static Log=[...super.Log,"Product","Get"];static async Basic(e,s){const t=s.With(...this.Log,"Basic"),r=await this.Product(e);if(!r)throw new Error(`Product ${e} Not Found`);const[a]=await this.PhotoList(e,!0),o=await this.Photo(a);return o?{Name:r.Name,Cover:o.ObjectId}:(t.warn(`Product ${e} has no photo`),{Name:r.Name,Cover:""})}static Limit(e){return this.Invoke("ProdGetLimit",e)}static async ComboList(e,s){const t=s.With(...this.Log,"Combo"),r=await this.GetTimeCache(e,"ProductGetComboList",o=>o.add(3,"s"),e),a=[];for(const o of r){const c=await this.Combo(o),u={};for(const d of c.Types){const h=await this.Type(d);if(!h){t.error(`[Mismatch] Type ${d} not found. Combo ${o} : Product ${e}`);continue}const l=await this.Variant(h.VariantId);if(!l){t.error(`[Mismatch] Variant ${h.VariantId} not found. Combo ${o} : Type ${d} : Product ${e}`);continue}u[l.Name]=h.Name}a.push({Id:o,Stock:c.Stock,Combo:u})}return a}static photoList="ProductGetPhotoList";static async PhotoList(e,s){if(s)return this.GetTimeCache(e,this.photoList,a=>a.add(3,"s"),e);const t=this.Index(e,this.photoList);return await this.getLocker(t),this.reqPool.add(t),await this.Invoke(this.photoList,e).finally(()=>this.reqPool.delete(t))}static usePhotoList(e,s){return T(this.Index(e,this.photoList),r=>this.PhotoList(r),{...s,defaultParams:[e]})}}class us extends Pe{static Log=[...super.Log,"Order","Get"];static async List(e){this.EnsureLogin();const s=e.With(...this.Log,"List"),t=await this.GetTimeCache("","OrderGetList",a=>a.add(1,"m")),r=[];for(const a of t){const o=await this.Order(a.OrderId);if(!o){s.warn(`[Mismatch] Order ${a.OrderId} not found`);continue}const c=[];for(const u of a.Products){const d=await v.Product(u);if(!d){s.warn(`[Mismatch] Product ${u} not found`);continue}c.push(d.Name)}r.push({Id:a.OrderId,Items:c,Quantity:a.Quantity,Status:o.Status,TrackNumber:o.TrackingNumber,OrderDate:o.CreateAt})}return r.sort((a,o)=>o.OrderDate.getTime()-a.OrderDate.getTime())}static items="OrderGetItems";static useItems(e,s,t){const r=y(()=>s.With(...this.Log,"Items")),[a,o]=g.useState(),c=(t?C:this).useTimeCache(e,this.items,{defaultParams:[e],onError:r.error});return Ie(async()=>{const u=c.data;if(!u)return;const d=[];let h=0;for(const l of u){const w={};let f=0;for(const $ of l.Types){const H=await v.Type($);if(!H){r.warn(`[Mismatch] Type ${$} not found. Order : ${e}`);continue}const P=await v.Variant(H.VariantId);if(!P){r.warn(`[Mismatch] Variant ${H.VariantId} not found. Type : ${$}, Order : ${e}`);continue}w[P.Name]=H.Name,f=P.ProductId}const A=await v.Product(f);if(!A){r.warn(`[Mismatch] Product ${f} not found. Order : ${e}`);continue}let F="";if(!t){const[$]=await M.PhotoList(f,!0);$||r.warn(`Product ${f} has no photo`),F=(await M.Photo($)).ObjectId}d.push({Id:h++,ProdId:f,Cover:F,Name:A.Name,Type:w,Quantity:l.Quantity})}o(d)},[c.data]),{...c,data:a}}static useCmts(e,s,t){const r=y(()=>s.With(...this.Log,"Cmts")),[a,o]=g.useState(),c=(t?C:this).useTimeCache(e,"OrderGetCmts",{defaultParams:[e],onError:r.error});return Ie(async()=>{const u=c.data;if(!u)return;const d=[];if(t)for(const h of u){const l=await ae.Comment(h);if(!l){r.warn(`[Mismatch] Comment ${h} not found. Order : ${e}`);continue}let w="Client";if(l.UserId){const f=await oe.User(l.UserId);f?w=f.Forename:r.warn(`[Mismatch] User ${l.UserId} not found. Order : ${e}`)}d.push({Content:l.Content,Time:l.CreateAt,User:w})}else for(const h of u){const l=await this.Comment(h);if(!l){r.warn(`[Mismatch] Comment ${h} not found. Order : ${e}`);continue}d.push({Content:l.Content,Time:l.CreateAt,User:l.Forename||"You"})}o(d.sort((h,l)=>h.Time.getTime()-l.Time.getTime()))},[c.data]),{...c,data:a}}}class ls extends O{static useNew(e){return m((s,t)=>{this.EnsureLogin();const r=s.map(a=>({ProdId:a.ProdId,Type:Object.values(a.Type),Quantity:a.Quantity}));return this.Invoke("OrderPostNew",r,t)},e)}static useAppend(e){return m(async(s,t)=>{this.EnsureLogin();const r=await this.Invoke("OrderPostAppend",s,t);return this.EnsureTrue(r),r},e)}static useCancel(e){return m((s,t)=>(this.EnsureLogin(),this.Invoke("OrderPostCancel",s,t)),e)}static useReceived(e){return m(async s=>{this.EnsureLogin();const t=await this.Invoke("OrderPostReceived",s);return this.EnsureTrue(t),t},e)}}const ds={Get:us,Post:ls,Delete:cs},hs={Get:M};class ms extends O{static Log=[...super.Log,"User","Get"];static me="UserGetMe";static useMe(e,s){const t=y(()=>e.With(...this.Log,"Me")),{dispatch:r}=J(t);return T(this.me,()=>(this.EnsureLogin(),this.GetVersionCache(0,this.me)),{manual:s,useMemory:!0,onError(o){o instanceof Xe||(o instanceof Qe?t.info(o):r({Message:"Failed to Get Your Info",Error:o,Request:""}))}})}}class ps extends O{static useUpdate(e){return m(async s=>{this.EnsureLogin();const t=await this.Invoke("UserPostUpdate",s);return this.EnsureTrue(t),t},e)}}const xs={Get:ms,Post:ps},N={Gallery:is,Product:hs,User:xs,Order:ds,Storage:Je},Ke=g.createContext({});function Y(){return g.useContext(Ke)}const xe=new k("ShopCart","Context");function gs({children:i}){const[e,s]=g.useState([]);m(async()=>{const a=await pe.toArray(),o=[];for(const c of a){const u=await N.Product.Get.Basic(c.ProdId,xe);o.push({...c,...u})}s(o)},{onError:xe.error});async function t(a){for(let o=0;o<a.length;o++)a[o].Id=o;s([...a]),await pe.clear(),await pe.bulkPut(a.map(o=>({Id:o.Id,ProdId:o.ProdId,Type:o.Type,Quantity:o.Quantity})))}async function r(a,o,c){const u=await N.Product.Get.Basic(a,xe);e.push({...u,Id:e.length,ProdId:a,Type:o,Quantity:c}),t(e)}return n.jsx(Ke.Provider,{value:{List:e,Add:r,Update:t},children:i})}const fs=L({box:{width:"-webkit-fill-available",marginTop:p.spacingVerticalXXXL,...q.padding(p.spacingVerticalXXXL,0),backgroundColor:p.colorNeutralBackgroundInverted},main:{...I,maxWidth:Ee,...q.margin(0,"auto")},logo:{width:"150px",filter:"invert(96%)"},otc:{color:"white"}});function ws(){const i=fs();return n.jsx("footer",{className:i.box,children:n.jsx("div",{className:i.main,children:n.jsx("img",{src:"/safari-pinned-tab.svg",className:i.logo})})})}const ys=L({box:{...I,flexGrow:1,height:"inherit",marginLeft:p.spacingHorizontalS,alignItems:"center"},div:{color:p.colorNeutralForegroundDisabled},link:{textDecorationLine:"unset !important"}});function Ps(){const i=ys(),{Paths:e}=V(),s=e.at(0),t=e.at(1)||"Product";return s==="Admin"&&n.jsxs("div",{className:i.box,children:[n.jsx(ne,{size:600,font:"monospace",className:i.div,children:"|"}),n.jsxs(ct,{selectedValue:t,children:[n.jsx(B,{appearance:"subtle",href:"/Admin",className:i.link,children:n.jsx(he,{value:"Product",children:"Product List"})}),n.jsx(B,{appearance:"subtle",href:"/Admin/Order",className:i.link,children:n.jsx(he,{value:"Order",children:"Order List"})}),n.jsx(B,{appearance:"subtle",href:"/Admin/User",className:i.link,children:n.jsx(he,{value:"User",children:"User List"})})]})]})}class js extends C{static async Export(e){this.EnsureLogin(),await this.EnsureConnected();const s=[];return new Promise((t,r)=>{this.Hub.stream("ExportOrder").subscribe({error(a){e.error(a),r(a)},next(a){s.push(a),e.debug("Received Slice",s.length)},complete(){e.debug("Received All Slices",s.length),t(URL.createObjectURL(new Blob(s)))}})})}}class Cs extends C{static Log=[...super.Log,"Order","Get"];static Count(){return this.EnsureLogin(),this.GetTimeCache("","OrderGetCount",e=>e.add(1,"m"))}static async List(e,s){this.EnsureLogin();const t=s.With(...this.Log,"List"),r=await this.GetTimeCache(e,"OrderGetList",o=>o.add(1,"m"),e),a=[];for(const o of r){const c=await ae.Order(o.OrderId);if(!c){t.warn(`[Mismatch] Order ${o.OrderId} not found`);continue}const u=[];for(const h of o.Products){const l=await v.Product(h);if(!l){t.warn(`[Mismatch] Product ${h} not found`);continue}u.push(l.Name)}const d=await oe.User(c.UserId);if(!d){t.error(`[Mismatch] User ${c.UserId} not found`);continue}a.push({Id:o.OrderId,Items:u,Quantity:o.Quantity,Status:c.Status,TrackNumber:c.TrackingNumber,OrderDate:c.CreateAt,User:d.Forename})}return a}static Order=ae.Order;static Export=js.Export}class bs extends C{static useAppend(e){return m(async(s,t)=>{const r=await this.Invoke("OrderPostAppend",s,t);return this.EnsureTrue(r),r},e)}static useClose(e){return m((s,t)=>this.Invoke("OrderPostClose",s,t),e)}static useCancel=this.useClose;static useShip(e){return m(async(s,t)=>{const r=await this.Invoke("OrderPostShip",s,t);return this.EnsureTrue(r),r},e)}static useAccept(e){return m(async s=>{const t=await this.Invoke("OrderPostAccept",s);return this.EnsureTrue(t),t},e)}}const vs={Get:Cs,Post:bs};class X extends C{static Log=[...super.Log,"Product","Get"];static list="ProductGetList";static useList(e){const s=y(()=>e.With(...this.Log,"List"));return ut(()=>this.GetTimeCache("",this.list,r=>r.add(5,"s")).catch(s.error))}static ListUpdate(e){return this.UpdateCache(e,"",this.list,b().add(5,"s"))}static Count(e){return this.GetTimeCache(e,"ProductGetCount",s=>s.add(5,"s"),e)}static async Name(e){const s=await M.Product(e);if(!s)throw new Error(`Product ${e} Not Found`);return s.Name}static async Category(e){const s=await M.Product(e);if(!s)throw new Error(`Product ${e} Not Found`);return s.Category}static variants="ProductGetVariants";static useVariants(e,s){const t=y(()=>this.Index(e,this.variants));return T(t,async a=>(await this.getLocker(t),this.reqPool.add(t),await this.Invoke(this.variants,a).finally(()=>this.reqPool.delete(t))),{...s,defaultParams:[e]})}static types="ProductGetTypes";static async Types(e){return this.GetTimeCache(e,this.types,s=>s.add(5,"s"),e)}static useTypes(e,s){const t=y(()=>this.Index(e,this.types));return T(t,a=>this.Invoke(this.types,a),{...s,defaultParams:[e]})}static useTypeList(e,s){const{data:t}=this.useTypes(e),r=y(()=>this.Index(e,"TypeList")),a=T(r,async()=>{if(!t)return[];const o=[];for(const c of t){const u=await v.Type(c);o.push(u)}return o},{...s,useMemory:!0});return g.useEffect(()=>{t&&a.refresh()},[t]),a}}class Ls extends C{static usePhoto({PhotoId:e,ProductId:s},t){const{mutate:r}=M.usePhotoList(s);return m(async()=>{const a=await this.Invoke("ProductDeletePhoto",e);return this.EnsureTrue(a),r(o=>o.filter(c=>c!==e)),a},{...t,manual:!0})}static useVariant(e,s){return m(async()=>{const t=await this.Invoke("ProductDeleteVariant",e);return this.EnsureTrue(t),t},{...s,manual:!0})}static useType(e,s){return m(async()=>{const t=await this.Invoke("ProductDeleteType",e);return this.EnsureTrue(t),t},{...s,manual:!0})}static useCombo(e){return m(async s=>{const t=await this.Invoke("ProductDeleteCombo",s);return this.EnsureTrue(t),t},{...e,manual:!0})}static useProduct(e){return m(async s=>{const t=await this.Invoke("ProductDeleteProduct",s);return this.EnsureTrue(t),X.ListUpdate(r=>r.filter(a=>a!==s)),t},{...e,manual:!0})}static useCategory(e){return m(async s=>{const t=await this.Invoke("ProductDetachCategory",s);return this.EnsureTrue(t),v.ProductUpdate(s,r=>(r.Category=void 0,r)),t},{...e,manual:!0})}}class Ss extends C{static Log=[...super.Log,"Product","Patch"];static useName(e){return m(async(s,t)=>{const r=await this.Invoke("ProductPatchName",s,t);return this.EnsureTrue(r),r},{...e,manual:!0})}static useCategory(e){return m(async(s,t)=>{const r=await this.Invoke("ProductPatchCategory",s,t);return this.EnsureTrue(r),r},{...e,manual:!0})}static usePhoto(e,s,t){const r=y(()=>s.With(...this.Log,"Photo")),{data:a}=v.usePhoto(e,{onError:r.error}),{mutate:o}=Je.useGet(a.ObjectId,s);return m(async c=>{if(!c.type.startsWith("image/"))throw new TypeError("File is not an image");if(c.size>10*1024*1024)throw new RangeError("File is too large, max 10MB");await this.EnsureConnected();const u=new Le,d=this.Hub.invoke("ProductPatchPhoto",e,u);await this.HandleFileStream(c,u,r),this.EnsureTrue(await d);const h=await c.arrayBuffer();return o(()=>[new Uint8Array(h)]),!0},{...t,manual:!0})}static useCaption(e,s){const{mutate:t}=v.usePhoto(e);return m(async r=>{const a=await this.Invoke("ProductPatchCaption",e,r);return this.EnsureTrue(a),t(o=>(o.Caption=r,o)),a},{...s,manual:!0})}static useVariantName(e,s){const{mutate:t}=v.useVariant(e);return m(async r=>{const a=await this.Invoke("ProductPatchVariantName",e,r);return this.EnsureTrue(a),t(o=>(o.Name=r,o)),a},{...s,manual:!0})}static useType(e,s){const{mutate:t}=v.useType(e);return m(async r=>{const a=await this.Invoke("ProductPatchType",e,r);return this.EnsureTrue(a),t(o=>(o.Name=r,o)),a},{...s,manual:!0})}static useCombo(e){return m(async(s,t,r)=>{const a=await this.Invoke("ProductPatchCombo",s,t,r);return this.EnsureTrue(a),a},{...e,manual:!0})}}let Ze;function un(i){Ze=i}class Es extends C{static Log=[...super.Log,"Product","Post"];static useCreate(e){return m(async s=>{const t=await this.Invoke("ProductPostCreate",s);return X.ListUpdate(r=>[t,...r]),t},{...e,manual:!0})}static useMovePhoto({ProductId:e,PhotoId:s},t){const{mutate:r}=M.usePhotoList(e);return m(async a=>{const o=await this.Invoke("ProductPostMovePhoto",s,a);return this.EnsureTrue(o),r(c=>{const u=c.findIndex(l=>l===s);if(u===-1)return c;const d=a?u-1:u+1;if(d<0||d>=c.length)return c;const h=c[u];return c[u]=c[d],c[d]=h,c}),o},{...t,manual:!0})}static usePhoto(e,s,t){const r=y(()=>s.With(...this.Log,"Photo")),{mutate:a}=M.usePhotoList(e);return m(async o=>{if(!o.type.startsWith("image/"))throw new TypeError("File is not an image");if(o.size>10*1024*1024)throw new RangeError("File is too large, max 10MB");const c=new Le,u=this.Invoke("ProductPostPhoto",e,c);await this.HandleFileStream(o,c,r);const d=await u;return a(h=>[...h||[],d]),d},{...t,manual:!0})}static useVariant(e,s){const{mutate:t}=X.useVariants(e);return m(async r=>{const a=await this.Invoke("ProductPostVariant",e,r);return t(o=>[a,...o||[]]),a},{...s,manual:!0})}static useType(e,s){const{mutate:t}=X.useTypes(e);return m(async r=>{const a=await this.Invoke("ProductPostType",e,r);return t(o=>[a,...o||[]]),a},{...s,manual:!0})}static useCombo(e){return m((s,t,r)=>this.Invoke("ProductPostCombo",s,t,r),{...e,manual:!0})}static useLexical(e){return m(async s=>{const t=Ze?.getEditorState();let r;t&&!t.isEmpty()&&(r=JSON.stringify(t.toJSON()));const a=await this.Invoke("ProductPostDescription",s,r);return this.EnsureTrue(a),a},{...e,manual:!0})}}const Ts={Get:X,Post:Es,Patch:Ss,Delete:Ls};class Is extends C{static useUser(e){return m(async s=>{const t=await this.Invoke("UserDeleteUser",s);return this.EnsureTrue(t),t},e)}static useAdmin(e){return m(async s=>{const t=await this.Invoke("UserDeleteAdmin",s);return this.EnsureTrue(t),t},e)}}class As extends C{static async OrderUser(e){const s=await ae.Order(e);if(!s)throw new Error(`Order ${e} not found`);const t=await oe.User(s.UserId);if(!t)throw new Error(`User ${s.UserId} not found in order ${e}`);return t}static async List(){const e=await this.GetTimeCache("","UserGetList",t=>t.add(1,"m")),s=[];for(const t of e){const r=await oe.User(t);if(!r){console.warn(`User ${t} not found`);continue}s.push({Id:t,Name:`${r.Surname}, ${r.Forename}`,EMail:r.EMail,Admin:r.Admin})}return s}}class Gs extends C{static useAdmin(e){return m(async s=>{const t=await this.Invoke("UserPostAdmin",s);return this.EnsureTrue(t),t},e)}}const Ns={Get:As,Post:Gs,Delete:Is},et={Product:Ts,Order:vs,User:Ns},ke=new k("Admin","Order","ExportButton");function ks(){const{Paths:i}=V(),e=i.at(0),s=i.at(1),{dispatch:t,dispatchToast:r}=J(ke),{run:a,loading:o}=m(()=>et.Order.Get.Export(ke),{manual:!0,onError(c,u){t({Message:"Failed Export Orders",Request:u,Error:c})},onSuccess(c){r(n.jsx(ie,{children:n.jsx(ce,{children:"Orders Exported"})}),{intent:"success"});const u=document.createElement("a");u.href=c,u.download=`AllOrders_${new Date().toISOString()}.xlsx`,u.click()}});return e==="Admin"&&s==="Order"&&n.jsx(E,{appearance:"subtle",icon:n.jsx(lt,{}),onClick:a,disabled:o,children:"Export Orders"})}const Os=L({body:D}),$s=new k("Admin","Product","AddButton");function Us(){const{Nav:i,Paths:e}=V(),s=e.at(0),t=e.at(1),r=Os(),[a,o]=g.useState(""),{dispatch:c,dispatchToast:u}=J($s),{run:d,loading:h}=et.Product.Post.useCreate({onError(l,w){c({Message:`Failed Create ${a}`,Request:w,Error:l})},onSuccess(l){u(n.jsxs(ie,{children:[n.jsx(ce,{children:"New Product Created"}),n.jsxs(je,{children:[l," ",a]})]}),{intent:"success"}),i("Admin",l),o("")}});return s==="Admin"&&!t&&n.jsxs(Re,{children:[n.jsx(we,{disableButtonEnhancement:!0,children:n.jsx(E,{appearance:"primary",icon:n.jsx(dt,{}),children:"New Product"})}),n.jsx(Ce,{children:n.jsxs(be,{children:[n.jsx(ve,{className:r.body,children:n.jsx(S,{required:!0,size:"large",value:a,maxLength:15,appearance:"underline",onChange:(l,w)=>o(w.value),contentBefore:n.jsx(ht,{children:"Give A Name"})})}),n.jsxs(De,{children:[n.jsx(we,{disableButtonEnhancement:!0,children:n.jsx(E,{appearance:"secondary",children:"Cancel"})}),n.jsx(E,{disabled:h,appearance:"primary",onClick:()=>d(a),children:"Create"})]})]})})]})}function Ms(){const{Paths:i,Search:e,Put:s}=V(),t=i.at(0),r=i.at(1);return t==="Admin"&&r==="User"&&n.jsxs(n.Fragment,{children:[n.jsx(S,{placeholder:"Search by E-Mail",contentBefore:n.jsx(mt,{}),appearance:"underline",onChange:(a,o)=>{o.value?e.set("search",o.value):e.delete("search"),s(e)}}),n.jsx(pt,{label:"Only Admin",checked:e.get("admin")==="",onChange:(a,o)=>{o.checked?e.set("admin",""):e.delete("admin"),s(e)}})]})}const Rs=new k("Avatar","Menu");function Bs(){const[i,{toggle:e}]=R(),[s,{toggle:t}]=R(),{instance:r}=Me(),[a,{set:o}]=R(!0);g.useEffect(()=>{z.subscribe(h=>o(!h))},[]);const{data:c}=N.User.Get.useMe(Rs),u=r.getActiveAccount(),d=u?.name||u?.username;return n.jsxs(n.Fragment,{children:[n.jsxs(xt,{open:i,onOpenChange:e,children:[n.jsx(gt,{children:n.jsx(ft,{size:36,active:i?"active":"unset",name:d})}),n.jsx(wt,{children:n.jsxs(yt,{children:[n.jsx(Z,{children:n.jsxs(Pt,{children:["Hi ",d]})}),n.jsx(jt,{children:n.jsx(_,{onClick:()=>r.loginRedirect(),children:"Login"})}),n.jsxs(Z,{children:[n.jsx(B,{appearance:"subtle",href:"/History",children:n.jsx(_,{children:"History"})}),c?.Admin&&n.jsx(B,{appearance:"subtle",href:"/Admin",children:n.jsx(_,{children:"Admin"})}),n.jsx(_,{onClick:t,children:"Setting"}),n.jsx(_,{onClick:()=>r.logoutRedirect(),children:"Logout"})]})]})})]}),a&&n.jsx(Z,{children:n.jsx(_e,{Open:s,Toggle:t})})]})}function tt({Items:i,Columns:e,NoHeader:s,getRowId:t}){const r=t||(a=>a.Id);return n.jsxs(Ct,{items:i||[],columns:e,getRowId:r,children:[!s&&n.jsx(bt,{children:n.jsx(Ae,{children:({renderHeaderCell:a})=>a()})}),n.jsx(vt,{children:({item:a,rowId:o})=>n.jsx(Ae,{children:({renderCell:c})=>c(a)},o)}),!i&&n.jsx(Lt,{size:48})]})}const Oe=i=>"https://placehold.co/400?text="+i+"...";function Ds({Guid:i,ParentLog:e,...s}){if(!i)return n.jsx(ye,{...s,src:Oe("Pending")});const{data:t}=N.Storage.useGet(i,e);return n.jsx(ye,{...s,src:t?URL.createObjectURL(new Blob(t)):Oe("Loading")})}const $e=L({unset:{flexBasis:"unset",flexGrow:0},img:{...es,aspectRatio:"1",marginTop:p.spacingVerticalXS,marginBottom:p.spacingVerticalXS}});function Vs(i,e,s){const t={width:`${i}px`};return ee({columnId:"Cover",renderHeaderCell:()=>{const r=$e();return n.jsx(St,{className:r.unset,children:n.jsx("div",{style:t})})},renderCell(r){const a=$e(),o=s(r);return n.jsx(te,{className:a.unset,children:n.jsx(Ds,{className:a.img,style:t,Guid:o,ParentLog:e})})}})}function Fs(i){const{List:e}=Y(),{data:s}=m(()=>N.Product.Get.Limit(i)),t=s||3;let r=0;for(const a of e)if(a.ProdId===i&&(r+=a.Quantity),r>=t)return[!0,t,r];return[!1,t,r]}const ge=L({prod:{...D,alignItems:"flex-start",justifyContent:"center"},qua:{flexBasis:"12%",flexGrow:0},act:{flexBasis:"7%",flexGrow:0}}),Hs=[ee({columnId:"Product",renderCell(i){return n.jsxs(te,{className:ge().prod,children:[n.jsx(B,{href:`/Product/${i.ProdId}`,appearance:"subtle",children:n.jsx(Et,{children:i.Name})}),n.jsx(Tt,{children:Object.values(i.Type).reduce((e,s)=>`${e} ${s},`,"")})]})}}),ee({columnId:"Quantity",renderCell(i){const{List:e,Update:s}=Y(),[t,r]=Fs(i.ProdId);return n.jsx(te,{className:ge().qua,children:n.jsx(It,{min:1,max:r,value:i.Quantity,onChange:(a,o)=>{const c=parseInt(o.value||o.displayValue);isNaN(c)||c<1||c>r||t&&c>=i.Quantity||(i.Quantity=c,s(e))}})})}}),ee({columnId:"Action",renderCell(i){const{List:e,Update:s}=Y();return n.jsx(te,{className:ge().act,children:n.jsx(E,{appearance:"subtle",icon:n.jsx(At,{}),onClick:()=>s(e.filter(t=>t.Id!==i.Id))})})}})];function st(i){return[Vs(44,i,e=>e.Cover),...Hs]}const zs=L({person:I,inf:{...D,flexBasis:"50%",rowGap:p.spacingVerticalM}});function qs({Log:i}){const e=zs(),s=y(()=>i.With("PersonaInfo")),{data:t}=N.User.Get.useMe(s);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:e.person,children:[n.jsx("div",{className:e.inf,children:n.jsx(j,{label:"Name",size:"large",children:n.jsxs(Q,{children:[t?.Surname,", ",t?.Forename]})})}),n.jsx("div",{className:e.inf,children:n.jsx(j,{label:"Phone",size:"large",children:n.jsx(Q,{children:t?.Phone})})})]}),n.jsx(j,{label:"E-Mail",size:"large",children:n.jsx(Q,{children:t?.EMail})}),n.jsx(j,{label:"Address",size:"large",children:n.jsx(Q,{children:t?.Address})})]})}const _s=L({body:{...D,rowGap:p.spacingVerticalXL},sub:{width:"fit-content",alignSelf:"flex-end"},title:{...I,alignItems:"center",columnGap:p.spacingHorizontalM}}),fe=new k("TopNavBar","ShopCart","Confirm");function Ws(){const[i,e]=g.useState(),[s,{toggle:t}]=R(),{List:r,Update:a}=Y(),{Nav:o}=V(),c=_s(),{dispatch:u,dispatchToast:d,dismissToast:h}=J(fe),l=g.useId(),{run:w}=N.Order.Post.useNew({manual:!0,onError(f,A){u({Message:"Failed Create Order",Request:A,Error:f})},onSuccess(f){d(n.jsx(Ce,{children:n.jsxs(be,{children:[n.jsxs(Be,{action:n.jsx(E,{appearance:"subtle",icon:n.jsx(Ge,{}),onClick:()=>h(l)}),className:c.title,children:[n.jsx(Gt,{size:"large",color:"success",icon:n.jsx(Nt,{})}),"Thank You!"]}),n.jsxs(ve,{children:["Your order ",f," has been placed and is being processed.",n.jsx("br",{}),n.jsx("br",{}),"You can click Avatar -",">"," History to view details,",n.jsx("br",{}),"send us an additional comment or even cancel it.",n.jsx("br",{}),n.jsx("br",{}),"You will now be taken to your order details."]})]})}),{toastId:l,timeout:5e3,onStatusChange(A,F){F.status==="unmounted"&&o("History",f)}}),t(),a([])}});return n.jsxs(n.Fragment,{children:[n.jsx(E,{appearance:"primary",onClick:t,disabled:!r.length,children:"Checkout"}),n.jsxs(kt,{open:s,onOpenChange:t,position:"end",size:"medium",modalType:"alert",children:[n.jsx(Ot,{children:n.jsx($t,{action:n.jsx(E,{appearance:"subtle",icon:n.jsx(Ge,{}),onClick:t}),children:"Confirm Order"})}),n.jsx(Ut,{children:n.jsxs("div",{className:c.body,children:[n.jsx(qs,{Log:fe}),n.jsx(tt,{Items:r,Columns:y(()=>st(fe)),NoHeader:!0}),n.jsx(j,{label:"Comment",size:"large",children:n.jsx(Mt,{value:i,onChange:(f,A)=>e(A.value),maxLength:1e3})}),n.jsx(E,{appearance:"primary",className:c.sub,disabled:!r.length,onClick:()=>w(r,i),children:"Submit"})]})})]})]})}const Qs=L({conf:{...I,width:"100%",alignItems:"center",justifyContent:"space-between",marginTop:p.spacingVerticalS,columnGap:p.spacingHorizontalL},tooltip:{backgroundColor:p.colorBrandBackground,color:p.colorNeutralForegroundInverted,...q.borderRadius(p.borderRadiusCircular)}}),Xs=new k("TopNavBar","ShopCart");function Ys(){const[i,{toggle:e}]=R(),[s,{toggle:t}]=R(),r=Qs(),{List:a}=Y();return Rt(()=>{if(i)return;t();const o=setTimeout(t,2e3);return()=>clearTimeout(o)},[a]),n.jsxs(Bt,{withArrow:!0,open:i,onOpenChange:e,children:[n.jsx(Dt,{disableButtonEnhancement:!0,children:n.jsx(W,{visible:s,withArrow:!0,content:{children:"↑",className:r.tooltip},relationship:"inaccessible",children:n.jsx(Vt,{icon:n.jsx(Ft,{}),appearance:"subtle",size:"large",checked:i})})}),n.jsxs(Ht,{children:[n.jsx(tt,{Items:a,Columns:y(()=>st(Xs)),NoHeader:!0}),n.jsxs("div",{className:r.conf,children:[a.map(o=>o.Quantity).reduce((o,c)=>o+c,0)," items in shopping cart",n.jsx(Ws,{})]})]})]})}const Js=L({navBox:{position:"fixed",top:0,width:"100%",height:`${Se}px`,...q.padding(0,p.spacingHorizontalXXXL),backgroundColor:"#fff",boxSizing:"border-box",boxShadow:p.shadow4},navBar:{...I,maxWidth:Ee,height:"100%",...q.margin(0,"auto"),alignItems:"center",justifyContent:"space-between"},logoBox:{...I,columnGap:p.spacingHorizontalL,alignItems:"center"},logoText:{color:p.colorBrandForeground2}});function Ks(){const i=Js();return n.jsx(zt,{children:n.jsx("header",{className:i.navBox,children:n.jsxs("nav",{className:i.navBar,children:[n.jsxs(B,{className:i.logoBox,href:"/",appearance:"subtle",children:[n.jsx(ye,{src:"/Awai.png",height:Se}),n.jsx(ne,{size:600,font:"monospace",className:i.logoText,children:le.Name})]}),n.jsx(Ps,{}),n.jsxs("div",{className:i.logoBox,children:[n.jsx(Us,{}),n.jsx(Ms,{}),n.jsx(ks,{}),n.jsx(Ys,{}),n.jsx(Bs,{})]})]})})})}function Zs(){const{Rep:i}=V();return setTimeout(()=>i("/"),3e3),n.jsxs(n.Fragment,{children:[n.jsxs(qt,{children:[n.jsxs("title",{children:["Redirect - Not Found - ",le.Name]}),n.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),n.jsx(se,{size:"huge",label:"Redirecting..."})]})}const en=L({body:{...D,minWidth:"375px",position:"absolute",marginTop:`${Se}px`,width:"100%",minHeight:"-webkit-fill-available",justifyContent:"space-between",backgroundColor:p.colorNeutralBackground2},content:{...D,maxWidth:Ee,width:"-webkit-fill-available",marginLeft:"auto",marginRight:"auto",paddingLeft:p.spacingHorizontalM,paddingRight:p.spacingHorizontalM,paddingTop:p.spacingVerticalXXXL}});function tn(){const i=en(),{Paths:e}=V(),s=e.at(0),t=g.useMemo(()=>{switch(s){case"Product":return n.jsx(sn,{});case"Admin":return n.jsx(nn,{});case"History":return n.jsx(rn,{});case"Login":return n.jsx(se,{size:"huge",label:"Login Redirecting..."});case"Reload":return n.jsx(se,{size:"huge",label:"Reloading..."});case"":case void 0:return n.jsx(an,{});default:return n.jsx(Zs,{})}},[s]);return n.jsxs(n.Fragment,{children:[n.jsx(Ks,{}),n.jsxs("div",{className:i.body,children:[n.jsx("main",{className:i.content,children:n.jsx(g.Suspense,{fallback:n.jsx(se,{}),children:t})}),n.jsx(ws,{})]}),n.jsx(ns,{})]})}const sn=g.lazy(()=>ue(()=>import("./index-ByY-CEv7.js"),__vite__mapDeps([0,1,2,3]))),nn=g.lazy(()=>ue(()=>import("./index-sgp7RV0W.js"),__vite__mapDeps([4,1,5,2]))),rn=g.lazy(()=>ue(()=>import("./index-DjVMOcRW.js"),__vite__mapDeps([6,1,5]))),an=g.lazy(()=>ue(()=>import("./index-CPGsSnTU.js"),__vite__mapDeps([7,1])));_t.createRoot(document.getElementById(le.Name)).render(n.jsx(Wt,{theme:Qt,children:n.jsx(Jt,{children:n.jsx(Xt,{instance:G,children:n.jsxs(gs,{children:[n.jsx(Yt,{pauseOnHover:!0}),n.jsx(tn,{})]})})})}));export{et as A,cn as B,es as C,le as D,I as F,Ds as G,N as H,k as L,Vs as M,Ye as S,D as a,Fs as b,V as c,Kt as d,tt as e,J as f,T as g,un as h,Y as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-ByY-CEv7.js","assets/vendor-B2ogZnXI.js","assets/Lazy-CTbOGn5u.js","assets/index-Cxy6evux.css","assets/index-sgp7RV0W.js","assets/Columns-ZO3PTMNg.js","assets/index-DjVMOcRW.js","assets/index-CPGsSnTU.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
